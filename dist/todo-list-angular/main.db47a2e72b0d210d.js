"use strict";(self.webpackChunktodo_list_angular=self.webpackChunktodo_list_angular||[]).push([[179],{800:()=>{function he(e){return"function"==typeof e}function hs(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const to=hs(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ps(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class wt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(he(r))try{r()}catch(s){t=s instanceof to?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{no(s)}catch(o){t=t??[],o instanceof to?t=[...t,...o.errors]:t.push(o)}}if(t)throw new to(t)}}add(t){var n;if(t&&t!==this)if(this.closed)no(t);else{if(t instanceof wt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ps(n,t)}remove(t){const{_finalizers:n}=this;n&&ps(n,t),t instanceof wt&&t._removeParent(this)}}wt.EMPTY=(()=>{const e=new wt;return e.closed=!0,e})();const fc=wt.EMPTY;function cf(e){return e instanceof wt||e&&"closed"in e&&he(e.remove)&&he(e.add)&&he(e.unsubscribe)}function no(e){he(e)?e():e.unsubscribe()}const gs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ya={setTimeout(e,t,...n){const{delegate:r}=ya;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ya;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function F_(e){ya.setTimeout(()=>{const{onUnhandledError:t}=gs;if(!t)throw e;t(e)})}function ro(){}const L_=hc("C",void 0,void 0);function hc(e,t,n){return{kind:e,value:t,error:n}}let Ni=null;function ni(e){if(gs.useDeprecatedSynchronousErrorHandling){const t=!Ni;if(t&&(Ni={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Ni;if(Ni=null,n)throw r}}else e()}class va extends wt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,cf(t)&&t.add(this)):this.destination=gc}static create(t,n,r){return new Ri(t,n,r)}next(t){this.isStopped?pc(function V_(e){return hc("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?pc(function B_(e){return hc("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?pc(L_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const uf=Function.prototype.bind;function ba(e,t){return uf.call(e,t)}class df{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){tr(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){tr(r)}else tr(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){tr(n)}}}class Ri extends va{constructor(t,n,r){let i;if(super(),he(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&gs.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ba(t.next,s),error:t.error&&ba(t.error,s),complete:t.complete&&ba(t.complete,s)}):i=t}this.destination=new df(i)}}function tr(e){gs.useDeprecatedSynchronousErrorHandling?function $_(e){gs.useDeprecatedSynchronousErrorHandling&&Ni&&(Ni.errorThrown=!0,Ni.error=e)}(e):F_(e)}function pc(e,t){const{onStoppedNotification:n}=gs;n&&ya.setTimeout(()=>n(e,t))}const gc={closed:!0,next:ro,error:function ff(e){throw e},complete:ro},_c="function"==typeof Symbol&&Symbol.observable||"@@observable";function xr(e){return e}function pf(e){return 0===e.length?xr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Pe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function j_(e){return e&&e instanceof va||function U_(e){return e&&he(e.next)&&he(e.error)&&he(e.complete)}(e)&&cf(e)}(n)?n:new Ri(n,r,i);return ni(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=gf(r))((i,s)=>{const o=new Ri({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[_c](){return this}pipe(...n){return pf(n)(this)}toPromise(n){return new(n=gf(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function gf(e){var t;return null!==(t=e??gs.Promise)&&void 0!==t?t:Promise}const H_=hs(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xe=(()=>{class e extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new _f(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new H_}next(n){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?fc:(this.currentObservers=null,s.push(n),new wt(()=>{this.currentObservers=null,ps(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Pe;return n.source=this,n}}return e.create=(t,n)=>new _f(t,n),e})();class _f extends xe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:fc}}function mc(e){return he(e?.lift)}function ot(e){return t=>{if(mc(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(e,t,n,r,i){return new G_(e,t,n,r,i)}class G_ extends va{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function be(e,t){return ot((n,r)=>{let i=0;n.subscribe(Qe(r,s=>{r.next(e.call(t,s,i++))}))})}function vf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Fn(e){return this instanceof Fn?(this.v=e,this):new Fn(e)}function Ln(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Dt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Q_=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function wI(e){return he(e?.then)}function DI(e){return he(e[_c])}function CI(e){return Symbol.asyncIterator&&he(e?.[Symbol.asyncIterator])}function EI(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const TI=function pH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function II(e){return he(e?.[TI])}function SI(e){return function io(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof Fn?Promise.resolve(f.value.v).then(c,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Fn(n.read());if(i)return yield Fn(void 0);yield yield Fn(r)}}finally{n.releaseLock()}})}function AI(e){return he(e?.getReader)}function kt(e){if(e instanceof Pe)return e;if(null!=e){if(DI(e))return function gH(e){return new Pe(t=>{const n=e[_c]();if(he(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Q_(e))return function _H(e){return new Pe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(wI(e))return function mH(e){return new Pe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,F_)})}(e);if(CI(e))return MI(e);if(II(e))return function yH(e){return new Pe(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(AI(e))return function vH(e){return MI(SI(e))}(e)}throw EI(e)}function MI(e){return new Pe(t=>{(function bH(e,t){var n,r,i,s;return function E(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Ln(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Pi(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Ft(e,t,n=1/0){return he(t)?Ft((r,i)=>be((s,o)=>t(r,s,i,o))(kt(e(r,i))),n):("number"==typeof t&&(n=t),ot((r,i)=>function wH(e,t,n,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&t.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{s&&t.next(g),c++;let _=!1;kt(n(g,u++)).subscribe(Qe(t,w=>{i?.(w),s?h(w):t.next(w)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const w=l.shift();o?Pi(t,o,()=>p(w)):p(w)}f()}catch(w){t.error(w)}}))};return e.subscribe(Qe(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,n)))}function Ca(e=1/0){return Ft(xr,e)}const mr=new Pe(e=>e.complete());function OI(e){return e&&he(e.schedule)}function J_(e){return e[e.length-1]}function wf(e){return he(J_(e))?e.pop():void 0}function vc(e){return OI(J_(e))?e.pop():void 0}function Df(e,t=0){return ot((n,r)=>{n.subscribe(Qe(r,i=>Pi(r,e,()=>r.next(i),t),()=>Pi(r,e,()=>r.complete(),t),i=>Pi(r,e,()=>r.error(i),t)))})}function Cf(e,t=0){return ot((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function NI(e,t){if(!e)throw new Error("Iterable cannot be null");return new Pe(n=>{Pi(n,t,()=>{const r=e[Symbol.asyncIterator]();Pi(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Gt(e,t){return t?function MH(e,t){if(null!=e){if(DI(e))return function EH(e,t){return kt(e).pipe(Cf(t),Df(t))}(e,t);if(Q_(e))return function IH(e,t){return new Pe(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(wI(e))return function TH(e,t){return kt(e).pipe(Cf(t),Df(t))}(e,t);if(CI(e))return NI(e,t);if(II(e))return function SH(e,t){return new Pe(n=>{let r;return Pi(n,t,()=>{r=e[TI](),Pi(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>he(r?.return)&&r.return()})}(e,t);if(AI(e))return function AH(e,t){return NI(SI(e),t)}(e,t)}throw EI(e)}(e,t):kt(e)}class yr extends xe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function J(...e){return Gt(e,vc(e))}function PI(e={}){const{connector:t=(()=>new xe),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,c=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return ot((g,_)=>{c++,!d&&!u&&f();const w=l=l??t();_.add(()=>{c--,0===c&&!d&&!u&&(a=Z_(p,i))}),w.subscribe(_),!o&&c>0&&(o=new Ri({next:m=>w.next(m),error:m=>{d=!0,f(),a=Z_(h,n,m),w.error(m)},complete:()=>{u=!0,f(),a=Z_(h,r),w.complete()}}),kt(g).subscribe(o))})(s)}}function Z_(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Ri({next:()=>{r.unsubscribe(),e()}});return kt(t(...n)).subscribe(r)}function kr(e,t){return ot((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Qe(r,l=>{i?.unsubscribe();let c=0;const u=s++;kt(e(l,u)).subscribe(i=Qe(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function OH(e,t){return e===t}function Ge(e){for(let t in e)if(e[t]===Ge)return t;throw Error("Could not find renamed property on target object.")}function Lt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Lt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function X_(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const NH=Ge({__forward_ref__:Ge});function oe(e){return e.__forward_ref__=oe,e.toString=function(){return Lt(this())},e}function ee(e){return em(e)?e():e}function em(e){return"function"==typeof e&&e.hasOwnProperty(NH)&&e.__forward_ref__===oe}function tm(e){return e&&!!e.\u0275providers}class C extends Error{constructor(t,n){super(function Tf(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function re(e){return"string"==typeof e?e:null==e?"":String(e)}function nm(e,t){throw new C(-201,!1)}function vr(e,t){null==e&&function Z(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function P(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ae(e){return{providers:e.providers||[],imports:e.imports||[]}}function If(e){return FI(e,Af)||FI(e,LI)}function FI(e,t){return e.hasOwnProperty(t)?e[t]:null}function Sf(e){return e&&(e.hasOwnProperty(rm)||e.hasOwnProperty(VH))?e[rm]:null}const Af=Ge({\u0275prov:Ge}),rm=Ge({\u0275inj:Ge}),LI=Ge({ngInjectableDef:Ge}),VH=Ge({ngInjectorDef:Ge});var me=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(me||{});let im;function Bn(e){const t=im;return im=e,t}function VI(e,t,n){const r=If(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&me.Optional?null:void 0!==t?t:void nm(Lt(e))}const Je=globalThis,bc={},cm="__NG_DI_FLAG__",Mf="ngTempTokenPath",jH=/\n/gm,UI="__source";let Ea;function ms(e){const t=Ea;return Ea=e,t}function zH(e,t=me.Default){if(void 0===Ea)throw new C(-203,!1);return null===Ea?VI(e,void 0,t):Ea.get(e,t&me.Optional?null:void 0,t)}function R(e,t=me.Default){return(function BI(){return im}()||zH)(ee(e),t)}function B(e,t=me.Default){return R(e,Of(t))}function Of(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function um(e){const t=[];for(let n=0;n<e.length;n++){const r=ee(e[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,s=me.Default;for(let o=0;o<r.length;o++){const a=r[o],l=WH(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(R(i,s))}else t.push(R(r))}return t}function wc(e,t){return e[cm]=t,e.prototype[cm]=t,e}function WH(e){return e[cm]}function xi(e){return{toString:e}.toString()}var Nf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Nf||{}),br=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(br||{});const ri={},Te=[],Rf=Ge({\u0275cmp:Ge}),dm=Ge({\u0275dir:Ge}),fm=Ge({\u0275pipe:Ge}),HI=Ge({\u0275mod:Ge}),ki=Ge({\u0275fac:Ge}),Dc=Ge({__NG_ELEMENT_ID__:Ge}),GI=Ge({__NG_ENV_ID__:Ge});function zI(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}function hm(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];qI(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function WI(e){return 3===e||4===e||6===e}function qI(e){return 64===e.charCodeAt(0)}function Cc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||KI(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function KI(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const YI="ng-template";function YH(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(n&&"class"===s&&-1!==zI(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function QI(e){return 4===e.type&&e.value!==YI}function QH(e,t,n){return t===(4!==e.type||n?e.value:YI)}function JH(e,t,n){let r=4;const i=e.attrs||[],s=function e3(e){for(let t=0;t<e.length;t++)if(WI(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!QH(e,l,n)||""===l&&1===t.length){if(Fr(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!YH(e.attrs,c,n)){if(Fr(r))return!1;o=!0}continue}const d=ZH(8&r?"class":l,i,QI(e),n);if(-1===d){if(Fr(r))return!1;o=!0;continue}if(""!==c){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==zI(h,c,0)||2&r&&c!==f){if(Fr(r))return!1;o=!0}}}}else{if(!o&&!Fr(r)&&!Fr(l))return!1;if(o&&Fr(l))continue;o=!1,r=l|1&r}}return Fr(r)||o}function Fr(e){return 0==(1&e)}function ZH(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function t3(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function JI(e,t,n=!1){for(let r=0;r<t.length;r++)if(JH(e,t[r],n))return!0;return!1}function n3(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function ZI(e,t){return e?":not("+t.trim()+")":t}function r3(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Fr(o)&&(t+=ZI(s,i),i=""),r=o,s=s||!Fr(r);n++}return""!==i&&(t+=ZI(s,i)),t}function gn(e){return xi(()=>{const t=eS(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Nf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||br.Emulated,styles:e.styles||Te,_:null,schemas:e.schemas||null,tView:null,id:""};tS(n);const r=e.dependencies;return n.directiveDefs=Pf(r,!1),n.pipeDefs=Pf(r,!0),n.id=function d3(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function a3(e){return we(e)||Xt(e)}function l3(e){return null!==e}function Fe(e){return xi(()=>({type:e.type,bootstrap:e.bootstrap||Te,declarations:e.declarations||Te,imports:e.imports||Te,exports:e.exports||Te,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function XI(e,t){if(null==e)return ri;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function O(e){return xi(()=>{const t=eS(e);return tS(t),t})}function we(e){return e[Rf]||null}function Xt(e){return e[dm]||null}function Dn(e){return e[fm]||null}function rr(e,t){const n=e[HI]||null;if(!n&&!0===t)throw new Error(`Type ${Lt(e)} does not have '\u0275mod' property.`);return n}function eS(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ri,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Te,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XI(e.inputs,t),outputs:XI(e.outputs)}}function tS(e){e.features?.forEach(t=>t(e))}function Pf(e,t){if(!e)return null;const n=t?Dn:a3;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(l3)}const gt=0,L=1,ae=2,rt=3,Lr=4,Ec=5,_n=6,Ia=7,Ct=8,ys=9,Sa=10,ie=11,Tc=12,nS=13,Aa=14,Et=15,Ic=16,Ma=17,ii=18,Sc=19,rS=20,vs=21,Fi=22,Ac=23,Mc=24,ye=25,pm=1,iS=2,si=7,Oa=9,en=11;function $n(e){return Array.isArray(e)&&"object"==typeof e[pm]}function Cn(e){return Array.isArray(e)&&!0===e[pm]}function gm(e){return 0!=(4&e.flags)}function ao(e){return e.componentOffset>-1}function kf(e){return 1==(1&e.flags)}function Br(e){return!!e.template}function _m(e){return 0!=(512&e[ae])}function lo(e,t){return e.hasOwnProperty(ki)?e[ki]:null}let tn=null,Ff=!1;function wr(e){const t=tn;return tn=e,t}const aS={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function cS(e){if(!Nc(e)||e.dirty){if(!e.producerMustRecompute(e)&&!fS(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function dS(e){e.dirty=!0,function uS(e){if(void 0===e.liveConsumerNode)return;const t=Ff;Ff=!0;try{for(const n of e.liveConsumerNode)n.dirty||dS(n)}finally{Ff=t}}(e),e.consumerMarkedDirty?.(e)}function ym(e){return e&&(e.nextProducerIndex=0),wr(e)}function vm(e,t){if(wr(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Nc(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Lf(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function fS(e){Na(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(cS(n),r!==n.version))return!0}return!1}function hS(e){if(Na(e),Nc(e))for(let t=0;t<e.producerNode.length;t++)Lf(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Lf(e,t){if(function gS(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Na(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Lf(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Na(i),i.producerIndexOfThis[r]=t}}function Nc(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Na(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let _S=null;const bS=()=>{},E3=(()=>({...aS,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:bS}))();class T3{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function nn(){return wS}function wS(e){return e.type.prototype.ngOnChanges&&(e.setInput=S3),I3}function I3(){const e=CS(this),t=e?.current;if(t){const n=e.previous;if(n===ri)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function S3(e,t,n,r){const i=this.declaredInputs[n],s=CS(e)||function A3(e,t){return e[DS]=t}(e,{previous:ri,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new T3(l&&l.currentValue,t,a===ri),e[r]=t}nn.ngInherit=!0;const DS="__ngSimpleChanges__";function CS(e){return e[DS]||null}const oi=function(e,t,n){};function Ze(e){for(;Array.isArray(e);)e=e[gt];return e}function Bf(e,t){return Ze(t[e])}function Un(e,t){return Ze(t[e.index])}function IS(e,t){return e.data[t]}function ir(e,t){const n=t[e];return $n(n)?n:n[gt]}function ws(e,t){return null==t?null:e[t]}function SS(e){e[Ma]=0}function x3(e){1024&e[ae]||(e[ae]|=1024,MS(e,1))}function AS(e){1024&e[ae]&&(e[ae]&=-1025,MS(e,-1))}function MS(e,t){let n=e[rt];if(null===n)return;n[Ec]+=t;let r=n;for(n=n[rt];null!==n&&(1===t&&1===r[Ec]||-1===t&&0===r[Ec]);)n[Ec]+=t,r=n,n=n[rt]}const X={lFrame:$S(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function RS(){return X.bindingsEnabled}function Pa(){return null!==X.skipHydrationRootTNode}function S(){return X.lFrame.lView}function De(){return X.lFrame.tView}function rn(e){return X.lFrame.contextLView=e,e[Ct]}function sn(e){return X.lFrame.contextLView=null,e}function on(){let e=PS();for(;null!==e&&64===e.type;)e=e.parent;return e}function PS(){return X.lFrame.currentTNode}function ai(e,t){const n=X.lFrame;n.currentTNode=e,n.isParent=t}function Em(){return X.lFrame.isParent}function Tm(){X.lFrame.isParent=!1}function En(){const e=X.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function xa(){return X.lFrame.bindingIndex++}function Bi(e){const t=X.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function W3(e,t){const n=X.lFrame;n.bindingIndex=n.bindingRootIndex=e,Im(t)}function Im(e){X.lFrame.currentDirectiveIndex=e}function LS(){return X.lFrame.currentQueryIndex}function Am(e){X.lFrame.currentQueryIndex=e}function K3(e){const t=e[L];return 2===t.type?t.declTNode:1===t.type?e[_n]:null}function BS(e,t,n){if(n&me.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&me.Host||(i=K3(s),null===i||(s=s[Aa],10&i.type))););if(null===i)return!1;t=i,e=s}const r=X.lFrame=VS();return r.currentTNode=t,r.lView=e,!0}function Mm(e){const t=VS(),n=e[L];X.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function VS(){const e=X.lFrame,t=null===e?null:e.child;return null===t?$S(e):t}function $S(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function US(){const e=X.lFrame;return X.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const jS=US;function Om(){const e=US();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Tn(){return X.lFrame.selectedIndex}function co(e){X.lFrame.selectedIndex=e}function at(){const e=X.lFrame;return IS(e.tView,e.selectedIndex)}let GS=!0;function Vf(){return GS}function Ds(e){GS=e}function $f(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function Uf(e,t,n){zS(e,t,3,n)}function jf(e,t,n,r){(3&e[ae])===n&&zS(e,t,n,r)}function Nm(e,t){let n=e[ae];(3&n)===t&&(n&=8191,n+=1,e[ae]=n)}function zS(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&e[Ma]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[Ma]+=65536),(a<s||-1==s)&&(nG(e,n,t,l),e[Ma]=(4294901760&e[Ma])+l+2),l++}function WS(e,t){oi(4,e,t);const n=wr(null);try{t.call(e)}finally{wr(n),oi(5,e,t)}}function nG(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];i?e[ae]>>13<e[Ma]>>16&&(3&e[ae])===t&&(e[ae]+=8192,WS(a,s)):WS(a,s)}const ka=-1;class Pc{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Pm(e){return e!==ka}function xc(e){return 32767&e}function kc(e,t){let n=function oG(e){return e>>16}(e),r=t;for(;n>0;)r=r[Aa],n--;return r}let xm=!0;function Hf(e){const t=xm;return xm=e,t}const qS=255,KS=5;let aG=0;const li={};function Gf(e,t){const n=YS(e,t);if(-1!==n)return n;const r=t[L];r.firstCreatePass&&(e.injectorIndex=t.length,km(r.data,e),km(t,null),km(r.blueprint,null));const i=zf(e,t),s=e.injectorIndex;if(Pm(i)){const o=xc(i),a=kc(i,t),l=a[L].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=i,s}function km(e,t){e.push(0,0,0,0,0,0,0,0,t)}function YS(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function zf(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=nA(i),null===r)return ka;if(n++,i=i[Aa],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ka}function Fm(e,t,n){!function lG(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Dc)&&(r=n[Dc]),null==r&&(r=n[Dc]=aG++);const i=r&qS;t.data[e+(i>>KS)]|=1<<i}(e,t,n)}function QS(e,t,n){if(n&me.Optional||void 0!==e)return e;nm()}function JS(e,t,n,r){if(n&me.Optional&&void 0===r&&(r=null),!(n&(me.Self|me.Host))){const i=e[ys],s=Bn(void 0);try{return i?i.get(t,r,n&me.Optional):VI(t,r,n&me.Optional)}finally{Bn(s)}}return QS(r,0,n)}function ZS(e,t,n,r=me.Default,i){if(null!==e){if(2048&t[ae]&&!(r&me.Self)){const o=function pG(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[ae]&&!(512&o[ae]);){const a=XS(s,o,n,r|me.Self,li);if(a!==li)return a;let l=s.parent;if(!l){const c=o[rS];if(c){const u=c.get(n,li,r);if(u!==li)return u}l=nA(o),o=o[Aa]}s=l}return i}(e,t,n,r,li);if(o!==li)return o}const s=XS(e,t,n,r,li);if(s!==li)return s}return JS(t,n,r,i)}function XS(e,t,n,r,i){const s=function dG(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Dc)?e[Dc]:void 0;return"number"==typeof t?t>=0?t&qS:hG:t}(n);if("function"==typeof s){if(!BS(t,e,r))return r&me.Host?QS(i,0,r):JS(t,n,r,i);try{let o;if(o=s(r),null!=o||r&me.Optional)return o;nm()}finally{jS()}}else if("number"==typeof s){let o=null,a=YS(e,t),l=ka,c=r&me.Host?t[Et][_n]:null;for((-1===a||r&me.SkipSelf)&&(l=-1===a?zf(e,t):t[a+8],l!==ka&&tA(r,!1)?(o=t[L],a=xc(l),t=kc(l,t)):a=-1);-1!==a;){const u=t[L];if(eA(s,a,u.data)){const d=uG(a,t,n,o,r,c);if(d!==li)return d}l=t[a+8],l!==ka&&tA(r,t[L].data[a+8]===c)&&eA(s,a,t)?(o=u,a=xc(l),t=kc(l,t)):a=-1}}return i}function uG(e,t,n,r,i,s){const o=t[L],a=o.data[e+8],u=Wf(a,o,n,null==r?ao(a)&&xm:r!=o&&0!=(3&a.type),i&me.Host&&s===a);return null!==u?uo(t,o,u,a):li}function Wf(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,u=s>>20,f=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){const h=o[l];if(h&&Br(h)&&h.type===n)return l}return null}function uo(e,t,n,r){let i=e[n];const s=t.data;if(function rG(e){return e instanceof Pc}(i)){const o=i;o.resolving&&function RH(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new C(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ke(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():re(e)}(s[n]));const a=Hf(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Bn(o.injectImpl):null;BS(e,r,me.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function tG(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=wS(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==c&&Bn(c),Hf(a),o.resolving=!1,jS()}}return i}function eA(e,t,n){return!!(n[t+(e>>KS)]&1<<e)}function tA(e,t){return!(e&me.Self||e&me.Host&&t)}class In{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ZS(this._tNode,this._lView,t,Of(r),n)}}function hG(){return new In(on(),S())}function Lm(e){return em(e)?()=>{const t=Lm(ee(e));return t&&t()}:lo(e)}function nA(e){const t=e[L],n=t.type;return 2===n?t.declTNode:1===n?e[_n]:null}function fo(e){return function cG(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(WI(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(on(),e)}const La="__parameters__";function Va(e,t,n){return xi(()=>{const r=function Bm(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(La)?l[La]:Object.defineProperty(l,La,{value:[]})[La];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Ua(e,t){e.forEach(n=>Array.isArray(n)?Ua(n,t):t(n))}function iA(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function qf(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Bc(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function sr(e,t,n){let r=ja(e,t);return r>=0?e[1|r]=n:(r=~r,function wG(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Vm(e,t){const n=ja(e,t);if(n>=0)return e[1|n]}function ja(e,t){return function sA(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const Sn=wc(Va("Optional"),8),Yf=wc(Va("SkipSelf"),4);function eh(e){return 128==(128&e.flags)}var Cs=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Cs||{});const Gm=new Map;let zG=0;const Wm="__ngContext__";function mn(e,t){$n(t)?(e[Wm]=t[Sc],function qG(e){Gm.set(e[Sc],e)}(t)):e[Wm]=t}let qm;function Km(e,t){return qm(e,t)}function Uc(e){const t=e[rt];return Cn(t)?t[rt]:t}function TA(e){return SA(e[Tc])}function IA(e){return SA(e[Lr])}function SA(e){for(;null!==e&&!Cn(e);)e=e[Lr];return e}function za(e,t,n,r,i){if(null!=r){let s,o=!1;Cn(r)?s=r:$n(r)&&(o=!0,r=r[gt]);const a=Ze(r);0===e&&null!==n?null==i?NA(t,n,a):ho(t,n,a,i||null,!0):1===e&&null!==n?ho(t,n,a,i||null,!0):2===e?function ah(e,t,n){const r=sh(e,t);r&&function f8(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function g8(e,t,n,r,i){const s=n[si];s!==Ze(n)&&za(t,e,r,s,i);for(let a=en;a<n.length;a++){const l=n[a];Hc(l[L],l,e,t,r,s)}}(t,e,s,n,i)}}function rh(e,t,n){return e.createElement(t,n)}function MA(e,t){const n=e[Oa],r=n.indexOf(t);AS(t),n.splice(r,1)}function ih(e,t){if(e.length<=en)return;const n=en+t,r=e[n];if(r){const i=r[Ic];null!==i&&i!==e&&MA(i,r),t>0&&(e[n-1][Lr]=r[Lr]);const s=qf(e,en+t);!function i8(e,t){Hc(e,t,t[ie],2,null,null),t[gt]=null,t[_n]=null}(r[L],r);const o=s[ii];null!==o&&o.detachView(s[L]),r[rt]=null,r[Lr]=null,r[ae]&=-129}return r}function Qm(e,t){if(!(256&t[ae])){const n=t[ie];t[Ac]&&hS(t[Ac]),t[Mc]&&hS(t[Mc]),n.destroyNode&&Hc(e,t,n,3,null,null),function a8(e){let t=e[Tc];if(!t)return Jm(e[L],e);for(;t;){let n=null;if($n(t))n=t[Tc];else{const r=t[en];r&&(n=r)}if(!n){for(;t&&!t[Lr]&&t!==e;)$n(t)&&Jm(t[L],t),t=t[rt];null===t&&(t=e),$n(t)&&Jm(t[L],t),n=t&&t[Lr]}t=n}}(t)}}function Jm(e,t){if(!(256&t[ae])){t[ae]&=-129,t[ae]|=256,function d8(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Pc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];oi(4,a,l);try{l.call(a)}finally{oi(5,a,l)}}else{oi(4,i,s);try{s.call(i)}finally{oi(5,i,s)}}}}}(e,t),function u8(e,t){const n=e.cleanup,r=t[Ia];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Ia]=null);const i=t[vs];if(null!==i){t[vs]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[L].type&&t[ie].destroy();const n=t[Ic];if(null!==n&&Cn(t[rt])){n!==t[rt]&&MA(n,t);const r=t[ii];null!==r&&r.detachView(e)}!function KG(e){Gm.delete(e[Sc])}(t)}}function Zm(e,t,n){return function OA(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[gt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===br.None||s===br.Emulated)return null}return Un(r,n)}}(e,t.parent,n)}function ho(e,t,n,r,i){e.insertBefore(t,n,r,i)}function NA(e,t,n){e.appendChild(t,n)}function RA(e,t,n,r,i){null!==r?ho(e,t,n,r,i):NA(e,t,n)}function sh(e,t){return e.parentNode(t)}function PA(e,t,n){return kA(e,t,n)}let Xm,ry,kA=function xA(e,t,n){return 40&e.type?Un(e,n):null};function oh(e,t,n,r){const i=Zm(e,r,t),s=t[ie],a=PA(r.parent||t[_n],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)RA(s,i,n[l],a,!1);else RA(s,i,n,a,!1);void 0!==Xm&&Xm(s,r,t,n,i)}function jc(e,t){if(null!==t){const n=t.type;if(3&n)return Un(t,e);if(4&n)return ey(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return jc(e,r);{const i=e[t.index];return Cn(i)?ey(-1,i):Ze(i)}}if(32&n)return Km(t,e)()||Ze(e[t.index]);{const r=LA(e,t);return null!==r?Array.isArray(r)?r[0]:jc(Uc(e[Et]),r):jc(e,t.next)}}return null}function LA(e,t){return null!==t?e[Et][_n].projection[t.projection]:null}function ey(e,t){const n=en+e+1;if(n<t.length){const r=t[n],i=r[L].firstChild;if(null!==i)return jc(r,i)}return t[si]}function ty(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&mn(Ze(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)ty(e,t,n.child,r,i,s,!1),za(t,e,i,a,s);else if(32&l){const c=Km(n,r);let u;for(;u=c();)za(t,e,i,u,s);za(t,e,i,a,s)}else 16&l?VA(e,t,r,n,i,s):za(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Hc(e,t,n,r,i,s){ty(n,r,e.firstChild,t,i,s,!1)}function VA(e,t,n,r,i,s){const o=n[Et],l=o[_n].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)za(t,e,i,l[c],s);else{let c=l;const u=o[rt];eh(r)&&(c.flags|=128),ty(e,t,c,u,i,s,!0)}}function $A(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function UA(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&hm(e,t,r),null!==i&&$A(e,t,i),null!==s&&function m8(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class zA{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Es(e){return e instanceof zA?e.changingThisBreaksApplicationSecurity:e}class U{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qc=new U("ENVIRONMENT_INITIALIZER"),tM=new U("INJECTOR",-1),nM=new U("INJECTOR_DEF_TYPES");class cy{get(t,n=bc){if(n===bc){const r=new Error(`NullInjectorError: No provider for ${Lt(t)}!`);throw r.name="NullInjectorError",r}return n}}function G8(...e){return{\u0275providers:iM(0,e),\u0275fromNgModule:!0}}function iM(e,...t){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Ua(t,o=>{const a=o;dh(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&sM(i,s),n}function sM(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];uy(i,s=>{t(s,r)})}}function dh(e,t,n,r){if(!(e=ee(e)))return!1;let i=null,s=Sf(e);const o=!s&&we(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=Sf(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)dh(c,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ua(s.imports,u=>{dh(u,t,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&sM(c,t)}if(!a){const c=lo(i)||(()=>new i);t({provide:i,useFactory:c,deps:Te},i),t({provide:nM,useValue:i,multi:!0},i),t({provide:qc,useValue:()=>R(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=e;uy(l,u=>{t(u,c)})}}}return i!==e&&void 0!==e.providers}function uy(e,t){for(let n of e)tm(n)&&(n=n.\u0275providers),Array.isArray(n)?uy(n,t):t(n)}const z8=Ge({provide:String,useValue:Ge});function dy(e){return null!==e&&"object"==typeof e&&z8 in e}function po(e){return"function"==typeof e}const fy=new U("Set Injector scope."),fh={},q8={};let hy;function hh(){return void 0===hy&&(hy=new cy),hy}class Hn{}class ph extends Hn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gy(t,o=>this.processProvider(o)),this.records.set(tM,Ya(void 0,this)),i.has("environment")&&this.records.set(Hn,Ya(void 0,this));const s=this.records.get(fy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(nM.multi,Te,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ms(this),r=Bn(void 0);try{return t()}finally{ms(n),Bn(r)}}get(t,n=bc,r=me.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(GI))return t[GI](this);r=Of(r);const s=ms(this),o=Bn(void 0);try{if(!(r&me.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function Z8(e){return"function"==typeof e||"object"==typeof e&&e instanceof U}(t)&&If(t);l=c&&this.injectableDefInScope(c)?Ya(py(t),fh):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&me.Self?hh():this.parent).get(t,n=r&me.Optional&&n===bc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Mf]=a[Mf]||[]).unshift(Lt(t)),s)throw a;return function qH(e,t,n,r){const i=e[Mf];throw t[UI]&&i.unshift(t[UI]),e.message=function KH(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Lt(t);if(Array.isArray(t))i=t.map(Lt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Lt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(jH,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Mf]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Bn(o),ms(s)}}resolveInjectorInitializers(){const t=ms(this),n=Bn(void 0);try{const i=this.get(qc.multi,Te,me.Self);for(const s of i)s()}finally{ms(t),Bn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Lt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(t){let n=po(t=ee(t))?t:ee(t&&t.provide);const r=function Y8(e){return dy(e)?Ya(void 0,e.useValue):Ya(function lM(e,t,n){let r;if(po(e)){const i=ee(e);return lo(i)||py(i)}if(dy(e))r=()=>ee(e.useValue);else if(function aM(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...um(e.deps||[]));else if(function oM(e){return!(!e||!e.useExisting)}(e))r=()=>R(ee(e.useExisting));else{const i=ee(e&&(e.useClass||e.provide));if(!function Q8(e){return!!e.deps}(e))return lo(i)||py(i);r=()=>new i(...um(e.deps))}return r}(e),fh)}(t);if(po(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ya(void 0,fh,!0),i.factory=()=>um(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===fh&&(n.value=q8,n.value=n.factory()),"object"==typeof n.value&&n.value&&function J8(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ee(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function py(e){const t=If(e),n=null!==t?t.factory:lo(e);if(null!==n)return n;if(e instanceof U)throw new C(204,!1);if(e instanceof Function)return function K8(e){const t=e.length;if(t>0)throw Bc(t,"?"),new C(204,!1);const n=function BH(e){return e&&(e[Af]||e[LI])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new C(204,!1)}function Ya(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function gy(e,t){for(const n of e)Array.isArray(n)?gy(n,t):n&&tm(n)?gy(n.\u0275providers,t):t(n)}const gh=new U("AppId",{providedIn:"root",factory:()=>X8}),X8="ng",cM=new U("Platform Initializer"),Ts=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uM=new U("AnimationModuleType"),dM=new U("CSP nonce",{providedIn:"root",factory:()=>function qa(){if(void 0!==ry)return ry;if(typeof document<"u")return document;throw new C(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fM=(e,t,n)=>null;function Cy(e,t,n=!1){return fM(e,t,n)}class c4{}class gM{}class d4{resolveComponentFactory(t){throw function u4(e){const t=Error(`No component factory found for ${Lt(e)}.`);return t.ngComponent=e,t}(t)}}let wh=(()=>{class t{}return t.NULL=new d4,t})();function f4(){return Za(on(),S())}function Za(e,t){return new Le(Un(e,t))}let Le=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=f4,t})();function h4(e){return e instanceof Le?e.nativeElement:e}class Xa{}let or=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function p4(){const e=S(),n=ir(on().index,e);return($n(n)?n:e)[ie]}(),t})(),g4=(()=>{var e;class t{}return(e=t).\u0275prov=P({token:e,providedIn:"root",factory:()=>null}),t})();class el{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const mM=new el("16.2.6"),Iy={};function wM(e,t=null,n=null,r){const i=DM(e,t,n,r);return i.resolveInjectorInitializers(),i}function DM(e,t=null,n=null,r,i=new Set){const s=[n||Te,G8(e)];return r=r||("object"==typeof e?void 0:Lt(e)),new ph(s,t||hh(),r||null,i)}let Rt=(()=>{var e;class t{static create(r,i){if(Array.isArray(r))return wM({name:""},i,r,"");{const s=r.name??"";return wM({name:s},r.parent,r.providers,s)}}}return(e=t).THROW_IF_NOT_FOUND=bc,e.NULL=new cy,e.\u0275prov=P({token:e,providedIn:"any",factory:()=>R(tM)}),e.__NG_ELEMENT_ID__=-1,t})();function Ay(e){return e.ngOriginalError}class $i{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ay(t);for(;n&&Ay(n);)n=Ay(n);return n||null}}function Oy(e){return t=>{setTimeout(e,void 0,t)}}const z=class D4 extends xe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Oy(s),i&&(i=Oy(i)),o&&(o=Oy(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof wt&&t.add(a),a}};function EM(...e){}class de{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new z(!1),this.onMicrotaskEmpty=new z(!1),this.onStable=new z(!1),this.onError=new z(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function C4(){const e="function"==typeof Je.requestAnimationFrame;let t=Je[e?"requestAnimationFrame":"setTimeout"],n=Je[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function I4(e){const t=()=>{!function T4(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Je,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ry(e),e.isCheckStableRunning=!0,Ny(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ry(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function A4(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return TM(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),IM(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return TM(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),IM(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Ry(e),Ny(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!de.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(de.isInAngularZone())throw new C(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,E4,EM,EM);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const E4={};function Ny(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ry(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function TM(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function IM(e){e._nesting--,Ny(e)}class S4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new z,this.onMicrotaskEmpty=new z,this.onStable=new z,this.onError=new z}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const SM=new U("",{providedIn:"root",factory:AM});function AM(){const e=B(de);let t=!0;return function RI(...e){const t=vc(e),n=function CH(e,t){return"number"==typeof J_(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?kt(r[0]):Ca(n)(Gt(r,t)):mr}(new Pe(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Pe(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const o=e.onUnstable.subscribe(()=>{de.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(PI()))}function Ui(e){return e instanceof Function?e():e}let Py=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(e=t).\u0275prov=P({token:e,providedIn:"root",factory:()=>new e}),t})();function Qc(e){for(;e;){e[ae]|=64;const t=Uc(e);if(_m(e)&&!t)return e;e=t}return null}const PM=new U("",{providedIn:"root",factory:()=>!1});let Ch=null;function LM(e,t){return e[t]??$M()}function BM(e,t){const n=$M();n.producerNode?.length&&(e[t]=Ch,n.lView=e,Ch=VM())}const B4={...aS,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Qc(e.lView)},lView:null};function VM(){return Object.create(B4)}function $M(){return Ch??=VM(),Ch}const se={};function H(e){UM(De(),S(),Tn()+e,!1)}function UM(e,t,n,r){if(!r)if(3==(3&t[ae])){const s=e.preOrderCheckHooks;null!==s&&Uf(t,s,n)}else{const s=e.preOrderHooks;null!==s&&jf(t,s,0,n)}co(n)}function y(e,t=me.Default){const n=S();return null===n?R(e,t):ZS(on(),n,ee(e),t)}function Eh(e,t,n,r,i,s,o,a,l,c,u){const d=t.blueprint.slice();return d[gt]=i,d[ae]=140|r,(null!==c||e&&2048&e[ae])&&(d[ae]|=2048),SS(d),d[rt]=d[Aa]=e,d[Ct]=n,d[Sa]=o||e&&e[Sa],d[ie]=a||e&&e[ie],d[ys]=l||e&&e[ys]||null,d[_n]=s,d[Sc]=function WG(){return zG++}(),d[Fi]=u,d[rS]=c,d[Et]=2==t.type?e[Et]:d,d}function rl(e,t,n,r,i){let s=e.data[t];if(null===s)s=function xy(e,t,n,r,i){const s=PS(),o=Em(),l=e.data[t]=function W4(e,t,n,r,i,s){let o=t?t.injectorIndex:-1,a=0;return Pa()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,n,r,i),function z3(){return X.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Rc(){const e=X.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ai(s,!0),s}function Jc(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function HM(e,t,n,r,i){const s=LM(t,Ac),o=Tn(),a=2&r;try{co(-1),a&&t.length>ye&&UM(e,t,ye,!1),oi(a?2:0,i);const c=a?s:null,u=ym(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{vm(c,u)}}finally{a&&null===t[Ac]&&BM(t,Ac),co(o),oi(a?3:1,i)}}function ky(e,t,n){if(gm(t)){const r=wr(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{wr(r)}}}function Fy(e,t,n){RS()&&(function X4(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;ao(n)&&function o5(e,t,n){const r=Un(t,e),i=GM(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Th(e,Eh(e,i,null,o,r,t,null,e[Sa].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Gf(n,t),mn(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],c=uo(t,e,a,n);mn(c,t),null!==o&&a5(0,a-i,c,l,0,o),Br(l)&&(ir(n.index,t)[Ct]=uo(t,e,a,n))}}(e,t,n,Un(n,t)),64==(64&n.flags)&&YM(e,t,n))}function Ly(e,t,n=Un){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function GM(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=By(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function By(e,t,n,r,i,s,o,a,l,c,u){const d=ye+r,f=d+i,h=function $4(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:se);return n}(d,f),p="function"==typeof c?c():c;return h[L]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let zM=e=>null;function WM(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?qM(n,t,i,s):r.hasOwnProperty(i)&&qM(n,t,r[i],s)}return n}function qM(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function ar(e,t,n,r,i,s,o,a){const l=Un(t,n);let u,c=t.inputs;!a&&null!=c&&(u=c[r])?(Hy(e,n,u,r,i),ao(t)&&function Y4(e,t){const n=ir(t,e);16&n[ae]||(n[ae]|=64)}(n,t.index)):3&t.type&&(r=function K4(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(l,r,i))}function Vy(e,t,n,r){if(RS()){const i=null===r?null:{"":-1},s=function t5(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(JI(t,o.selectors,!1))if(r||(r=[]),Br(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),$y(e,t,a.length)}else r.unshift(o),$y(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&KM(e,t,n,o,i,a),i&&function n5(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new C(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=Cc(n.mergedAttrs,n.attrs)}function KM(e,t,n,r,i,s){for(let c=0;c<r.length;c++)Fm(Gf(n,t),e,r[c].type);!function i5(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Jc(e,t,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=Cc(n.mergedAttrs,u.hostAttrs),s5(e,n,t,l,u),r5(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function q4(e,t,n){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;l=WM(d.inputs,u,l,f?f.inputs:null),c=WM(d.outputs,u,c,p);const g=null===l||null===o||QI(t)?null:l5(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,s)}function YM(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function q3(){return X.lFrame.currentDirectiveIndex}();try{co(s);for(let a=r;a<i;a++){const l=e.data[a],c=t[a];Im(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&e5(l,c)}}finally{co(-1),Im(o)}}function e5(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function $y(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function r5(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Br(t)&&(n[""]=e)}}function s5(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=lo(i.type)),o=new Pc(s,Br(i),y);e.blueprint[r]=o,n[r]=o,function J4(e,t,n,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function Z4(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(e,t,r,Jc(e,n,i.hostVars,se),i)}function ci(e,t,n,r,i,s){const o=Un(e,t);!function Uy(e,t,n,r,i,s,o){if(null==s)e.removeAttribute(t,i,n);else{const a=null==o?re(s):o(s,r||"",i);e.setAttribute(t,i,a,n)}}(t[ie],o,s,e.value,n,r,i)}function a5(e,t,n,r,i,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)QM(r,n,o[a++],o[a++],o[a++])}function QM(e,t,n,r,i){const s=wr(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{wr(s)}}function l5(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function JM(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function ZM(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=e.data[s];Am(n[r]),o.contentQueries(2,t[s],s)}}}function Th(e,t){return e[Tc]?e[nS][Lr]=t:e[Tc]=t,e[nS]=t,t}function jy(e,t,n){Am(0);const r=wr(null);try{t(e,n)}finally{wr(r)}}function XM(e){return e[Ia]||(e[Ia]=[])}function eO(e){return e.cleanup||(e.cleanup=[])}function nO(e,t){const n=e[ys],r=n?n.get($i,null):null;r&&r.handleError(t)}function Hy(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];QM(e.data[o],t[o],r,a,i)}}function c5(e,t){const n=ir(t,e),r=n[L];!function u5(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[gt];null!==i&&null===n[Fi]&&(n[Fi]=Cy(i,n[ys])),Gy(r,n,n[Ct])}function Gy(e,t,n){Mm(t);try{const r=e.viewQuery;null!==r&&jy(1,r,n);const i=e.template;null!==i&&HM(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ZM(e,t),e.staticViewQueries&&jy(2,e.viewQuery,n);const s=e.components;null!==s&&function d5(e,t){for(let n=0;n<t.length;n++)c5(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ae]&=-5,Om()}}let rO=(()=>{var e;class t{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function C3(e,t,n){const r=Object.create(E3);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>dS(r),run:()=>{if(r.dirty=!1,r.hasRun&&!fS(r))return;r.hasRun=!0;const o=ym(r);try{r.cleanupFn(),r.cleanupFn=bS,r.fn(i)}finally{vm(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let l;this.all.add(a),a.notify();const c=()=>{a.cleanup(),l?.(),this.all.delete(a),this.queue.delete(a)};return l=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(e=t).\u0275prov=P({token:e,providedIn:"root",factory:()=>new e}),t})();function Ih(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=X_(i,a):2==s&&(r=X_(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Zc(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(Ze(s)),Cn(s)&&iO(s,r);const o=n.type;if(8&o)Zc(e,t,n.child,r);else if(32&o){const a=Km(n,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=LA(t,n);if(Array.isArray(a))r.push(...a);else{const l=Uc(t[Et]);Zc(l[L],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function iO(e,t){for(let n=en;n<e.length;n++){const r=e[n],i=r[L].firstChild;null!==i&&Zc(r[L],r,i,t)}e[si]!==e[gt]&&t.push(e[si])}function Sh(e,t,n,r=!0){const i=t[Sa],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{sO(e,t,e.template,n)}catch(l){throw r&&nO(t,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function sO(e,t,n,r){const i=t[ae];if(256!=(256&i)){t[Sa].effectManager?.flush(),Mm(t);try{SS(t),function kS(e){return X.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&HM(e,t,n,2,r);const o=3==(3&i);if(o){const c=e.preOrderCheckHooks;null!==c&&Uf(t,c,null)}else{const c=e.preOrderHooks;null!==c&&jf(t,c,0,null),Nm(t,0)}if(function p5(e){for(let t=TA(e);null!==t;t=IA(t)){if(!t[iS])continue;const n=t[Oa];for(let r=0;r<n.length;r++){x3(n[r])}}}(t),oO(t,2),null!==e.contentQueries&&ZM(e,t),o){const c=e.contentCheckHooks;null!==c&&Uf(t,c)}else{const c=e.contentHooks;null!==c&&jf(t,c,1),Nm(t,1)}!function V4(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=LM(t,Mc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)co(~s);else{const o=s,a=n[++i],l=n[++i];W3(a,o),r.dirty=!1;const c=ym(r);try{l(2,t[o])}finally{vm(r,c)}}}}finally{null===t[Mc]&&BM(t,Mc),co(-1)}}(e,t);const a=e.components;null!==a&&lO(t,a,0);const l=e.viewQuery;if(null!==l&&jy(2,l,r),o){const c=e.viewCheckHooks;null!==c&&Uf(t,c)}else{const c=e.viewHooks;null!==c&&jf(t,c,2),Nm(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[ae]&=-73,AS(t)}finally{Om()}}}function oO(e,t){for(let n=TA(e);null!==n;n=IA(n))for(let r=en;r<n.length;r++)aO(n[r],t)}function g5(e,t,n){aO(ir(t,e),n)}function aO(e,t){if(!function R3(e){return 128==(128&e[ae])}(e))return;const n=e[L],r=e[ae];if(80&r&&0===t||1024&r||2===t)sO(n,e,n.template,e[Ct]);else if(e[Ec]>0){oO(e,1);const i=n.components;null!==i&&lO(e,i,1)}}function lO(e,t,n){for(let r=0;r<t.length;r++)g5(e,t[r],n)}class Xc{get rootNodes(){const t=this._lView,n=t[L];return Zc(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ct]}set context(t){this._lView[Ct]=t}get destroyed(){return 256==(256&this._lView[ae])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[rt];if(Cn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(ih(t,r),qf(n,r))}this._attachedToViewContainer=!1}Qm(this._lView[L],this._lView)}onDestroy(t){!function OS(e,t){if(256==(256&e[ae]))throw new C(911,!1);null===e[vs]&&(e[vs]=[]),e[vs].push(t)}(this._lView,t)}markForCheck(){Qc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ae]&=-129}reattach(){this._lView[ae]|=128}detectChanges(){Sh(this._lView[L],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function o8(e,t){Hc(e,t,t[ie],2,null,null)}(this._lView[L],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=t}}class _5 extends Xc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Sh(t[L],t,t[Ct],!1)}checkNoChanges(){}get context(){return null}}class cO extends wh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=we(t);return new eu(n,this.ngModule)}}function uO(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class y5{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Of(r);const i=this.injector.get(t,Iy,r);return i!==Iy||n===Iy?i:this.parentInjector.get(t,n,r)}}class eu extends gM{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=uO(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return uO(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function i3(e){return e.map(r3).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof Hn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new y5(t,s):t,a=o.get(Xa,null);if(null===a)throw new C(407,!1);const d={rendererFactory:a,sanitizer:o.get(g4,null),effectManager:o.get(rO,null),afterRenderEventManager:o.get(Py,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function U4(e,t,n,r){const s=r.get(PM,!1)||n===br.ShadowDom,o=e.selectRootElement(t,s);return function j4(e){zM(e)}(o),o}(f,r,this.componentDef.encapsulation,o):rh(f,h,function m5(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let m=null;null!==p&&(m=Cy(p,o,!0));const I=By(0,null,null,1,0,null,null,null,null,null,null),T=Eh(null,I,null,w,null,null,d,f,o,null,m);let x,G;Mm(T);try{const K=this.componentDef;let ne,ve=null;K.findHostDirectiveDefs?(ne=[],ve=new Map,K.findHostDirectiveDefs(K,ne,ve),ne.push(K)):ne=[K];const Ee=function b5(e,t){const n=e[L],r=ye;return e[r]=t,rl(n,r,2,"#host",null)}(T,p),Mt=function w5(e,t,n,r,i,s,o){const a=i[L];!function D5(e,t,n,r){for(const i of e)t.mergedAttrs=Cc(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Ih(t,t.mergedAttrs,!0),null!==n&&UA(r,n,t))}(r,e,t,o);let l=null;null!==t&&(l=Cy(t,i[ys]));const c=s.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Eh(i,GM(n),null,u,i[e.index],e,s,c,null,null,l);return a.firstCreatePass&&$y(a,e,r.length-1),Th(i,d),i[e.index]=d}(Ee,p,K,ne,T,d,f);G=IS(I,ye),p&&function E5(e,t,n,r){if(r)hm(e,n,["ng-version",mM.full]);else{const{attrs:i,classes:s}=function s3(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!Fr(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&hm(e,n,i),s&&s.length>0&&$A(e,n,s.join(" "))}}(f,K,p,r),void 0!==n&&function T5(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(G,this.ngContentSelectors,n),x=function C5(e,t,n,r,i,s){const o=on(),a=i[L],l=Un(o,i);KM(a,i,o,n,null,r);for(let u=0;u<n.length;u++)mn(uo(i,a,o.directiveStart+u,o),i);YM(a,i,o),l&&mn(l,i);const c=uo(i,a,o.directiveStart+o.componentOffset,o);if(e[Ct]=i[Ct]=c,null!==s)for(const u of s)u(c,t);return ky(a,o,e),c}(Mt,K,ne,ve,T,[I5]),Gy(I,T,null)}finally{Om()}return new v5(this.componentType,x,Za(G,T),T,G)}}class v5 extends c4{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new _5(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;Hy(s[L],s,i,t,n),this.previousInputValues.set(t,n),Qc(ir(this._tNode.index,s))}}get injector(){return new In(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function I5(){const e=on();$f(S()[L],e)}function tu(e){return t=>{t.findHostDirectiveDefs=fO,t.hostDirectives=(Array.isArray(e)?e:e()).map(n=>"function"==typeof n?{directive:ee(n),inputs:ri,outputs:ri}:{directive:ee(n.directive),inputs:hO(n.inputs),outputs:hO(n.outputs)})}}function fO(e,t,n){if(null!==e.hostDirectives)for(const r of e.hostDirectives){const i=Xt(r.directive);x5(i.declaredInputs,r.inputs),fO(i,t,n),n.set(i,r),t.push(i)}}function hO(e){if(void 0===e||0===e.length)return ri;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function x5(e,t){for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=e[n])}function Mh(e){return!!zy(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function zy(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ui(e,t,n){return e[t]=n}function yn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ve(e,t,n,r){const i=S();return yn(i,xa(),t)&&(De(),ci(at(),i,e,t,n,r)),Ve}let AO=function MO(e,t,n,r){return Ds(!0),t[ie].createComment("")};function _t(e){return function Ra(e,t){return e[t]}(function G3(){return X.lFrame.contextLView}(),ye+e)}function V(e,t,n){const r=S();return yn(r,xa(),t)&&ar(De(),at(),r,e,t,r[ie],n,!1),V}function Jy(e,t,n,r,i){const o=i?"class":"style";Hy(e,n,t.inputs[o],o,r)}function W(e,t,n,r){const i=S(),s=De(),o=ye+e,a=i[ie],l=s.firstCreatePass?function iz(e,t,n,r,i,s){const o=t.consts,l=rl(t,e,2,r,ws(o,i));return Vy(t,n,l,ws(o,s)),null!==l.attrs&&Ih(l,l.attrs,!1),null!==l.mergedAttrs&&Ih(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,n,r):s.data[o],c=OO(s,i,l,a,t,e);i[o]=c;const u=kf(l);return ai(l,!0),UA(a,c,l),32!=(32&l.flags)&&Vf()&&oh(s,i,c,l),0===function F3(){return X.lFrame.elementDepthCount}()&&mn(c,i),function L3(){X.lFrame.elementDepthCount++}(),u&&(Fy(s,i,l),ky(s,l,i)),null!==r&&Ly(i,l),W}function Q(){let e=on();Em()?Tm():(e=e.parent,ai(e,!1));const t=e;(function V3(e){return X.skipHydrationRootTNode===e})(t)&&function H3(){X.skipHydrationRootTNode=null}(),function B3(){X.lFrame.elementDepthCount--}();const n=De();return n.firstCreatePass&&($f(n,e),gm(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function iG(e){return 0!=(8&e.flags)}(t)&&Jy(n,t,S(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function sG(e){return 0!=(16&e.flags)}(t)&&Jy(n,t,S(),t.stylesWithoutHost,!1),Q}function an(e,t,n,r){return W(e,t,n,r),Q(),an}let OO=(e,t,n,r,i,s)=>(Ds(!0),rh(r,i,function HS(){return X.lFrame.currentNamespace}()));function Gn(){return S()}function ou(e){return!!e&&"function"==typeof e.then}function PO(e){return!!e&&"function"==typeof e.subscribe}function ce(e,t,n,r){const i=S(),s=De(),o=on();return function kO(e,t,n,r,i,s,o){const a=kf(r),c=e.firstCreatePass&&eO(e),u=t[Ct],d=XM(t);let f=!0;if(3&r.type||o){const g=Un(r,t),_=o?o(g):g,w=d.length,m=o?T=>o(Ze(T[r.index])):r.index;let I=null;if(!o&&a&&(I=function uz(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[Ia],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,f=!1;else{s=LO(r,t,u,s,!1);const T=n.listen(_,i,s);d.push(s,T),c&&c.push(i,m,w,w+1)}}else s=LO(r,t,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const x=t[p[_]][p[_+1]].subscribe(s),G=d.length;d.push(s,x),c&&c.push(i,r.index,G,-(G+1))}}}(s,i,i[ie],o,e,t,r),ce}function FO(e,t,n,r){try{return oi(6,t,n),!1!==n(r)}catch(i){return nO(e,i),!1}finally{oi(7,t,n)}}function LO(e,t,n,r,i){return function s(o){if(o===Function)return r;Qc(e.componentOffset>-1?ir(e.index,t):t);let l=FO(t,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=FO(t,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function te(e=1){return function Y3(e){return(X.lFrame.contextLView=function Q3(e,t){for(;e>0;)t=t[Aa],e--;return t}(e,X.lFrame.contextLView))[Ct]}(e)}function dz(e,t){let n=null;const r=function XH(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?JI(e,s,!0):n3(r,s))return i}else n=i}return n}function kh(e,t){return e<<17|t<<2}function Is(e){return e>>17&32767}function tv(e){return 2|e}function _o(e){return(131068&e)>>2}function nv(e,t){return-131069&e|t<<2}function rv(e){return 1|e}function KO(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?Is(s):_o(s),l=!1;for(;0!==a&&(!1===l||o);){const u=e[a+1];mz(e[a],t)&&(l=!0,e[a+1]=r?rv(u):tv(u)),a=r?Is(u):_o(u)}l&&(e[n+1]=r?tv(s):rv(s))}function mz(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ja(e,t)>=0}const Vt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function YO(e){return e.substring(Vt.key,Vt.keyEnd)}function QO(e,t){const n=Vt.textEnd;return n===t?-1:(t=Vt.keyEnd=function wz(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Vt.key=t,n),hl(e,t,n))}function hl(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Ie(e,t){return function Vr(e,t,n,r){const i=S(),s=De(),o=Bi(2);s.firstUpdatePass&&rN(s,e,o,r),t!==se&&yn(i,o,t)&&sN(s,s.data[Tn()],i,i[ie],e,i[o+1]=function Rz(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Lt(Es(e)))),e}(t,n),r,o)}(e,t,null,!0),Ie}function mo(e){!function $r(e,t,n,r){const i=De(),s=Bi(2);i.firstUpdatePass&&rN(i,null,s,r);const o=S();if(n!==se&&yn(o,s,n)){const a=i.data[Tn()];if(aN(a,r)&&!nN(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=X_(l,n||"")),Jy(i,a,o,n,r)}else!function Nz(e,t,n,r,i,s,o,a){i===se&&(i=Te);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const f=l<i.length?i[l+1]:void 0,h=c<s.length?s[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,f!==h&&(p=d,g=h)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=h),null!==p&&sN(e,t,n,r,p,g,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}(i,a,o,o[ie],o[s+1],o[s+1]=function Mz(e,t,n){if(null==n||""===n)return Te;const r=[],i=Es(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}(Oz,fi,e,!0)}function fi(e,t){for(let n=function vz(e){return function ZO(e){Vt.key=0,Vt.keyEnd=0,Vt.value=0,Vt.valueEnd=0,Vt.textEnd=e.length}(e),QO(e,hl(e,0,Vt.textEnd))}(t);n>=0;n=QO(t,n))sr(e,YO(t),!0)}function nN(e,t){return t>=e.expandoStartIndex}function rN(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Tn()],o=nN(e,n);aN(s,r)&&null===t&&!o&&(t=!1),t=function Tz(e,t,n,r){const i=function Sm(e){const t=X.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=au(n=iv(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=iv(i,e,t,n,r),null===s){let l=function Iz(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==_o(r))return e[Is(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=iv(null,e,t,l[1],r),l=au(l,t.attrs,r),function Sz(e,t,n,r){e[Is(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else s=function Az(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=au(r,e[s].hostAttrs,n);return au(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function gz(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=Is(o),l=_o(o);e[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||ja(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const f=Is(e[a+1]);e[r+1]=kh(f,a),0!==f&&(e[f+1]=nv(e[f+1],r)),e[a+1]=function hz(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=kh(a,0),0!==a&&(e[a+1]=nv(e[a+1],r)),a=r;else e[r+1]=kh(l,0),0===a?a=r:e[l+1]=nv(e[l+1],r),l=r;c&&(e[r+1]=tv(e[r+1])),KO(e,u,r,!0),KO(e,u,r,!1),function _z(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&ja(s,t)>=0&&(n[r+1]=rv(n[r+1]))}(t,u,e,r,s),o=kh(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function iv(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=au(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function au(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),sr(e,o,!!n||t[++s]))}return void 0===e?null:e}function Oz(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&sr(e,r,n)}function sN(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],u=function pz(e){return 1==(1&e)}(c)?oN(l,t,n,i,_o(c),o):void 0;Fh(u)||(Fh(s)||function fz(e){return 2==(2&e)}(c)&&(s=oN(l,null,n,i,a,o)),function _8(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Cs.DashCase;null==i?e.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cs.Important),e.setStyle(n,r,i,s))}}(r,o,Bf(Tn(),n),i,s))}function oN(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=n[i+1];f===se&&(f=d?Te:void 0);let h=d?Vm(f,r):u===r?f:void 0;if(c&&!Fh(h)&&(h=Vm(l,r)),Fh(h)&&(a=h,o))return a;const p=e[i+1];i=o?Is(p):_o(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Vm(l,r))}return a}function Fh(e){return void 0!==e}function aN(e,t){return 0!=(e.flags&(t?8:16))}function lt(e,t=""){const n=S(),r=De(),i=e+ye,s=r.firstCreatePass?rl(r,i,1,t,null):r.data[i],o=lN(r,n,s,t,e);n[i]=o,Vf()&&oh(r,n,o,s),ai(s,!1)}let lN=(e,t,n,r,i)=>(Ds(!0),function nh(e,t){return e.createText(t)}(t[ie],r));function hi(e){return yo("",e,""),hi}function yo(e,t,n){const r=S(),i=function sl(e,t,n,r){return yn(e,xa(),n)?t+re(n)+r:se}(r,e,t,n);return i!==se&&function ji(e,t,n){const r=Bf(t,e);!function AA(e,t,n){e.setValue(t,n)}(e[ie],r,n)}(r,Tn(),i),yo}function Er(e,t,n){const r=S();return yn(r,xa(),t)&&ar(De(),at(),r,e,t,r[ie],n,!0),Er}const gl="en-US";let MN=gl;class bo{}class tR{}class dv extends bo{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cO(this);const i=rr(t);this._bootstrapComponents=Ui(i.bootstrap),this._r3Injector=DM(t,n,[{provide:bo,useValue:this},{provide:wh,useValue:this.componentFactoryResolver},...r],Lt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fv extends tR{constructor(t){super(),this.moduleType=t}create(t){return new dv(this.moduleType,t,[])}}class nR extends bo{constructor(t){super(),this.componentFactoryResolver=new cO(this),this.instance=null;const n=new ph([...t.providers,{provide:bo,useValue:this},{provide:wh,useValue:this.componentFactoryResolver}],t.parent||hh(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function hv(e,t,n=null){return new nR({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let t6=(()=>{var e;class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=iM(0,r.type),s=i.length>0?hv([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(R(Hn))}),t})();function Tr(e){e.getStandaloneInjector=t=>t.get(t6).getOrCreateStandaloneInjector(e)}function pu(e,t,n){const r=En()+e,i=S();return i[r]===se?ui(i,r,n?t.call(n):t()):function nu(e,t){return e[t]}(i,r)}function wo(e,t,n,r){return function cR(e,t,n,r,i,s){const o=t+n;return yn(e,o,i)?ui(e,o+1,s?r.call(s,i):r(i)):function _u(e,t){const n=e[t];return n===se?void 0:n}(e,o+1)}(S(),En(),e,t,n,r)}function C6(){return this._results[Symbol.iterator]()}class _v{get changes(){return this._changes||(this._changes=new z)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=_v.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=C6)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function Dr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function vG(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function T6(e,t,n,r=!0){const i=t[L];if(function l8(e,t,n,r){const i=en+r,s=n.length;r>0&&(n[i-1][Lr]=t),r<s-en?(t[Lr]=n[i],iA(n,en+r,t)):(n.push(t),t[Lr]=null),t[rt]=n;const o=t[Ic];null!==o&&n!==o&&function c8(e,t){const n=e[Oa];t[Et]!==t[rt][rt][Et]&&(e[iS]=!0),null===n?e[Oa]=[t]:n.push(t)}(o,t);const a=t[ii];null!==a&&a.insertView(e),t[ae]|=128}(i,t,e,n),r){const s=ey(n,e),o=t[ie],a=sh(o,e[si]);null!==a&&function s8(e,t,n,r,i,s){r[gt]=i,r[_n]=t,Hc(e,r,n,1,i,s)}(i,e[_n],o,t,a,s)}}let ct=(()=>{class t{}return t.__NG_ELEMENT_ID__=A6,t})();const I6=ct,S6=class extends I6{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function E6(e,t,n,r){const i=t.tView,a=Eh(e,i,n,4096&e[ae]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ic]=e[t.index];const c=e[ii];return null!==c&&(a[ii]=c.createEmbeddedView(i)),Gy(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Xc(i)}};function A6(){return Uh(on(),S())}function Uh(e,t){return 4&e.type?new S6(t,e,Za(e,t)):null}let Ir=(()=>{class t{}return t.__NG_ELEMENT_ID__=x6,t})();function x6(){return bR(on(),S())}const k6=Ir,yR=class extends k6{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new In(this._hostTNode,this._hostLView)}get parentInjector(){const t=zf(this._hostTNode,this._hostLView);if(Pm(t)){const n=kc(t,this._hostLView),r=xc(t);return new In(n[L].data[r+8],n)}return new In(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=vR(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-en}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,s){const o=t&&!function Lc(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?t:new eu(we(t)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const _=(o?c:this.parentInjector).get(Hn,null);_&&(s=_)}we(l.componentType??{});const h=l.create(c,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function P3(e){return Cn(e[rt])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=i[rt],u=new yR(c,c[_n],c[rt]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(n),a=this._lContainer;return T6(a,i,o,!r),t.attachToViewContainerRef(),iA(mv(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=vR(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=ih(this._lContainer,n);r&&(qf(mv(this._lContainer),n),Qm(r[L],r))}detach(t){const n=this._adjustIndex(t,-1),r=ih(this._lContainer,n);return r&&null!=qf(mv(this._lContainer),n)?new Xc(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function vR(e){return e[8]}function mv(e){return e[8]||(e[8]=[])}function bR(e,t){let n;const r=t[e.index];return Cn(r)?n=r:(n=JM(r,t,null,e),t[e.index]=n,Th(t,n)),wR(n,t,e,r),new yR(n,e,t)}let wR=function DR(e,t,n,r){if(e[si])return;let i;i=8&n.type?Ze(r):function F6(e,t){const n=e[ie],r=n.createComment(""),i=Un(t,e);return ho(n,sh(n,i),r,function h8(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[si]=i};class yv{constructor(t){this.queryList=t,this.matches=null}clone(){return new yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class vv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new vv(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==SR(t,n).matches&&this.queries[n].setDirty()}}class CR{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class bv{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new bv(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class wv{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new wv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,V6(n,s)),this.matchTNodeWithReadOption(t,n,Wf(n,t,s,!1,!1))}else r===ct?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Wf(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Le||i===Ir||i===ct&&4&n.type)this.addMatch(n.index,-2);else{const s=Wf(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function V6(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function U6(e,t,n,r){return-1===n?function $6(e,t){return 11&e.type?Za(e,t):4&e.type?Uh(e,t):null}(t,e):-2===n?function j6(e,t,n){return n===Le?Za(t,e):n===ct?Uh(t,e):n===Ir?bR(t,e):void 0}(e,t,r):uo(e,e[L],n,t)}function ER(e,t,n,r){const i=t[ii].queries[r];if(null===i.matches){const s=e.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:U6(t,s[c],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function Dv(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=ER(e,t,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=en;d<u.length;d++){const f=u[d];f[Ic]===f[rt]&&Dv(f[L],f,c,r)}if(null!==u[Oa]){const d=u[Oa];for(let f=0;f<d.length;f++){const h=d[f];Dv(h[L],h,c,r)}}}}}return r}function Me(e){const t=S(),n=De(),r=LS();Am(r+1);const i=SR(n,r);if(e.dirty&&function N3(e){return 4==(4&e[ae])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Dv(n,t,r,[]):ER(n,t,i,r);e.reset(s,h4),e.notifyOnChanges()}return!0}return!1}function Hi(e,t,n){const r=De();r.firstCreatePass&&(IR(r,new CR(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),TR(r,S(),t)}function ut(e,t,n,r){const i=De();if(i.firstCreatePass){const s=on();IR(i,new CR(t,n,r),s.index),function G6(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}TR(i,S(),n)}function Oe(){return function H6(e,t){return e[ii].queries[t].queryList}(S(),LS())}function TR(e,t,n){const r=new _v(4==(4&n));(function z4(e,t,n,r){const i=XM(t);i.push(n),e.firstCreatePass&&eO(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[ii]&&(t[ii]=new vv),t[ii].queries.push(new yv(r))}function IR(e,t,n){null===e.queries&&(e.queries=new bv),e.queries.track(new wv(t,n))}function SR(e,t){return e.queries.getByIndex(t)}const Av=new U("Application Initializer");let Mv=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=B(Av,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(ou(o))r.push(o);else if(PO(o)){const a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),GR=(()=>{var e;class t{log(r){console.log(r)}warn(r){console.warn(r)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const jr=new U("LocaleId",{providedIn:"root",factory:()=>B(jr,me.Optional|me.SkipSelf)||function d7(){return typeof $localize<"u"&&$localize.locale||gl}()});let zR=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yr(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class p7{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let WR=(()=>{var e;class t{compileModuleSync(r){return new fv(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Ui(rr(r).declarations).reduce((a,l)=>{const c=we(l);return c&&a.push(new eu(c)),a},[]);return new p7(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const QR=new U(""),zh=new U("");let xv,Rv=(()=>{var e;class t{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xv||(function x7(e){xv=e}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(e=t).\u0275fac=function(r){return new(r||e)(R(de),R(Pv),R(zh))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})(),Pv=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return xv?.findTestabilityInTree(this,r,i)??null}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Ss=null;const JR=new U("AllowMultipleToken"),kv=new U("PlatformDestroyListeners"),Fv=new U("appBootstrapListener");class XR{constructor(t,n){this.name=t,this.token=n}}function tP(e,t,n=[]){const r=`Platform: ${t}`,i=new U(r);return(s=[])=>{let o=Lv();if(!o||o.injector.get(JR,!1)){const a=[...n,...s,{provide:i,useValue:!0}];e?e(a):function L7(e){if(Ss&&!Ss.get(JR,!1))throw new C(400,!1);(function ZR(){!function y3(e){_S=e}(()=>{throw new C(600,!1)})})(),Ss=e;const t=e.get(rP);(function eP(e){e.get(cM,null)?.forEach(n=>n())})(e)}(function nP(e=[],t){return Rt.create({name:t,providers:[{provide:fy,useValue:"platform"},{provide:kv,useValue:new Set([()=>Ss=null])},...e]})}(a,r))}return function V7(e){const t=Lv();if(!t)throw new C(401,!1);return t}()}}function Lv(){return Ss?.get(rP)??null}let rP=(()=>{var e;class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function $7(e="zone.js",t){return"noop"===e?new S4:"zone.js"===e?new de(t):e}(i?.ngZone,function iP(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function e6(e,t,n){return new dv(e,t,n)}(r.moduleType,this.injector,function cP(e){return[{provide:de,useFactory:e},{provide:qc,multi:!0,useFactory:()=>{const t=B(j7,{optional:!0});return()=>t.initialize()}},{provide:lP,useFactory:U7},{provide:SM,useFactory:AM}]}(()=>s)),a=o.injector.get($i,null);return s.runOutsideAngular(()=>{const l=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{Wh(this._modules,o),l.unsubscribe()})}),function sP(e,t,n){try{const r=n();return ou(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(a,s,()=>{const l=o.injector.get(Mv);return l.runInitializers(),l.donePromise.then(()=>(function ON(e){vr(e,"Expected localeId to be defined"),"string"==typeof e&&(MN=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(jr,gl)||gl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=oP({},i);return function k7(e,t,n){const r=new fv(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(Gi);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new C(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(kv,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(r){return new(r||e)(R(Rt))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function oP(e,t){return Array.isArray(t)?t.reduce(oP,e):{...e,...t}}let Gi=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(lP),this.zoneIsStable=B(SM),this.componentTypes=[],this.components=[],this.isStable=B(zR).hasPendingTasks.pipe(kr(r=>r?J(!1):this.zoneIsStable),function xI(e,t=xr){return e=e??OH,ot((n,r)=>{let i,s=!0;n.subscribe(Qe(r,o=>{const a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}(),PI()),this._injector=B(Hn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof gM;if(!this._injector.get(Mv).done)throw!s&&function Ta(e){const t=we(e)||Xt(e)||Dn(e);return null!==t&&t.standalone}(r),new C(405,!1);let a;a=s?r:this._injector.get(wh).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function F7(e){return e.isBoundToModule}(a)?void 0:this._injector.get(bo),u=a.create(Rt.NULL,[],i||a.selector,l),d=u.location.nativeElement,f=u.injector.get(QR,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Wh(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Wh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(Fv,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Wh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Wh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const lP=new U("",{providedIn:"root",factory:()=>B($i).handleError.bind(void 0)});function U7(){const e=B(de),t=B($i);return n=>e.runOutsideAngular(()=>t.handleError(n))}let j7=(()=>{var e;class t{constructor(){this.zone=B(de),this.applicationRef=B(Gi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();let Hr=(()=>{class t{}return t.__NG_ELEMENT_ID__=G7,t})();function G7(e){return function z7(e,t,n){if(ao(e)&&!n){const r=ir(e.index,t);return new Xc(r,r)}return 47&e.type?new Xc(t[Et],t):null}(on(),S(),16==(16&e))}class hP{constructor(){}supports(t){return Mh(t)}create(t){return new J7(t)}}const Q7=(e,t)=>t;class J7{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Q7}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<gP(r,i,s)?n:r,a=gP(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<c&&(s[f]=h+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Mh(t))throw new C(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function F5(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new Z7(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new pP),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pP),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Z7{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class X7{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class pP{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new X7,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gP(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class _P{constructor(){}supports(t){return t instanceof Map||zy(t)}create(){return new eq}}class eq{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||zy(t)))throw new C(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new tq(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class tq{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mP(){return new Yh([new hP])}let Yh=(()=>{var e;class t{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new t(r)}static extend(r){return{provide:t,useFactory:i=>t.create(r,i||mP()),deps:[[t,new Yf,new Sn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new C(901,!1)}}return(e=t).\u0275prov=P({token:e,providedIn:"root",factory:mP}),t})();function yP(){return new bu([new _P])}let bu=(()=>{var e;class t{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new t(r)}static extend(r){return{provide:t,useFactory:i=>t.create(r,i||yP()),deps:[[t,new Yf,new Sn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new C(901,!1)}}return(e=t).\u0275prov=P({token:e,providedIn:"root",factory:yP}),t})();const iq=tP(null,"core",[]);let sq=(()=>{var e;class t{constructor(r){}}return(e=t).\u0275fac=function(r){return new(r||e)(R(Gi))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})();function Hv(e,t){const n=we(e),r=t.elementInjector||hh();return new eu(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector)}let Gv=null;function As(){return Gv}class vq{}const It=new U("DocumentToken");let zv=(()=>{var e;class t{historyGo(r){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:function(){return B(wq)},providedIn:"platform"}),t})();const bq=new U("Location Initialized");let wq=(()=>{var e;class t extends zv{constructor(){super(),this._doc=B(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return As().getBaseHref(this._doc)}onPopState(r){const i=As().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=As().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:function(){return new e},providedIn:"platform"}),t})();function Wv(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function SP(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function zi(e){return e&&"?"!==e[0]?"?"+e:e}let Co=(()=>{var e;class t{historyGo(r){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:function(){return B(MP)},providedIn:"root"}),t})();const AP=new U("appBaseHref");let MP=(()=>{var e;class t extends Co{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??B(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Wv(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+zi(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+zi(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+zi(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(e=t).\u0275fac=function(r){return new(r||e)(R(zv),R(AP,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Dq=(()=>{var e;class t extends Co{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=Wv(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+zi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+zi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(e=t).\u0275fac=function(r){return new(r||e)(R(zv),R(AP,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})(),qv=(()=>{var e;class t{constructor(r){this._subject=new z,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function Tq(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(SP(OP(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+zi(i))}normalize(r){return t.stripTrailingSlash(function Eq(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,OP(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+zi(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+zi(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(e=t).normalizeQueryParams=zi,e.joinWithSlash=Wv,e.stripTrailingSlash=SP,e.\u0275fac=function(r){return new(r||e)(R(Co))},e.\u0275prov=P({token:e,factory:function(){return function Cq(){return new qv(R(Co))}()},providedIn:"root"}),t})();function OP(e){return e.replace(/\/index.html$/,"")}const s0=/\s+/,UP=[];let jP=(()=>{var e;class t{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=UP,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(s0):UP}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(s0):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(s0).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(e=t).\u0275fac=function(r){return new(r||e)(y(Yh),y(bu),y(Le),y(or))},e.\u0275dir=O({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class l9{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ki=(()=>{var e;class t{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new l9(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const l=i.get(o);i.move(l,a),GP(l,s)}});for(let s=0,o=i.length;s<o;s++){const l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{GP(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(e=t).\u0275fac=function(r){return new(r||e)(y(Ir),y(ct),y(Yh))},e.\u0275dir=O({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function GP(e,t){e.context.$implicit=t.item}let KP=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})();function QP(e){return"server"===e}let V9=(()=>{var e;class t{}return(e=t).\u0275prov=P({token:e,providedIn:"root",factory:()=>new $9(R(It),window)}),t})();class $9{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function U9(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class dK extends vq{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f0 extends dK{static makeCurrent(){!function yq(e){Gv||(Gv=e)}(new f0)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function fK(){return Eu=Eu||document.querySelector("base"),Eu?Eu.getAttribute("href"):null}();return null==n?null:function hK(e){cp=cp||document.createElement("a"),cp.setAttribute("href",e);const t=cp.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Eu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function o9(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let cp,Eu=null,gK=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})();const h0=new U("EventManagerPlugins");let tx=(()=>{var e;class t{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new C(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(e=t).\u0275fac=function(r){return new(r||e)(R(h0),R(de))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})();class nx{constructor(t){this._doc=t}}const p0="ng-app-id";let rx=(()=>{var e;class t{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=QP(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${p0}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(p0),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(p0,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(e=t).\u0275fac=function(r){return new(r||e)(R(It),R(gh),R(dM,8),R(Ts))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})();const g0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_0=/%COMP%/g,vK=new U("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function sx(e,t){return t.map(n=>n.replace(_0,e))}let m0=(()=>{var e;class t{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=QP(l),this.defaultRenderer=new y0(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===br.ShadowDom&&(i={...i,encapsulation:br.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof ax?s.applyToHost(r):s instanceof v0&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case br.Emulated:o=new ax(c,u,i,this.appId,d,a,l,f);break;case br.ShadowDom:return new CK(c,u,r,i,a,l,this.nonce,f);default:o=new v0(c,u,i,d,a,l,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(r){return new(r||e)(R(tx),R(rx),R(gh),R(vK),R(It),R(Ts),R(de),R(dM))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})();class y0{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(g0[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(ox(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(ox(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=g0[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=g0[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Cs.DashCase|Cs.Important)?t.style.setProperty(n,r,i&Cs.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Cs.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=As().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function ox(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class CK extends y0{constructor(t,n,r,i,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=sx(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class v0 extends y0{constructor(t,n,r,i,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?sx(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ax extends v0{constructor(t,n,r,i,s,o,a,l){const c=i+"-"+r.id;super(t,n,r,s,o,a,l,c),this.contentAttr=function bK(e){return"_ngcontent-%COMP%".replace(_0,e)}(c),this.hostAttr=function wK(e){return"_nghost-%COMP%".replace(_0,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let EK=(()=>{var e;class t extends nx{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(e=t).\u0275fac=function(r){return new(r||e)(R(It))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})();const lx=["alt","control","meta","shift"],TK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IK={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let SK=(()=>{var e;class t extends nx{constructor(r){super(r)}supports(r){return null!=t.parseEventName(r)}addEventListener(r,i,s){const o=t.parseEventName(i),a=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>As().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=t._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),lx.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=TK[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),lx.forEach(a=>{a!==s&&(0,IK[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{t.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(e=t).\u0275fac=function(r){return new(r||e)(R(It))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})();const NK=tP(iq,"browser",[{provide:Ts,useValue:"browser"},{provide:cM,useValue:function AK(){f0.makeCurrent()},multi:!0},{provide:It,useFactory:function OK(){return function w8(e){ry=e}(document),document},deps:[]}]),RK=new U(""),dx=[{provide:zh,useClass:class pK{addToWindow(t){Je.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new C(5103,!1);return s},Je.getAllAngularTestabilities=()=>t.getAllTestabilities(),Je.getAllAngularRootElements=()=>t.getAllRootElements(),Je.frameworkStabilizers||(Je.frameworkStabilizers=[]),Je.frameworkStabilizers.push(r=>{const i=Je.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?As().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:QR,useClass:Rv,deps:[de,Pv,zh]},{provide:Rv,useClass:Rv,deps:[de,Pv,zh]}],fx=[{provide:fy,useValue:"root"},{provide:$i,useFactory:function MK(){return new $i},deps:[]},{provide:h0,useClass:EK,multi:!0,deps:[It,de,Ts]},{provide:h0,useClass:SK,multi:!0,deps:[It]},m0,rx,tx,{provide:Xa,useExisting:m0},{provide:class j9{},useClass:gK,deps:[]},[]];let hx=(()=>{var e;class t{constructor(r){}static withServerTransition(r){return{ngModule:t,providers:[{provide:gh,useValue:r.appId}]}}}return(e=t).\u0275fac=function(r){return new(r||e)(R(RK,12))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({providers:[...fx,...dx],imports:[KP,sq]}),t})(),px=(()=>{var e;class t{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(e=t).\u0275fac=function(r){return new(r||e)(R(It))},e.\u0275prov=P({token:e,factory:function(r){let i=null;return i=r?new r:function xK(){return new px(R(It))}(),i},providedIn:"root"}),t})();typeof window<"u"&&window;class yx{}class VK{}const Yi="*";function vx(e,t=null){return{type:2,steps:e,options:t}}function bx(e){return{type:6,styles:e,offset:null}}class Tu{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class wx{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const n=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const n="start"==t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function Dx(e){return new C(3e3,!1)}function Os(e){switch(e.length){case 0:return new Tu;case 1:return e[0];default:return new wx(e)}}function Cx(e,t,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((f,h)=>{let p=h,g=f;if("offset"!==h)switch(p=e.normalizePropertyName(p,i),g){case"!":g=n.get(h);break;case Yi:g=r.get(h);break;default:g=e.normalizeStyleValue(h,p,g,i)}d.set(p,g)}),u||s.push(d),a=d,o=c}),i.length)throw function lY(e){return new C(3502,!1)}();return s}function D0(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&C0(n,"start",e)));break;case"done":e.onDone(()=>r(n&&C0(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&C0(n,"destroy",e)))}}function C0(e,t,n){const s=E0(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n.totalTime??e.totalTime,!!n.disabled),o=e._data;return null!=o&&(s._data=o),s}function E0(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function cr(e,t,n){let r=e.get(t);return r||e.set(t,r=n),r}function Ex(e){const t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}const bY=(()=>typeof document>"u"?null:document.documentElement)();function T0(e){const t=e.parentNode||e.host||null;return t===bY?null:t}let To=null,Tx=!1;function Ix(e,t){for(;t;){if(t===e)return!0;t=T0(t)}return!1}function Sx(e,t,n){if(n)return Array.from(e.querySelectorAll(t));const r=e.querySelector(t);return r?[r]:[]}let Ax=(()=>{var e;class t{validateStyleProperty(r){return function DY(e){To||(To=function CY(){return typeof document<"u"?document.body:null}()||{},Tx=!!To.style&&"WebkitAppearance"in To.style);let t=!0;return To.style&&!function wY(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in To.style,!t&&Tx&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in To.style)),t}(r)}matchesElement(r,i){return!1}containsElement(r,i){return Ix(r,i)}getParentElement(r){return T0(r)}query(r,i,s){return Sx(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],c){return new Tu(s,o)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})(),I0=(()=>{class t{}return t.NOOP=new Ax,t})();const EY=1e3,S0="ng-enter",up="ng-leave",dp="ng-trigger",fp=".ng-trigger",Ox="ng-animating",A0=".ng-animating";function Qi(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:M0(parseFloat(t[1]),t[2])}function M0(e,t){return"s"===t?e*EY:e}function hp(e,t,n){return e.hasOwnProperty("duration")?e:function IY(e,t,n){let i,s=0,o="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(Dx()),{duration:0,delay:0,easing:""};i=M0(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=M0(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=e;if(!n){let a=!1,l=t.length;i<0&&(t.push(function $K(){return new C(3100,!1)}()),a=!0),s<0&&(t.push(function UK(){return new C(3101,!1)}()),a=!0),a&&t.splice(l,0,Dx())}return{duration:i,delay:s,easing:o}}(e,t,n)}function Iu(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function Nx(e){const t=new Map;return Object.keys(e).forEach(n=>{t.set(n,e[n])}),t}function Ns(e,t=new Map,n){if(n)for(let[r,i]of n)t.set(r,i);for(let[r,i]of e)t.set(r,i);return t}function pi(e,t,n){t.forEach((r,i)=>{const s=N0(i);n&&!n.has(i)&&n.set(i,e.style[s]),e.style[s]=r})}function Io(e,t){t.forEach((n,r)=>{const i=N0(r);e.style[i]=""})}function Su(e){return Array.isArray(e)?1==e.length?e[0]:vx(e):e}const O0=new RegExp("{{\\s*(.+?)\\s*}}","g");function Px(e){let t=[];if("string"==typeof e){let n;for(;n=O0.exec(e);)t.push(n[1]);O0.lastIndex=0}return t}function Au(e,t,n){const r=e.toString(),i=r.replace(O0,(s,o)=>{let a=t[o];return null==a&&(n.push(function HK(e){return new C(3003,!1)}()),a=""),a.toString()});return i==r?e:i}function pp(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const MY=/-+([a-z0-9])/g;function N0(e){return e.replace(MY,(...t)=>t[1].toUpperCase())}function ur(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw function GK(e){return new C(3004,!1)}()}}function xx(e,t){return window.getComputedStyle(e)[t]}const gp="*";function RY(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function PY(e,t,n){if(":"==e[0]){const l=function xY(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return t.push(function iY(e){return new C(3016,!1)}()),"* => *"}}(e,n);if("function"==typeof l)return void t.push(l);e=l}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function rY(e){return new C(3015,!1)}()),t;const i=r[1],s=r[2],o=r[3];t.push(kx(i,o));"<"==s[0]&&!(i==gp&&o==gp)&&t.push(kx(o,i))}(r,n,t)):n.push(e),n}const _p=new Set(["true","1"]),mp=new Set(["false","0"]);function kx(e,t){const n=_p.has(e)||mp.has(e),r=_p.has(t)||mp.has(t);return(i,s)=>{let o=e==gp||e==i,a=t==gp||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?_p.has(e):mp.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?_p.has(t):mp.has(t)),o&&a}}const kY=new RegExp("s*:selfs*,?","g");function R0(e,t,n,r){return new FY(e).build(t,n,r)}class FY{constructor(t){this._driver=t}build(t,n,r){const i=new VY(n);return this._resetContextStyleTimingState(i),ur(this,Su(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&n.errors.push(function WK(){return new C(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(function qK(){return new C(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(t,n){const r=this.visitStyle(t.styles,n),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Px(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(pp(s.values()),n.errors.push(function KK(e,t){return new C(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;const r=ur(this,Su(t.animation),n);return{type:1,matchers:RY(t.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:So(t.options)}}visitSequence(t,n){return{type:2,steps:t.steps.map(r=>ur(this,r,n)),options:So(t.options)}}visitGroup(t,n){const r=n.currentTime;let i=0;const s=t.steps.map(o=>{n.currentTime=r;const a=ur(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:So(t.options)}}visitAnimate(t,n){const r=function UY(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return P0(hp(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=P0(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=hp(n,t);return P0(i.duration,i.delay,i.easing)}(t.timings,n.errors);n.currentAnimateTimings=r;let i,s=t.styles?t.styles:bx({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=bx(c)}n.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,n){const r=this._makeStyleAst(t,n);return this._validateStyleAst(r,n),r}_makeStyleAst(t,n){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)"string"==typeof a?a===Yi?r.push(a):n.errors.push(new C(3002,!1)):r.push(Nx(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(function QK(e,t,n,r,i){return new C(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&function AY(e,t,n){const r=t.params||{},i=Px(e);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function jK(e){return new C(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(t,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function JK(){return new C(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(w=>{const m=this._makeStyleAst(w,n);let I=null!=m.offset?m.offset:function $Y(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}(m.styles),T=0;return null!=I&&(s++,T=m.offset=I),l=l||T<0||T>1,a=a||T<c,c=T,o.push(T),m});l&&n.errors.push(function ZK(){return new C(3012,!1)}()),a&&n.errors.push(function XK(){return new C(3200,!1)}());const d=t.steps.length;let f=0;s>0&&s<d?n.errors.push(function eY(){return new C(3202,!1)}()):0==s&&(f=1/(d-1));const h=d-1,p=n.currentTime,g=n.currentAnimateTimings,_=g.duration;return u.forEach((w,m)=>{const I=f>0?m==h?1:f*m:o[m],T=I*_;n.currentTime=p+g.delay+T,g.duration=T,this._validateStyleAst(w,n),w.offset=I,r.styles.push(w)}),r}visitReference(t,n){return{type:8,animation:ur(this,Su(t.animation),n),options:So(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:9,options:So(t.options)}}visitAnimateRef(t,n){return{type:10,animation:this.visitReference(t.animation,n),options:So(t.options)}}visitQuery(t,n){const r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;const[s,o]=function LY(e){const t=!!e.split(/\s*,\s*/).find(n=>":self"==n);return t&&(e=e.replace(kY,"")),e=e.replace(/@\*/g,fp).replace(/@\w+/g,n=>fp+"-"+n.slice(1)).replace(/:animating/g,A0),[e,t]}(t.selector);n.currentQuerySelector=r.length?r+" "+s:s,cr(n.collectedStyles,n.currentQuerySelector,new Map);const a=ur(this,Su(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:So(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(function tY(){return new C(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:hp(t.timings,n.errors,!0);return{type:12,animation:ur(this,Su(t.animation),n),timings:r,options:null}}}class VY{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function So(e){return e?(e=Iu(e)).params&&(e.params=function BY(e){return e?Iu(e):null}(e.params)):e={},e}function P0(e,t,n){return{duration:e,delay:t,easing:n}}function x0(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class yp{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const GY=new RegExp(":enter","g"),WY=new RegExp(":leave","g");function k0(e,t,n,r,i,s=new Map,o=new Map,a,l,c=[]){return(new qY).buildKeyframes(e,t,n,r,i,s,o,a,l,c)}class qY{buildKeyframes(t,n,r,i,s,o,a,l,c,u=[]){c=c||new yp;const d=new F0(t,n,c,i,s,u,[]);d.options=l;const f=l.delay?Qi(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),ur(this,r,d);const h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let g=h.length-1;g>=0;g--){const _=h[g];if(_.element===n){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[x0(n,[],[],[],0,f,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(t.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=t}visitAnimateRef(t,n){const r=n.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,r),this.visitReference(t.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,r){for(const i of t){const s=i?.delay;if(s){const o="number"==typeof s?s:Qi(Au(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(t,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Qi(r.duration):null,a=null!=r.delay?Qi(r.delay):null;return 0!==o&&t.forEach(l=>{const c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),ur(this,t.animation,n),n.previousNode=t}visitSequence(t,n){const r=n.subContextCount;let i=n;const s=t.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vp);const o=Qi(s.delay);i.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>ur(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){const r=[];let i=n.currentTimeline.currentTime;const s=t.options&&t.options.delay?Qi(t.options.delay):0;t.steps.forEach(o=>{const a=n.createSubContext(t.options);s&&a.delayNextStep(s),ur(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){const r=t.strValue;return hp(n.params?Au(r,n.params,n.errors):r,n.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){const r=n.currentAnimateTimings=this._visitTiming(t.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(s):r.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=t}visitQuery(t,n){const r=n.currentTimeline.currentTime,i=t.options||{},s=i.delay?Qi(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=vp);let o=r;const a=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;const d=n.createSubContext(t.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),ur(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){const r=n.parentContext,i=n.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=n.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;ur(this,t.animation,n),n.previousNode=t,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const vp={};class F0{constructor(t,n,r,i,s,o,a,l){this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new bp(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Qi(r.duration)),null!=r.delay&&(i.delay=Qi(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Au(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const n=this.options.params;if(n){const r=t.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return t}createSubContext(t=null,n,r){const i=n||this.element,s=new F0(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=vp,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,r){const i={duration:n??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},s=new KY(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,r,i,s,o){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(GY,"."+this._enterClassName)).replace(WY,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function nY(e){return new C(3014,!1)}()),a}}class bp{constructor(t,n,r,i){this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new bp(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Yi),this._currentKeyframe.set(n,Yi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function YY(e,t){const n=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||t.keys();for(let s of r)n.set(s,Yi)}else Ns(i,n)}),n}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=Au(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Yi),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Ns(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===Yi&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=t.size?pp(t.values()):[],o=n.size?pp(n.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return x0(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class KY extends bp{constructor(t,n,r,i,s,o,a=!1){super(t,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,l=Ns(t[0]);l.set("offset",0),s.push(l);const c=Ns(t[0]);c.set("offset",Bx(a)),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let f=Ns(t[d]);const h=f.get("offset");f.set("offset",Bx((n+h*r)/o)),s.push(f)}r=o,n=0,i="",t=s}return x0(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function Bx(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class L0{}const QY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class JY extends L0{normalizePropertyName(t,n){return N0(t)}normalizeStyleValue(t,n,r,i){let s="";const o=r.toString().trim();if(QY.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function zK(e,t){return new C(3005,!1)}())}return o+s}}function Vx(e,t,n,r,i,s,o,a,l,c,u,d,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}const B0={};class $x{constructor(t,n,r){this._triggerName=t,this.ast=n,this._stateStyles=r}match(t,n,r,i){return function ZY(e,t,n,r,i){return e.some(s=>s(t,n,r,i))}(this.ast.matchers,t,n,r,i)}buildStyles(t,n,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(n,r):new Map}build(t,n,r,i,s,o,a,l,c,u){const d=[],f=this.ast.options&&this.ast.options.params||B0,p=this.buildStyles(r,a&&a.params||B0,d),g=l&&l.params||B0,_=this.buildStyles(i,g,d),w=new Set,m=new Map,I=new Map,T="void"===i,x={params:XY(g,f),delay:this.ast.options?.delay},G=u?[]:k0(t,n,this.ast.animation,s,o,p,_,x,c,d);let K=0;if(G.forEach(ve=>{K=Math.max(ve.duration+ve.delay,K)}),d.length)return Vx(n,this._triggerName,r,i,T,p,_,[],[],m,I,K,d);G.forEach(ve=>{const Ee=ve.element,Mt=cr(m,Ee,new Set);ve.preStyleProps.forEach(ht=>Mt.add(ht));const pn=cr(I,Ee,new Set);ve.postStyleProps.forEach(ht=>pn.add(ht)),Ee!==n&&w.add(Ee)});const ne=pp(w.values());return Vx(n,this._triggerName,r,i,T,p,_,G,ne,m,I,K)}}function XY(e,t){const n=Iu(t);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(n[r]=e[r]);return n}class eQ{constructor(t,n,r){this.styles=t,this.defaultParams=n,this.normalizer=r}buildStyles(t,n){const r=new Map,i=Iu(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Au(o,i,n));const l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}}class nQ{constructor(t,n,r){this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new eQ(i.style,i.options&&i.options.params||{},r))}),Ux(this.states,"true","1"),Ux(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new $x(t,i,this.states))}),this.fallbackTransition=function rQ(e,t,n){return new $x(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,r,i){return this.transitionFactories.find(o=>o.match(t,n,r,i))||null}matchStyles(t,n,r){return this.fallbackTransition.buildStyles(t,n,r)}}function Ux(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}const iQ=new yp;class sQ{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){const r=[],s=R0(this._driver,n,r,[]);if(r.length)throw function cY(e){return new C(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,n,r){const i=t.element,s=Cx(this._normalizer,t.keyframes,n,r);return this._driver.animate(i,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,r={}){const i=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=k0(this._driver,n,s,S0,up,new Map,new Map,r,iQ,i),o.forEach(u=>{const d=cr(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(function uY(){return new C(3300,!1)}()),o=[]),i.length)throw function dY(e){return new C(3504,!1)}();a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,Yi))})});const c=Os(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(t){const n=this._playersById.get(t);if(!n)throw function fY(e){return new C(3301,!1)}();return n}listen(t,n,r,i){const s=E0(n,"","","");return D0(this._getPlayer(t),r,s,i),()=>{}}command(t,n,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,n,i[0]||{});const s=this._getPlayer(t);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const jx="ng-animate-queued",V0="ng-animate-disabled",uQ=[],Hx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wr="__ng_removed";class $0{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;const r=t&&t.hasOwnProperty("value");if(this.value=function gQ(e){return e??null}(r?t.value:t),r){const s=Iu(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const n=t.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Mu="void",U0=new $0(Mu);class fQ{constructor(t,n,r){this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Mr(n,this._hostClassName)}listen(t,n,r,i){if(!this._triggers.has(n))throw function hY(e,t){return new C(3302,!1)}();if(null==r||0==r.length)throw function pY(e){return new C(3303,!1)}();if(!function _Q(e){return"start"==e||"done"==e}(r))throw function gY(e,t){return new C(3400,!1)}();const s=cr(this._elementListeners,t,[]),o={name:n,phase:r,callback:i};s.push(o);const a=cr(this._engine.statesByElement,t,new Map);return a.has(n)||(Mr(t,dp),Mr(t,dp+"-"+n),a.set(n,U0)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(t,n){return!this._triggers.has(t)&&(this._triggers.set(t,n),!0)}_getTrigger(t){const n=this._triggers.get(t);if(!n)throw function _Y(e){return new C(3401,!1)}();return n}trigger(t,n,r,i=!0){const s=this._getTrigger(n),o=new j0(this.id,n,t);let a=this._engine.statesByElement.get(t);a||(Mr(t,dp),Mr(t,dp+"-"+n),this._engine.statesByElement.set(t,a=new Map));let l=a.get(n);const c=new $0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=U0),c.value!==Mu&&l.value===c.value){if(!function vQ(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(l.params,c.params)){const g=[],_=s.matchStyles(l.value,l.params,g),w=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Io(t,_),pi(t,w)})}return}const f=cr(this._engine.playersByElement,t,[]);f.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let h=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!h){if(!i)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:h,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Mr(t,jx),o.onStart(()=>{wl(t,jx)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(t);if(_){let w=_.indexOf(o);w>=0&&_.splice(w,1)}}),this.players.push(o),f.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const n=this._engine.playersByElement.get(t);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){const r=this._engine.driver.query(t,fp,!0);r.forEach(i=>{if(i[Wr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,n,r,i){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Mu,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,o),r&&Os(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||U0,u=new $0(Mu),d=new j0(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,n){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(t):[];if(s&&s.length)i=!0;else{let o=t;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,n);else{const s=t[Wr];(!s||s===Hx)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,n))}}insertNode(t,n){Mr(t,this._hostClassName)}drainQueuedTransitions(t){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=E0(s,r.triggerName,r.fromState.value,r.toState.value);l._data=t,D0(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class hQ{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,r){this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,n){const r=new fQ(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(t)}else r.push(t);return i.set(n,t),t}register(t,n){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,n)),r}registerTrigger(t,n,r){let i=this._namespaceLookup[t];i&&i.register(n,r)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(t);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const n=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(t,n,r,i){if(wp(n)){const s=this._fetchNamespace(t);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(t,n,r,i){if(!wp(n))return;const s=n[Wr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Mr(t,V0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),wl(t,V0))}removeNode(t,n,r){if(wp(n)){const i=t?this._fetchNamespace(t):null;i?i.removeNode(n,r):this.markElementAsRemoved(t,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(t,n,r,i,s){this.collectedLeaveElements.push(n),n[Wr]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,r,i,s){return wp(n)?this._fetchNamespace(t).listen(n,r,i,s):()=>{}}_buildInstruction(t,n,r,i,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,fp,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,A0,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const n=this.playersByElement.get(t);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const n=this.playersByQueriedElement.get(t);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Os(this.players).onDone(()=>t());t()})}processLeaveNode(t){const n=t[Wr];if(n&&n.setForRemoval){if(t[Wr]=Hx,n.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(V0)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Mr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Os(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function mY(e){return new C(3402,!1)}()}_flushAnimations(t,n){const r=new yp,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(F=>{u.add(F);const j=this.driver.query(F,".ng-animate-queued",!0);for(let Y=0;Y<j.length;Y++)u.add(j[Y])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=Wx(f,this.collectedEnterElements),p=new Map;let g=0;h.forEach((F,j)=>{const Y=S0+g++;p.set(j,Y),F.forEach(fe=>Mr(fe,Y))});const _=[],w=new Set,m=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){const j=this.collectedLeaveElements[F],Y=j[Wr];Y&&Y.setForRemoval&&(_.push(j),w.add(j),Y.hasAnimation?this.driver.query(j,".ng-star-inserted",!0).forEach(fe=>w.add(fe)):m.add(j))}const I=new Map,T=Wx(f,Array.from(w));T.forEach((F,j)=>{const Y=up+g++;I.set(j,Y),F.forEach(fe=>Mr(fe,Y))}),t.push(()=>{h.forEach((F,j)=>{const Y=p.get(j);F.forEach(fe=>wl(fe,Y))}),T.forEach((F,j)=>{const Y=I.get(j);F.forEach(fe=>wl(fe,Y))}),_.forEach(F=>{this.processLeaveNode(F)})});const x=[],G=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(n).forEach(Y=>{const fe=Y.player,pt=Y.element;if(x.push(fe),this.collectedEnterElements.length){const Ot=pt[Wr];if(Ot&&Ot.setForMove){if(Ot.previousTriggersValues&&Ot.previousTriggersValues.has(Y.triggerName)){const kn=Ot.previousTriggersValues.get(Y.triggerName),wn=this.statesByElement.get(Y.element);if(wn&&wn.has(Y.triggerName)){const dc=wn.get(Y.triggerName);dc.value=kn,wn.set(Y.triggerName,dc)}}return void fe.destroy()}}const er=!d||!this.driver.containsElement(d,pt),jt=I.get(pt),_r=p.get(pt),Ue=this._buildInstruction(Y,r,_r,jt,er);if(Ue.errors&&Ue.errors.length)return void G.push(Ue);if(er)return fe.onStart(()=>Io(pt,Ue.fromStyles)),fe.onDestroy(()=>pi(pt,Ue.toStyles)),void i.push(fe);if(Y.isFallbackTransition)return fe.onStart(()=>Io(pt,Ue.fromStyles)),fe.onDestroy(()=>pi(pt,Ue.toStyles)),void i.push(fe);const ti=[];Ue.timelines.forEach(Ot=>{Ot.stretchStartingKeyframe=!0,this.disabledNodes.has(Ot.element)||ti.push(Ot)}),Ue.timelines=ti,r.append(pt,Ue.timelines),o.push({instruction:Ue,player:fe,element:pt}),Ue.queriedElements.forEach(Ot=>cr(a,Ot,[]).push(fe)),Ue.preStyleProps.forEach((Ot,kn)=>{if(Ot.size){let wn=l.get(kn);wn||l.set(kn,wn=new Set),Ot.forEach((dc,_a)=>wn.add(_a))}}),Ue.postStyleProps.forEach((Ot,kn)=>{let wn=c.get(kn);wn||c.set(kn,wn=new Set),Ot.forEach((dc,_a)=>wn.add(_a))})});if(G.length){const F=[];G.forEach(j=>{F.push(function yY(e,t){return new C(3505,!1)}())}),x.forEach(j=>j.destroy()),this.reportError(F)}const K=new Map,ne=new Map;o.forEach(F=>{const j=F.element;r.has(j)&&(ne.set(j,j),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,K))}),i.forEach(F=>{const j=F.element;this._getPreviousPlayers(j,!1,F.namespaceId,F.triggerName,null).forEach(fe=>{cr(K,j,[]).push(fe),fe.destroy()})});const ve=_.filter(F=>Kx(F,l,c)),Ee=new Map;zx(Ee,this.driver,m,c,Yi).forEach(F=>{Kx(F,l,c)&&ve.push(F)});const pn=new Map;h.forEach((F,j)=>{zx(pn,this.driver,new Set(F),l,"!")}),ve.forEach(F=>{const j=Ee.get(F),Y=pn.get(F);Ee.set(F,new Map([...j?.entries()??[],...Y?.entries()??[]]))});const ht=[],Mi=[],Oi={};o.forEach(F=>{const{element:j,player:Y,instruction:fe}=F;if(r.has(j)){if(u.has(j))return Y.onDestroy(()=>pi(j,fe.toStyles)),Y.disabled=!0,Y.overrideTotalTime(fe.totalTime),void i.push(Y);let pt=Oi;if(ne.size>1){let jt=j;const _r=[];for(;jt=jt.parentNode;){const Ue=ne.get(jt);if(Ue){pt=Ue;break}_r.push(jt)}_r.forEach(Ue=>ne.set(Ue,pt))}const er=this._buildAnimation(Y.namespaceId,fe,K,s,pn,Ee);if(Y.setRealPlayer(er),pt===Oi)ht.push(Y);else{const jt=this.playersByElement.get(pt);jt&&jt.length&&(Y.parentPlayer=Os(jt)),i.push(Y)}}else Io(j,fe.fromStyles),Y.onDestroy(()=>pi(j,fe.toStyles)),Mi.push(Y),u.has(j)&&i.push(Y)}),Mi.forEach(F=>{const j=s.get(F.element);if(j&&j.length){const Y=Os(j);F.setRealPlayer(Y)}}),i.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<_.length;F++){const j=_[F],Y=j[Wr];if(wl(j,up),Y&&Y.hasAnimation)continue;let fe=[];if(a.size){let er=a.get(j);er&&er.length&&fe.push(...er);let jt=this.driver.query(j,A0,!0);for(let _r=0;_r<jt.length;_r++){let Ue=a.get(jt[_r]);Ue&&Ue.length&&fe.push(...Ue)}}const pt=fe.filter(er=>!er.destroyed);pt.length?mQ(this,j,pt):this.processLeaveNode(j)}return _.length=0,ht.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();const j=this.players.indexOf(F);this.players.splice(j,1)}),F.play()}),ht}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==Mu;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(t,n,r){const s=n.element,o=n.isRemovalTransition?void 0:t,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const c=l.element,u=c!==s,d=cr(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}Io(s,n.fromStyles)}_buildAnimation(t,n,r,i,s,o){const a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,f=n.timelines.map(p=>{const g=p.element;u.add(g);const _=g[Wr];if(_&&_.removedBeforeQueried)return new Tu(p.duration,p.delay);const w=g!==l,m=function yQ(e){const t=[];return qx(e,t),t}((r.get(g)||uQ).map(K=>K.getRealPlayer())).filter(K=>!!K.element&&K.element===g),I=s.get(g),T=o.get(g),x=Cx(this._normalizer,p.keyframes,I,T),G=this._buildPlayer(p,x,m);if(p.subTimeline&&i&&d.add(g),w){const K=new j0(t,a,g);K.setRealPlayer(G),c.push(K)}return G});c.forEach(p=>{cr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function pQ(e,t,n){let r=e.get(t);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Mr(p,Ox));const h=Os(f);return h.onDestroy(()=>{u.forEach(p=>wl(p,Ox)),pi(l,n.toStyles)}),d.forEach(p=>{cr(i,p,[]).push(h)}),h}_buildPlayer(t,n,r){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,r):new Tu(t.duration,t.delay)}}class j0{constructor(t,n,r){this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Tu,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>D0(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){cr(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const n=this._player;n.triggerCallback&&n.triggerCallback(t)}}function wp(e){return e&&1===e.nodeType}function Gx(e,t){const n=e.style.display;return e.style.display=t??"none",n}function zx(e,t,n,r,i){const s=[];n.forEach(l=>s.push(Gx(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const f=t.computeStyle(c,d,i);u.set(d,f),(!f||0==f.length)&&(c[Wr]=dQ,o.push(c))}),e.set(c,u)});let a=0;return n.forEach(l=>Gx(l,s[a++])),o}function Wx(e,t){const n=new Map;if(e.forEach(a=>n.set(a,[])),0==t.length)return n;const i=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=n.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&n.get(l).push(a)}),n}function Mr(e,t){e.classList?.add(t)}function wl(e,t){e.classList?.remove(t)}function mQ(e,t,n){Os(n).onDone(()=>e.processLeaveNode(t))}function qx(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof wx?qx(r.players,t):t.push(r)}}function Kx(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(s=>i.add(s)):t.set(e,r),n.delete(e),!0}class Dp{constructor(t,n,r){this.bodyNode=t,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new hQ(t,n,r),this._timelineEngine=new sQ(t,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(t,n,r,i,s){const o=t+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=R0(this._driver,s,l,[]);if(l.length)throw function aY(e,t){return new C(3404,!1)}();a=function tQ(e,t,n){return new nQ(e,t,n)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,r,i){this._transitionEngine.insertNode(t,n,r,i)}onRemove(t,n,r){this._transitionEngine.removeNode(t,n,r)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,r,i){if("@"==r.charAt(0)){const[s,o]=Ex(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(t,n,r,i)}listen(t,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=Ex(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(t,n,r,i,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let wQ=(()=>{class t{constructor(r,i,s){this._element=r,this._startStyles=i,this._endStyles=s,this._state=0;let o=t.initialStylesByElement.get(r);o||t.initialStylesByElement.set(r,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&pi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pi(this._element,this._initialStyles),this._endStyles&&(pi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Io(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Io(this._element,this._endStyles),this._endStyles=null),pi(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function H0(e){let t=null;return e.forEach((n,r)=>{(function DQ(e){return"display"===e||"position"===e})(r)&&(t=t||new Map,t.set(r,n))}),t}class Yx{constructor(t,n,r,i){this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const n=[];return t.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(t,n,r){return t.animate(this._convertKeyframesToObject(n),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:xx(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const n="start"===t?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class CQ{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return Ix(t,n)}getParentElement(t){return T0(t)}query(t,n,r){return Sx(t,n,r)}computeStyle(t,n,r){return window.getComputedStyle(t)[n]}animate(t,n,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(h=>h instanceof Yx);(function OY(e,t){return 0===e||0===t})(r,i)&&u.forEach(h=>{h.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function SY(e){return e.length?e[0]instanceof Map?e:e.map(t=>Nx(t)):[]}(n).map(h=>Ns(h));d=function NY(e,t,n){if(n.size&&t.length){let r=t[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<t.length;s++){let o=t[s];i.forEach(a=>o.set(a,xx(e,a)))}}return t}(t,d,c);const f=function bQ(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=H0(t[0]),t.length>1&&(r=H0(t[t.length-1]))):t instanceof Map&&(n=H0(t)),n||r?new wQ(e,n,r):null}(t,d);return new Yx(t,d,l,f)}}let EQ=(()=>{var e;class t extends yx{constructor(r,i){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(i.body,{id:"0",encapsulation:br.None,styles:[],data:{animation:[]}})}build(r){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(r)?vx(r):r;return Qx(this._renderer,null,i,"register",[s]),new TQ(i,this._renderer)}}return(e=t).\u0275fac=function(r){return new(r||e)(R(Xa),R(It))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})();class TQ extends VK{constructor(t,n){super(),this._id=t,this._renderer=n}create(t,n){return new IQ(this._id,t,n||{},this._renderer)}}class IQ{constructor(t,n,r,i){this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,n){return this._renderer.listen(this.element,`@@${this.id}:${t}`,n)}_command(t,...n){return Qx(this._renderer,this.element,this.id,t,n)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Qx(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const Jx="@.disabled";let SQ=(()=>{var e;class t{constructor(r,i,s){this.delegate=r,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,a)=>{const l=a?.parentNode(o);l&&a.removeChild(l,o)}}createRenderer(r,i){const o=this.delegate.createRenderer(r,i);if(!(r&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(o);return d||(d=new Zx("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const a=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,r);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(a,l,r,d.name,d)};return i.data.animation.forEach(c),new AQ(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,i,s){r>=0&&r<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(e=t).\u0275fac=function(r){return new(r||e)(R(Xa),R(Dp),R(de))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})();class Zx{constructor(t,n,r,i){this.namespaceId=t,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,r,i=!0){this.delegate.insertBefore(t,n,r),this.engine.onInsert(this.namespaceId,n,t,i)}removeChild(t,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){"@"==n.charAt(0)&&n==Jx?this.disableAnimations(t,!!r):this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r){return this.delegate.listen(t,n,r)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}}class AQ extends Zx{constructor(t,n,r,i,s){super(n,r,i,s),this.factory=t,this.namespaceId=n}setProperty(t,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Jx?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,n.slice(1),r):this.delegate.setProperty(t,n,r)}listen(t,n,r){if("@"==n.charAt(0)){const i=function MQ(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(t);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function OQ(e){const t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,n,r)}}const Xx=[{provide:yx,useClass:EQ},{provide:L0,useFactory:function RQ(){return new JY}},{provide:Dp,useClass:(()=>{var e;class t extends Dp{constructor(r,i,s,o){super(r.body,i,s)}ngOnDestroy(){this.flush()}}return(e=t).\u0275fac=function(r){return new(r||e)(R(It),R(I0),R(L0),R(Gi))},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})()},{provide:Xa,useFactory:function PQ(e,t,n){return new SQ(e,t,n)},deps:[m0,Dp,de]}],G0=[{provide:I0,useFactory:()=>new CQ},{provide:uM,useValue:"BrowserAnimations"},...Xx],ek=[{provide:I0,useClass:Ax},{provide:uM,useValue:"NoopAnimations"},...Xx];let xQ=(()=>{var e;class t{static withConfig(r){return{ngModule:t,providers:r.disableAnimations?ek:G0}}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({providers:G0,imports:[hx]}),t})();function tk(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(l){tk(s,r,i,o,a,"next",l)}function a(l){tk(s,r,i,o,a,"throw",l)}o(void 0)})}}const M=function(e,t){if(!e)throw Dl(t)},Dl=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},nk=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0;let f=(15&a)<<2|c>>6,h=63&c;l||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nk(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new FQ;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class FQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rk=function(e){const t=nk(e);return Ep.encodeByteArray(t,!0)},Tp=function(e){return rk(e).replace(/\./g,"")},Ip=function(e){try{return Ep.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function LQ(e){return ik(void 0,e)}function ik(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!BQ(n)||(e[n]=ik(e[n],t[n]));return e}function BQ(e){return"__proto__"!==e}const Sp=()=>{try{return function VQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ip(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},sk=e=>{var t,n;return null===(n=null===(t=Sp())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ok=()=>{var e;return null===(e=Sp())||void 0===e?void 0:e.config},ak=e=>{var t;return null===(t=Sp())||void 0===t?void 0:t[`_${e}`]};class Ao{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function Wt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function q0(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function lk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Mo(){try{return"object"==typeof indexedDB}catch{return!1}}function Ou(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){t(n)}})}function K0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class qr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gi.prototype.create)}}class gi{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?function KQ(e,t){return e.replace(YQ,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new qr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const YQ=/\{\$([^}]+)}/g;function Nu(e){return JSON.parse(e)}function qt(e){return JSON.stringify(e)}const Ap=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Nu(Ip(s[0])||""),n=Nu(Ip(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function Zi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Cl(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Y0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Mp(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Op(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(ck(s)&&ck(o)){if(!Op(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ck(e){return null!==e&&"object"==typeof e}function Ru(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Pu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function xu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ZQ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(f<<1|f>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}class eJ{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(void 0===t&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function tJ(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:r},void 0===i.next&&(i.next=Q0),void 0===i.error&&(i.error=Q0),void 0===i.complete&&(i.complete=Q0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q0(){}function El(e,t){return`${e} failed: ${t} argument `}const Np=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},rJ=1e3,iJ=2,sJ=144e5,oJ=.5;function J0(e,t=rJ,n=iJ){const r=t*Math.pow(n,e),i=Math.round(oJ*r*(Math.random()-.5)*2);return Math.min(sJ,r+i)}function qn(e){return e&&e._delegate?e._delegate:e}class vn{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Oo="[DEFAULT]";class lJ{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ao;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function uJ(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Oo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return v(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Oo){return this.instances.has(t)}getOptions(t=Oo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===Oo?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=Oo){return this.component?this.component.multipleInstances?t:Oo:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dJ{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lJ(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const Z0=[];var ze=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ze||{});const uk={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},fJ=ze.INFO,hJ={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},pJ=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=hJ[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Tl{constructor(t){this.name=t,this._logLevel=fJ,this._logHandler=pJ,this._userLogHandler=null,Z0.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ze))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?uk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...t),this._logHandler(this,ze.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...t),this._logHandler(this,ze.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...t),this._logHandler(this,ze.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...t),this._logHandler(this,ze.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...t),this._logHandler(this,ze.ERROR,...t)}}const gJ=(e,t)=>t.some(n=>e instanceof n);let dk,fk;const hk=new WeakMap,X0=new WeakMap,pk=new WeakMap,eb=new WeakMap,tb=new WeakMap;let nb={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return X0.get(e);if("objectStoreNames"===t)return e.objectStoreNames||pk.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function DJ(e){return"function"==typeof e?function wJ(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mJ(){return fk||(fk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(rb(this),t),Rs(hk.get(this))}:function(...t){return Rs(e.apply(rb(this),t))}:function(t,...n){const r=e.call(rb(this),t,...n);return pk.set(r,t.sort?t.sort():[t]),Rs(r)}}(e):(e instanceof IDBTransaction&&function vJ(e){if(X0.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});X0.set(e,t)}(e),gJ(e,function _J(){return dk||(dk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,nb):e)}function Rs(e){if(e instanceof IDBRequest)return function yJ(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Rs(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&hk.set(n,e)}).catch(()=>{}),tb.set(t,e),t}(e);if(eb.has(e))return eb.get(e);const t=DJ(e);return t!==e&&(eb.set(e,t),tb.set(t,e)),t}const rb=e=>tb.get(e),EJ=["get","getKey","getAll","getAllKeys","count"],TJ=["put","add","delete","clear"],ib=new Map;function gk(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(ib.get(t))return ib.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=TJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!EJ.includes(n))return;const s=function(){var o=v(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return ib.set(t,s),s}!function bJ(e){nb=e(nb)}(e=>({...e,get:(t,n,r)=>gk(t,n)||e.get(t,n,r),has:(t,n)=>!!gk(t,n)||e.has(t,n)}));class IJ{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function SJ(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const sb="@firebase/app",No=new Tl("@firebase/app"),Rp="[DEFAULT]",XJ={[sb]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ro=new Map,Pp=new Map;function eZ(e,t){try{e.container.addComponent(t)}catch(n){No.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function On(e){const t=e.name;if(Pp.has(t))return No.debug(`There were multiple attempts to register component ${t}.`),!1;Pp.set(t,e);for(const n of Ro.values())eZ(n,e);return!0}function Il(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Xi=new gi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nZ{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}const Po="9.23.0";function mk(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Rp,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Xi.create("bad-app-name",{appName:String(i)});if(n||(n=ok()),!n)throw Xi.create("no-options");const s=Ro.get(i);if(s){if(Op(n,s.options)&&Op(r,s.config))return s;throw Xi.create("duplicate-app",{appName:i})}const o=new dJ(i);for(const l of Pp.values())o.addComponent(l);const a=new nZ(n,r,o);return Ro.set(i,a),a}function ob(e=Rp){const t=Ro.get(e);if(!t&&e===Rp&&ok())return mk();if(!t)throw Xi.create("no-app",{appName:e});return t}function yk(){return Array.from(Ro.values())}function yt(e,t,n){var r;let i=null!==(r=XJ[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void No.warn(a.join(" "))}On(new vn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const rZ="firebase-heartbeat-database",iZ=1,ku="firebase-heartbeat-store";let lb=null;function vk(){return lb||(lb=function CJ(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Rs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Rs(o.result),l.oldVersion,l.newVersion,Rs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(rZ,iZ,{upgrade:(e,t)=>{0===t&&e.createObjectStore(ku)}}).catch(e=>{throw Xi.create("idb-open",{originalErrorMessage:e.message})})),lb}function cb(){return(cb=v(function*(e){try{return yield(yield vk()).transaction(ku).objectStore(ku).get(wk(e))}catch(t){if(t instanceof qr)No.warn(t.message);else{const n=Xi.create("idb-get",{originalErrorMessage:t?.message});No.warn(n.message)}}})).apply(this,arguments)}function bk(e,t){return ub.apply(this,arguments)}function ub(){return(ub=v(function*(e,t){try{const r=(yield vk()).transaction(ku,"readwrite");yield r.objectStore(ku).put(t,wk(e)),yield r.done}catch(n){if(n instanceof qr)No.warn(n.message);else{const r=Xi.create("idb-set",{originalErrorMessage:n?.message});No.warn(r.message)}}})).apply(this,arguments)}function wk(e){return`${e.name}!${e.options.appId}`}class lZ{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return v(function*(){const r=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Dk();if(null===t._heartbeatsCache&&(t._heartbeatsCache=yield t._heartbeatsCachePromise),t._heartbeatsCache.lastSentHeartbeatDate!==i&&!t._heartbeatsCache.heartbeats.some(s=>s.date===i))return t._heartbeatsCache.heartbeats.push({date:i,agent:r}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return v(function*(){if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null===t._heartbeatsCache||0===t._heartbeatsCache.heartbeats.length)return"";const n=Dk(),{heartbeatsToSend:r,unsentEntries:i}=function cZ(e,t=1024){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ck(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ck(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),s=Tp(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(t._heartbeatsCache.heartbeats=i,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),s})()}}function Dk(){return(new Date).toISOString().substring(0,10)}class uZ{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!Mo()&&Ou().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return v(function*(){return(yield t._canUseIndexedDBPromise)&&(yield function sZ(e){return cb.apply(this,arguments)}(t.app))||{heartbeats:[]}})()}overwrite(t){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return bk(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return bk(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}})()}}function Ck(e){return Tp(JSON.stringify({version:2,heartbeats:e})).length}!function dZ(e){On(new vn("platform-logger",t=>new IJ(t),"PRIVATE")),On(new vn("heartbeat",t=>new lZ(t),"PRIVATE")),yt(sb,"0.9.13",e),yt(sb,"0.9.13","esm2017"),yt("fire-js","")}(""),yt("firebase","9.23.0","app");const pZ=(e,t)=>t.some(n=>e instanceof n);let Ek,Tk;const Ik=new WeakMap,db=new WeakMap,Sk=new WeakMap,fb=new WeakMap,hb=new WeakMap;let pb={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return db.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Sk.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function wZ(e){return"function"==typeof e?function bZ(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _Z(){return Tk||(Tk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(gb(this),t),Ps(Ik.get(this))}:function(...t){return Ps(e.apply(gb(this),t))}:function(t,...n){const r=e.call(gb(this),t,...n);return Sk.set(r,t.sort?t.sort():[t]),Ps(r)}}(e):(e instanceof IDBTransaction&&function yZ(e){if(db.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});db.set(e,t)}(e),pZ(e,function gZ(){return Ek||(Ek=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,pb):e)}function Ps(e){if(e instanceof IDBRequest)return function mZ(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Ps(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Ik.set(n,e)}).catch(()=>{}),hb.set(t,e),t}(e);if(fb.has(e))return fb.get(e);const t=wZ(e);return t!==e&&(fb.set(e,t),hb.set(t,e)),t}const gb=e=>hb.get(e),CZ=["get","getKey","getAll","getAllKeys","count"],EZ=["put","add","delete","clear"],_b=new Map;function Ak(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(_b.get(t))return _b.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=EZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!CZ.includes(n))return;const s=function(){var o=v(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return _b.set(t,s),s}!function vZ(e){pb=e(pb)}(e=>({...e,get:(t,n,r)=>Ak(t,n)||e.get(t,n,r),has:(t,n)=>!!Ak(t,n)||e.has(t,n)}));const Mk="@firebase/installations",mb="0.6.4",Ok=1e4,Nk=`w:${mb}`,Rk="FIS_v2",TZ="https://firebaseinstallations.googleapis.com/v1",IZ=36e5,es=new gi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pk(e){return e instanceof qr&&e.code.includes("request-failed")}function yb({projectId:e}){return`${TZ}/projects/${e}/installations`}function xk(e){return{token:e.token,requestStatus:2,expiresIn:OZ(e.expiresIn),creationTime:Date.now()}}function vb(e,t){return bb.apply(this,arguments)}function bb(){return(bb=v(function*(e,t){const r=(yield t.json()).error;return es.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function kk({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function wb(e){return Db.apply(this,arguments)}function Db(){return(Db=v(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function OZ(e){return Number(e.replace("s","000"))}function Cb(){return(Cb=v(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=yb(e),i=kk(e),s=t.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Rk,appId:e.appId,sdkVersion:Nk})},l=yield wb(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:xk(c.authToken)}}throw yield vb("Create Installation",l)})).apply(this,arguments)}function Lk(e){return new Promise(t=>{setTimeout(t,e)})}const xZ=/^[cdef][\w-]{21}$/,Eb="";function kZ(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=function FZ(e){return function PZ(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return xZ.test(n)?n:Eb}catch{return Eb}}function Sl(e){return`${e.appName}!${e.appId}`}const Al=new Map;function Bk(e,t){const n=Sl(e);Vk(n,t),function VZ(e,t){const n=function $k(){return!xo&&"BroadcastChannel"in self&&(xo=new BroadcastChannel("[Firebase] FID Change"),xo.onmessage=e=>{Vk(e.data.key,e.data.fid)}),xo}();n&&n.postMessage({key:e,fid:t}),function Uk(){0===Al.size&&xo&&(xo.close(),xo=null)}()}(n,t)}function Vk(e,t){const n=Al.get(e);if(n)for(const r of n)r(t)}let xo=null;const $Z="firebase-installations-database",UZ=1,ko="firebase-installations-store";let Tb=null;function Ib(){return Tb||(Tb=function DZ(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Ps(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ps(o.result),l.oldVersion,l.newVersion,Ps(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}($Z,UZ,{upgrade:(e,t)=>{0===t&&e.createObjectStore(ko)}})),Tb}function xp(e,t){return Sb.apply(this,arguments)}function Sb(){return(Sb=v(function*(e,t){const n=Sl(e),i=(yield Ib()).transaction(ko,"readwrite"),s=i.objectStore(ko),o=yield s.get(n);return yield s.put(t,n),yield i.done,(!o||o.fid!==t.fid)&&Bk(e,t.fid),t})).apply(this,arguments)}function Ab(e){return Mb.apply(this,arguments)}function Mb(){return(Mb=v(function*(e){const t=Sl(e),r=(yield Ib()).transaction(ko,"readwrite");yield r.objectStore(ko).delete(t),yield r.done})).apply(this,arguments)}function Fu(e,t){return Ob.apply(this,arguments)}function Ob(){return(Ob=v(function*(e,t){const n=Sl(e),i=(yield Ib()).transaction(ko,"readwrite"),s=i.objectStore(ko),o=yield s.get(n),a=t(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&Bk(e,a.fid),a})).apply(this,arguments)}function Nb(e){return Rb.apply(this,arguments)}function Rb(){return Rb=v(function*(e){let t;const n=yield Fu(e.appConfig,r=>{const i=function jZ(e){return Hk(e||{fid:kZ(),registrationStatus:0})}(r),s=function HZ(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(es.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function GZ(e,t){return Pb.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:zZ(e)}:{installationEntry:t}}(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Eb?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}}),Rb.apply(this,arguments)}function Pb(){return Pb=v(function*(e,t){try{const n=yield function RZ(e,t){return Cb.apply(this,arguments)}(e,t);return xp(e.appConfig,n)}catch(n){throw Pk(n)&&409===n.customData.serverCode?yield Ab(e.appConfig):yield xp(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}),Pb.apply(this,arguments)}function zZ(e){return xb.apply(this,arguments)}function xb(){return(xb=v(function*(e){let t=yield jk(e.appConfig);for(;1===t.registrationStatus;)yield Lk(100),t=yield jk(e.appConfig);if(0===t.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Nb(e);return r||n}return t})).apply(this,arguments)}function jk(e){return Fu(e,t=>{if(!t)throw es.create("installation-not-found");return Hk(t)})}function Hk(e){return function WZ(e){return 1===e.registrationStatus&&e.registrationTime+Ok<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function kb(){return(kb=v(function*({appConfig:e,heartbeatServiceProvider:t},n){const r=function KZ(e,{fid:t}){return`${yb(e)}/${t}/authTokens:generate`}(e,n),i=function Fk(e,{refreshToken:t}){const n=kk(e);return n.append("Authorization",function NZ(e){return`${Rk} ${e}`}(t)),n}(e,n),s=t.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Nk,appId:e.appId}})},l=yield wb(()=>fetch(r,a));if(l.ok)return xk(yield l.json());throw yield vb("Generate Auth Token",l)})).apply(this,arguments)}function Fb(e){return Lb.apply(this,arguments)}function Lb(){return Lb=v(function*(e,t=!1){let n;const r=yield Fu(e.appConfig,s=>{if(!zk(s))throw es.create("not-registered");const o=s.authToken;if(!t&&function JZ(e){return 2===e.requestStatus&&!function ZZ(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+IZ}(e)}(o))return s;if(1===o.requestStatus)return n=function YZ(e,t){return Bb.apply(this,arguments)}(e,t),s;{if(!navigator.onLine)throw es.create("app-offline");const a=function XZ(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(s);return n=function QZ(e,t){return Vb.apply(this,arguments)}(e,a),a}});return n?yield n:r.authToken}),Lb.apply(this,arguments)}function Bb(){return(Bb=v(function*(e,t){let n=yield Gk(e.appConfig);for(;1===n.authToken.requestStatus;)yield Lk(100),n=yield Gk(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Fb(e,t):r})).apply(this,arguments)}function Gk(e){return Fu(e,t=>{if(!zk(t))throw es.create("not-registered");return function eX(e){return 1===e.requestStatus&&e.requestTime+Ok<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function Vb(){return Vb=v(function*(e,t){try{const n=yield function qZ(e,t){return kb.apply(this,arguments)}(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield xp(e.appConfig,r),n}catch(n){if(!Pk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield xp(e.appConfig,r)}else yield Ab(e.appConfig);throw n}}),Vb.apply(this,arguments)}function zk(e){return void 0!==e&&2===e.registrationStatus}function $b(){return($b=v(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield Nb(t);return r?r.catch(console.error):Fb(t).catch(console.error),n.fid})).apply(this,arguments)}function Ub(){return Ub=v(function*(e,t=!1){const n=e;return yield function rX(e){return jb.apply(this,arguments)}(n),(yield Fb(n,t)).token}),Ub.apply(this,arguments)}function jb(){return(jb=v(function*(e){const{registrationPromise:t}=yield Nb(e);t&&(yield t)})).apply(this,arguments)}function zb(e){return es.create("missing-app-config-values",{valueName:e})}const Wk="installations",lX=e=>{const t=e.getProvider("app").getImmediate(),n=function oX(e){if(!e||!e.options)throw zb("App Configuration");if(!e.name)throw zb("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw zb(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Il(t,"heartbeat"),_delete:()=>Promise.resolve()}},cX=e=>{const n=Il(e.getProvider("app").getImmediate(),Wk).getImmediate();return{getId:()=>function tX(e){return $b.apply(this,arguments)}(n),getToken:i=>function nX(e){return Ub.apply(this,arguments)}(n,i)}};(function uX(){On(new vn(Wk,lX,"PUBLIC")),On(new vn("installations-internal",cX,"PRIVATE"))})(),yt(Mk,mb),yt(Mk,mb,"esm2017");const Wb="@firebase/remote-config",Kn=new gi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wX{constructor(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${i}.`),i}fetch(t){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(t.cacheMaxAgeMillis,r))return i;t.eTag=i&&i.eTag;const s=yield n.client.fetch(t),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function DX(e=navigator){return e.languages&&e.languages[0]||e.language}class CX{constructor(t,n,r,i,s,o){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(t){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:DX()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((w,m)=>{t.signal.addEventListener(()=>{const I=new Error("The operation was aborted.");I.name="AbortError",m(I)})});let f;try{yield Promise.race([u,d]),f=yield u}catch(w){let m="fetch-client-network";throw"AbortError"===w?.name&&(m="fetch-timeout"),Kn.create(m,{originalErrorMessage:w?.message})}let h=f.status;const p=f.headers.get("ETag")||void 0;let g,_;if(200===f.status){let w;try{w=yield f.json()}catch(m){throw Kn.create("fetch-client-parse",{originalErrorMessage:m?.message})}g=w.entries,_=w.state}if("INSTANCE_STATE_UNSPECIFIED"===_?h=500:"NO_CHANGE"===_?h=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==h&&200!==h)throw Kn.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:g}})()}}class IX{constructor(t,n){this.client=t,this.storage=n}fetch(t){var n=this;return v(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(t,r)})()}attemptFetch(t,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return v(function*(){yield function EX(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Kn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(t.signal,n);try{const s=yield i.client.fetch(t);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function TX(e){if(!(e instanceof qr&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(s))throw s;const o={throttleEndTimeMillis:Date.now()+J0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(t,o)}})()}}class MX{constructor(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fp(e,t){const n=e.target.error||void 0;return Kn.create(t,{originalErrorMessage:n&&n?.message})}const Fo="app_namespace_store";class PX{constructor(t,n,r,i=function RX(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{t(Fp(r,"storage-open"))},n.onsuccess=r=>{e(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Fo,{keyPath:"compositeKey"})}}catch(n){t(Kn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Fo],"readonly").objectStore(Fo),l=n.createCompositeKey(t);try{const c=a.get(l);c.onerror=u=>{s(Fp(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(Kn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(t,n){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([Fo],"readwrite").objectStore(Fo),c=r.createCompositeKey(t);try{const u=l.put({compositeKey:c,value:n});u.onerror=d=>{o(Fp(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Kn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(t){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Fo],"readwrite").objectStore(Fo),l=n.createCompositeKey(t);try{const c=a.delete(l);c.onerror=u=>{s(Fp(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Kn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class xX{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return v(function*(){const n=t.storage.getLastFetchStatus(),r=t.storage.getLastSuccessfulFetchTimestampMillis(),i=t.storage.getActiveConfig(),s=yield n;s&&(t.lastFetchStatus=s);const o=yield r;o&&(t.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(t.activeConfig=a)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function FX(){return Jb.apply(this,arguments)}function Jb(){return(Jb=v(function*(){if(!Mo())return!1;try{return yield Ou()}catch{return!1}})).apply(this,arguments)}!function kX(){On(new vn("remote-config",function e(t,{instanceIdentifier:n}){const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Kn.create("registration-window");if(!Mo())throw Kn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Kn.create("registration-project-id");if(!o)throw Kn.create("registration-api-key");if(!a)throw Kn.create("registration-app-id");const l=new PX(a,r.name,n=n||"firebase"),c=new xX(l),u=new Tl(Wb);u.logLevel=ze.ERROR;const d=new CX(i,Po,n,s,o,a),f=new IX(d,l),h=new wX(f,l,c,u),p=new MX(r,h,c,l,u);return function yX(e){const t=qn(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),yt(Wb,"0.4.4"),yt(Wb,"0.4.4","esm2017")}();const LX=(e,t)=>t.some(n=>e instanceof n);let Qk,Jk;const Zk=new WeakMap,Zb=new WeakMap,Xk=new WeakMap,Xb=new WeakMap,ew=new WeakMap;let tw={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Zb.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xk.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function GX(e){return"function"==typeof e?function HX(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function VX(){return Jk||(Jk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(nw(this),t),ts(Zk.get(this))}:function(...t){return ts(e.apply(nw(this),t))}:function(t,...n){const r=e.call(nw(this),t,...n);return Xk.set(r,t.sort?t.sort():[t]),ts(r)}}(e):(e instanceof IDBTransaction&&function UX(e){if(Zb.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Zb.set(e,t)}(e),LX(e,function BX(){return Qk||(Qk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,tw):e)}function ts(e){if(e instanceof IDBRequest)return function $X(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ts(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Zk.set(n,e)}).catch(()=>{}),ew.set(t,e),t}(e);if(Xb.has(e))return Xb.get(e);const t=GX(e);return t!==e&&(Xb.set(e,t),ew.set(t,e)),t}const nw=e=>ew.get(e);function eF(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=ts(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ts(o.result),l.oldVersion,l.newVersion,ts(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function rw(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),ts(n).then(()=>{})}const zX=["get","getKey","getAll","getAllKeys","count"],WX=["put","add","delete","clear"],iw=new Map;function tF(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(iw.get(t))return iw.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=WX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!zX.includes(n))return;const s=function(){var o=v(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return iw.set(t,s),s}!function jX(e){tw=e(tw)}(e=>({...e,get:(t,n,r)=>tF(t,n)||e.get(t,n,r),has:(t,n)=>!!tF(t,n)||e.has(t,n)}));const qX="/firebase-messaging-sw.js",KX="/firebase-cloud-messaging-push-scope",nF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",YX="https://fcmregistrations.googleapis.com/v1",rF="google.c.a.c_id",QX="google.c.a.c_l",JX="google.c.a.ts";var Lp=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}(Lp||{});function ns(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eee(e){const n=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const sw="fcm_token_details_db",tee=5,iF="fcm_token_object_Store";function ow(){return ow=v(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(sw))return null;let t=null;return(yield eF(sw,tee,{upgrade:(r=v(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(iF))return;const c=a.objectStore(iF),u=yield c.index("fcmSenderId").get(e);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ns(d.vapidKey)}}}else if(3===s){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ns(d.auth),p256dh:ns(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ns(d.vapidKey)}}}else if(4===s){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ns(d.auth),p256dh:ns(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ns(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield rw(sw),yield rw("fcm_vapid_details_db"),yield rw("undefined"),function ree(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null;var r}),ow.apply(this,arguments)}const iee="firebase-messaging-database",see=1,Lo="firebase-messaging-store";let aw=null;function lw(){return aw||(aw=eF(iee,see,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Lo)}})),aw}function sF(e){return cw.apply(this,arguments)}function cw(){return cw=v(function*(e){const t=hw(e),r=yield(yield lw()).transaction(Lo).objectStore(Lo).get(t);if(r)return r;{const i=yield function nee(e){return ow.apply(this,arguments)}(e.appConfig.senderId);if(i)return yield uw(e,i),i}}),cw.apply(this,arguments)}function uw(e,t){return dw.apply(this,arguments)}function dw(){return(dw=v(function*(e,t){const n=hw(e),i=(yield lw()).transaction(Lo,"readwrite");return yield i.objectStore(Lo).put(t,n),yield i.done,t})).apply(this,arguments)}function fw(){return(fw=v(function*(e){const t=hw(e),r=(yield lw()).transaction(Lo,"readwrite");yield r.objectStore(Lo).delete(t),yield r.done})).apply(this,arguments)}function hw({appConfig:e}){return e.appId}const ln=new gi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function lee(e,t){return pw.apply(this,arguments)}function pw(){return(pw=v(function*(e,t){const n=yield yw(e),r=aF(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(mw(e.appConfig),i)).json()}catch(o){throw ln.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw ln.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw ln.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function gw(){return(gw=v(function*(e,t){const n=yield yw(e),r=aF(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${mw(e.appConfig)}/${t.token}`,i)).json()}catch(o){throw ln.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw ln.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw ln.create("token-update-no-token");return s.token})).apply(this,arguments)}function oF(e,t){return _w.apply(this,arguments)}function _w(){return(_w=v(function*(e,t){const r={method:"DELETE",headers:yield yw(e)};try{const s=yield(yield fetch(`${mw(e.appConfig)}/${t}`,r)).json();if(s.error)throw ln.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw ln.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function mw({projectId:e}){return`${YX}/projects/${e}/registrations`}function yw(e){return vw.apply(this,arguments)}function vw(){return(vw=v(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function aF({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==nF&&(i.web.applicationPubKey=r),i}const uee=6048e5;function bw(){return bw=v(function*(e){const t=yield function hee(e,t){return Ew.apply(this,arguments)}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:ns(t.getKey("auth")),p256dh:ns(t.getKey("p256dh"))},r=yield sF(e.firebaseDependencies);if(r){if(function pee(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+uee?function fee(e,t){return Dw.apply(this,arguments)}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield oF(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return cF(e.firebaseDependencies,n)}return cF(e.firebaseDependencies,n)}),bw.apply(this,arguments)}function ww(){return ww=v(function*(e){const t=yield sF(e.firebaseDependencies);t&&(yield oF(e.firebaseDependencies,t.token),yield function oee(e){return fw.apply(this,arguments)}(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),ww.apply(this,arguments)}function Dw(){return Dw=v(function*(e,t){try{const n=yield function cee(e,t){return gw.apply(this,arguments)}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield uw(e.firebaseDependencies,r),n}catch(n){throw yield function lF(e){return ww.apply(this,arguments)}(e),n}}),Dw.apply(this,arguments)}function cF(e,t){return Cw.apply(this,arguments)}function Cw(){return(Cw=v(function*(e,t){const r={token:yield lee(e,t),createTime:Date.now(),subscriptionOptions:t};return yield uw(e,r),r.token})).apply(this,arguments)}function Ew(){return(Ew=v(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eee(t)})})).apply(this,arguments)}function uF(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function gee(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const s=t.notification.icon;s&&(e.notification.icon=s)}(t,e),function _ee(e,t){t.data&&(e.data=t.data)}(t,e),function mee(e,t){var n,r,i,s,o;if(!(t.fcmOptions||null!==(n=t.notification)&&void 0!==n&&n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=t.notification)||void 0===s?void 0:s.click_action;a&&(e.fcmOptions.link=a);const l=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function dF(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Tw(e){return ln.create("missing-app-config-values",{valueName:e})}dF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bee{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function vee(e){if(!e||!e.options)throw Tw("App Configuration Object");if(!e.name)throw Tw("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Tw(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Iw(){return(Iw=v(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(qX,{scope:KX}),e.swRegistration.update().catch(()=>{})}catch(t){throw ln.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})).apply(this,arguments)}function Sw(){return(Sw=v(function*(e,t){if(!t&&!e.swRegistration&&(yield function fF(e){return Iw.apply(this,arguments)}(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw ln.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Aw(){return(Aw=v(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=nF)})).apply(this,arguments)}function Mw(){return Mw=v(function*(e,t){if(!navigator)throw ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ln.create("permission-blocked");return yield function Dee(e,t){return Aw.apply(this,arguments)}(e,t?.vapidKey),yield function wee(e,t){return Sw.apply(this,arguments)}(e,t?.serviceWorkerRegistration),function dee(e){return bw.apply(this,arguments)}(e)}),Mw.apply(this,arguments)}function Ow(){return(Ow=v(function*(e,t,n){const r=function Eee(e){switch(e){case Lp.NOTIFICATION_CLICKED:return"notification_open";case Lp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[rF],message_name:n[QX],message_time:n[JX],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Nw(){return Nw=v(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Lp.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(uF(n)):e.onMessageHandler.next(uF(n)));const r=n.data;(function yee(e){return"object"==typeof e&&!!e&&rF in e})(r)&&"1"===r["google.c.a.e"]&&(yield function Cee(e,t,n){return Ow.apply(this,arguments)}(e,n.messageType,r))}),Nw.apply(this,arguments)}const pF="@firebase/messaging",Iee=e=>{const t=new bee(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Tee(e,t){return Nw.apply(this,arguments)}(t,n)),t},See=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>function hF(e,t){return Mw.apply(this,arguments)}(t,r)}};function _F(){return Rw.apply(this,arguments)}function Rw(){return(Rw=v(function*(){try{yield Ou()}catch{return!1}return typeof window<"u"&&Mo()&&K0()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Aee(){On(new vn("messaging",Iee,"PUBLIC")),On(new vn("messaging-internal",See,"PRIVATE")),yt(pF,"0.12.4"),yt(pF,"0.12.4","esm2017")}();const Bp="analytics",Nee="firebase_id",Ree="origin",Pee=6e4,xee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kw="https://www.googletagmanager.com/gtag/js",Kt=new Tl("@firebase/analytics"),Nn=new gi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Fee(e){if(!e.startsWith(kw)){const t=Nn.create("invalid-gtag-resource",{gtagURL:e});return Kt.warn(t.message),""}return e}function mF(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function Fw(){return(Fw=v(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const l=(yield mF(n)).find(c=>c.measurementId===i);l&&(yield t[l.appId])}}catch(a){Kt.error(a)}e("config",i,s)})).apply(this,arguments)}function Lw(){return(Lw=v(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield mF(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&t[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){Kt.error(s)}})).apply(this,arguments)}const zee=30,yF=new class qee{constructor(t={},n=1e3){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Kee(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Bw(){return(Bw=v(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Kee(r)},s=xee.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(t=l.error)&&void 0!==t&&t.message&&(a=l.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Vw(){return(Vw=v(function*(e,t=yF,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Nn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Nn.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Xee;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:Pee),vF({appId:r,apiKey:i,measurementId:s},o,a,t)})).apply(this,arguments)}function vF(e,t,n){return $w.apply(this,arguments)}function $w(){return $w=v(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=yF){var s;const{appId:o,measurementId:a}=e;try{yield function Jee(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Nn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,t)}catch(l){if(a)return Kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield function Yee(e){return Bw.apply(this,arguments)}(e);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!function Zee(e){if(!(e instanceof qr&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c)){if(i.deleteThrottleMetadata(o),a)return Kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?J0(n,i.intervalMillis,zee):J0(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),Kt.debug(`Calling attemptFetch again in ${u} millis`),vF(e,d,r,i)}}),$w.apply(this,arguments)}class Xee{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let Uw,Kw;function jw(){return(jw=v(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const s=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Yw(){return(Yw=v(function*(){if(!Mo())return Kt.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ou()}catch(e){return Kt.warn(Nn.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0})).apply(this,arguments)}function Qw(){return Qw=v(function*(e,t,n,r,i,s,o){var a;const l=function Qee(e){return Vw.apply(this,arguments)}(e);l.then(h=>{n[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&Kt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Kt.error(h)),t.push(l);const c=function ote(){return Yw.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([l,c]);(function Gee(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(kw)&&n.src.includes(e))return n;return null})(s)||function Bee(e,t){const n=function Lee(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Fee}),r=document.createElement("script"),i=`${kw}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),Kw&&(i("consent","default",Kw),function bF(e){Kw=e}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[Ree]="firebase",f.update=!0,null!=d&&(f[Nee]=d),i("config",u.measurementId,f),Uw&&(i("set",Uw),function wF(e){Uw=e}(void 0)),u.measurementId}),Qw.apply(this,arguments)}class lte{constructor(t){this.app=t}_delete(){return delete _i[this.app.options.appId],Promise.resolve()}}let _i={},DF=[];const CF={};let TF,mi,Vp="dataLayer",Jw=!1;function ute(e,t,n){!function cte(){const e=[];if(q0()&&e.push("This is a browser extension environment."),K0()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Nn.create("invalid-analytics-context",{errorInfo:t});Kt.warn(n.message)}}();const r=e.options.appId;if(!r)throw Nn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Nn.create("no-api-key");Kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_i[r])throw Nn.create("already-exists",{id:r});if(!Jw){!function Vee(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Vp);const{wrappedGtag:s,gtagCore:o}=function Hee(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function jee(e,t,n,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[l,c]=a;yield function Uee(e,t,n,r,i){return Lw.apply(this,arguments)}(e,t,n,l,c)}else if("config"===o){const[l,c]=a;yield function $ee(e,t,n,r,i,s){return Fw.apply(this,arguments)}(e,t,n,r,l,c)}else if("consent"===o){const[l]=a;e("consent","update",l)}else if("get"===o){const[l,c,u]=a;e("get",l,c,u)}else if("set"===o){const[l]=a;e("set",l)}else e(o,...a)}catch(l){Kt.error(l)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(_i,DF,CF,Vp,"gtag");mi=s,TF=o,Jw=!0}return _i[r]=function ate(e,t,n,r,i,s,o){return Qw.apply(this,arguments)}(e,DF,CF,t,TF,Vp,n),new lte(e)}function fte(){return Zw.apply(this,arguments)}function Zw(){return(Zw=v(function*(){if(q0()||!K0()||!Mo())return!1;try{return yield Ou()}catch{return!1}})).apply(this,arguments)}const IF="@firebase/analytics";!function pte(){On(new vn(Bp,(t,{options:n})=>ute(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),On(new vn("analytics-internal",function e(t){try{const n=t.getProvider(Bp).getImmediate();return{logEvent:(r,i,s)=>function hte(e,t,n,r){e=qn(e),function ete(e,t,n,r,i){return jw.apply(this,arguments)}(mi,_i[e.app.options.appId],t,n,r).catch(i=>Kt.error(i))}(n,r,i,s)}}catch(n){throw Nn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),yt(IF,"0.10.0"),yt(IF,"0.10.0","esm2017")}();class gte extends wt{constructor(t,n){super()}schedule(t,n=0){return this}}const $p={setInterval(e,t,...n){const{delegate:r}=$p;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=$p;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class AF extends gte{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return $p.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&$p.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ps(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const MF={now:()=>(MF.delegate||Date).now(),delegate:void 0};class Lu{constructor(t,n=Lu.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Lu.now=MF.now;class OF extends Lu{constructor(t,n=Lu.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const yte=new class mte extends OF{}(class _te extends AF{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}}),e1=new OF(AF),vte=e1;function $t(e,t,n){const r=he(e)||t||n?{next:e,error:t,complete:n}:e;return r?ot((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Qe(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):xr}const Up=new el("7.6.1"),t1="__angularfire_symbol__analyticsIsSupportedValue",n1="__angularfire_symbol__analyticsIsSupported",r1="__angularfire_symbol__remoteConfigIsSupportedValue",i1="__angularfire_symbol__remoteConfigIsSupported",s1="__angularfire_symbol__messagingIsSupportedValue",o1="__angularfire_symbol__messagingIsSupported";function l1(e,t,n){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[n1]||(globalThis[n1]=fte().then(e=>globalThis[t1]=e).catch(()=>globalThis[t1]=!1)),globalThis[o1]||(globalThis[o1]=_F().then(e=>globalThis[s1]=e).catch(()=>globalThis[s1]=!1)),globalThis[i1]||(globalThis[i1]=FX().then(e=>globalThis[r1]=e).catch(()=>globalThis[r1]=!1));const c1=(e,t)=>{const n=t?[t]:yk(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ml(){}class NF{constructor(t,n=yte){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{t.apply(this,[o])})},n,r)}}class bte{constructor(t){this.zone=t,this.task=null}call(t,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ml,{},Ml,Ml)),n.pipe($t({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let u1=(()=>{class e{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new NF(Zone.current)),this.insideAngular=n.run(()=>new NF(Zone.current,e1)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(n){return new(n||e)(R(de))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Bo(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Vo(e){return Bo().ngZone.run(()=>e())}function Dte(e){return Bo(),function Cte(e){return function(n){return(n=n.lift(new bte(e.ngZone))).pipe(Cf(e.outsideAngular),Df(e.insideAngular))}}(Bo())(e)}const Ete=(e,t)=>function(){const r=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Vo(()=>e.apply(void 0,r))},rs=(e,t)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(t&&(n||(n=Vo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ml,{},Ml,Ml)))),r[s]=Ete(r[s],n));const i=function wte(e){return Bo().ngZone.runOutsideAngular(()=>e())}(()=>e.apply(this,r));if(!t){if(i instanceof Pe){const s=Bo();return i.pipe(Cf(s.outsideAngular),Df(s.insideAngular))}return Vo(()=>i)}return i instanceof Pe?i.pipe(Dte):i instanceof Promise?Vo(()=>new Promise((s,o)=>i.then(a=>Vo(()=>s(a)),a=>Vo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Vo(()=>i)};class Ol{constructor(t){return t}}class d1{constructor(){return yk()}}const f1=new U("angularfire2._apps"),Ite={provide:Ol,useFactory:function Tte(e){return e&&1===e.length?e[0]:new Ol(ob())},deps:[[new Sn,f1]]},Ste={provide:d1,deps:[[new Sn,f1]]};function Ate(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new Ol(r)}}let Mte=(()=>{class e{constructor(n){yt("angularfire",Up.full,"core"),yt("angularfire",Up.full,"app"),yt("angular",mM.full,n.toString())}}return e.\u0275fac=function(n){return new(n||e)(R(Ts))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({providers:[Ite,Ste]}),e})();function Ote(e,...t){return{ngModule:Mte,providers:[{provide:f1,useFactory:Ate(e),multi:!0,deps:[de,Rt,u1,...t]}]}}const Nte=rs(mk,!0),Rte_firebase={projectId:"todo-list-angular-ff521",appId:"1:713774610295:web:08a1c7635e81587533d372",storageBucket:"todo-list-angular-ff521.appspot.com",apiKey:"AIzaSyA_tS7goexo23KK2oanKWxuTCo15C-W4Rg",authDomain:"todo-list-angular-ff521.firebaseapp.com",messagingSenderId:"713774610295"},h1=new Map,RF={activated:!1,tokenObservers:[]},Pte={initialized:!1,enabled:!1};function vt(e){return h1.get(e)||Object.assign({},RF)}function jp(){return Pte}const p1="https://content-firebaseappcheck.googleapis.com/v1",Lte="exchangeDebugToken",PF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Vte{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var n=this;return v(function*(){n.stop();try{n.pending=new Ao,yield function $te(e){return new Promise(t=>{setTimeout(t,e)})}(n.getNextRun(t)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ao,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const cn=new gi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function g1(e){if(!vt(e).activated)throw cn.create("use-before-activation",{appName:e.name})}function zp(e,t){return m1.apply(this,arguments)}function m1(){return(m1=v(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o,a;try{o=yield fetch(e,s)}catch(d){throw cn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw cn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw cn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw cn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function xF(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${p1}/projects/${n}/apps/${r}:${Lte}?key=${i}`,body:{debug_token:t}}}const Gte="firebase-app-check-database",zte=1,Bu="firebase-app-check-store";let Wp=null;function y1(){return(y1=v(function*(e,t){const r=(yield function FF(){return Wp||(Wp=new Promise((e,t)=>{try{const n=indexedDB.open(Gte,zte);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(cn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bu,{keyPath:"compositeKey"})}}catch(n){t(cn.create("storage-open",{originalErrorMessage:n?.message}))}}),Wp)}()).transaction(Bu,"readwrite"),s=r.objectStore(Bu).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(cn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Vu=new Tl("@firebase/app-check");function w1(e,t){return Mo()?function qte(e,t){return function LF(e,t){return y1.apply(this,arguments)}(function VF(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(n=>{Vu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function C1(){return jp().enabled}function E1(){return T1.apply(this,arguments)}function T1(){return(T1=v(function*(){const e=jp();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Xte={error:"UNKNOWN_ERROR"};function ene(e){return Ep.encodeString(JSON.stringify(e),!1)}function qp(e){return I1.apply(this,arguments)}function I1(){return(I1=v(function*(e,t=!1){const n=e.app;g1(n);const r=vt(n);let s,i=r.token;if(i&&!Nl(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(Nl(l)?i=l:yield w1(n,void 0))}if(!t&&i&&Nl(i))return{token:i.token};let a,o=!1;if(C1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=zp(xF(n,yield E1()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield w1(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield vt(n).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Vu.warn(l.message):Vu.error(l),s=l}return i?s?a=Nl(i)?{token:i.token,internalError:s}:HF(s):(a={token:i.token},r.token=i,yield w1(n,i)):a=HF(s),o&&function jF(e,t){const n=vt(e).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}(n,a),a})).apply(this,arguments)}function $F(e){return S1.apply(this,arguments)}function S1(){return(S1=v(function*(e){const t=e.app;g1(t);const{provider:n}=vt(t);if(C1()){const r=yield E1(),{token:i}=yield zp(xF(t,r),e.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function M1(e,t){const n=vt(e),r=n.tokenObservers.filter(i=>i.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function UF(e){const{app:t}=e,n=vt(t);let r=n.tokenRefresher;r||(r=function tne(e){const{app:t}=e;return new Vte(v(function*(){let r;if(r=vt(t).token?yield qp(e,!0):yield qp(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=vt(t);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},PF.RETRIAL_MIN_WAIT,PF.RETRIAL_MAX_WAIT)}(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Nl(e){return e.expireTimeMillis-Date.now()>0}function HF(e){return{token:ene(Xte),error:e}}class nne{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=vt(this.app);for(const n of t)M1(this.app,n.next);return Promise.resolve()}}const JF="app-check-internal";!function _ne(){On(new vn("app-check",e=>function rne(e,t){return new nne(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(JF).initialize()})),On(new vn(JF,e=>function ine(e){return{getToken:t=>qp(e,t),getLimitedUseToken:()=>$F(e),addTokenListener:t=>function A1(e,t,n,r){const{app:i}=e,s=vt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:t}],s.token&&Nl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),UF(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>UF(e))}(e,"INTERNAL",t),removeTokenListener:t=>M1(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),yt("@firebase/app-check","0.8.0")}();class P1{constructor(){return c1("app-check")}}typeof window<"u"&&window;const wne=function XF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},eL=new gi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yp=new Tl("@firebase/auth");function Qp(e,...t){Yp.logLevel<=ze.ERROR&&Yp.error(`Auth (${Po}): ${e}`,...t)}function Yn(e,...t){throw k1(e,...t)}function yi(e,...t){return k1(e,...t)}function k1(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return eL.create(e,...t)}function N(e,t,...n){if(!e)throw k1(t,...n)}function vi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Qp(t),new Error(t)}function xs(e,t){e||vi(t)}function $u(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nL(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Uu{constructor(t,n){this.shortDelay=t,this.longDelay=n,xs(n>t,"Short delay should be less than long delay!"),this.isMobile=W0()||lk()}get(){return function Cne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function F1(){return"http:"===nL()||"https:"===nL()}()||q0()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function L1(e,t){xs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class rL{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ine=new Uu(3e4,6e4);function dt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function bt(e,t,n,r){return B1.apply(this,arguments)}function B1(){return(B1=v(function*(e,t,n,r,i={}){return iL(e,i,v(function*(){let s={},o={};r&&("GET"===t?o=r:s={body:JSON.stringify(r)});const a=Ru(Object.assign({key:e.config.apiKey},o)).slice(1),l=yield e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),rL.fetch()(sL(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function iL(e,t,n){return V1.apply(this,arguments)}function V1(){return(V1=v(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tne),t);try{const i=new Sne(e),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ju(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw ju(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw ju(e,"email-already-in-use",o);if("USER_DISABLED"===l)throw ju(e,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function tL(e,t,n){const r=Object.assign(Object.assign({},wne()),{[t]:n});return new gi("auth","Firebase",r).create(t,{appName:e.name})}(e,u,c);Yn(e,u)}}catch(i){if(i instanceof qr)throw i;Yn(e,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function is(e,t,n,r){return $1.apply(this,arguments)}function $1(){return($1=v(function*(e,t,n,r,i={}){const s=yield bt(e,t,n,r,i);return"mfaPendingCredential"in s&&Yn(e,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function sL(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?L1(e.config,i):`${e.config.apiScheme}://${i}`}class Sne{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),Ine.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ju(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yi(e,t,r);return i.customData._tokenResponse=n,i}function U1(){return(U1=v(function*(e,t){return bt(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function H1(){return(H1=v(function*(e,t){return bt(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Hu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function G1(){return(G1=v(function*(e,t=!1){const n=qn(e),r=yield n.getIdToken(t),i=Jp(r);N(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Hu(z1(i.auth_time)),issuedAtTime:Hu(z1(i.iat)),expirationTime:Hu(z1(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function z1(e){return 1e3*Number(e)}function Jp(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Qp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ip(n);return i?JSON.parse(i):(Qp("Failed to decode base64 JWT payload"),null)}catch(i){return Qp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ss(e,t){return W1.apply(this,arguments)}function W1(){return(W1=v(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof qr&&function Pne({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}class xne{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var t=this;return v(function*(){try{yield t.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&t.schedule(!0))}t.schedule()})()}}class oL{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gu(e){return q1.apply(this,arguments)}function q1(){return q1=v(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield ss(e,function One(e,t){return H1.apply(this,arguments)}(n,{idToken:r}));N(i?.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?function Lne(e){return e.map(t=>{var{providerId:n}=t,r=vf(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Fne(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(e.providerData,o),u=!!e.isAnonymous&&!(e.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oL(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}),q1.apply(this,arguments)}function K1(){return(K1=v(function*(e){const t=qn(e);yield Gu(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function Y1(){return(Y1=v(function*(e,t){const n=yield iL(e,{},v(function*(){const r=Ru({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=sL(e,i,"/v1/token",`key=${s}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rL.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){N(t.idToken,"internal-error"),N(typeof t.idToken<"u","internal-error"),N(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function Rne(e){const t=Jp(e);return N(t,"internal-error"),N(typeof t.exp<"u","internal-error"),N(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}getToken(t,n=!1){var r=this;return v(function*(){return N(!r.accessToken||r.refreshToken,t,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(t,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Bne(e,t){return Y1.apply(this,arguments)}(t,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zu;return r&&(N("string"==typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:t}),o.accessToken=i),s&&(N("number"==typeof s,"internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new zu,this.toJSON())}_performRefresh(){return vi("not implemented")}}function ks(e,t){N("string"==typeof e||typeof e>"u","internal-error",{appName:t})}class $o{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=vf(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var n=this;return v(function*(){const r=yield ss(n,n.stsTokenManager.getToken(n.auth,t));return N(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(t){return function Nne(e){return G1.apply(this,arguments)}(this,t)}reload(){return function kne(e){return K1.apply(this,arguments)}(this)}_assign(t){this!==t&&(N(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new $o(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){var r=this;return v(function*(){let i=!1;t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),i=!0),n&&(yield Gu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var t=this;return v(function*(){const n=yield t.getIdToken();return yield ss(t,function Ane(e,t){return U1.apply(this,arguments)}(t.auth,{idToken:n})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,c,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,m=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:I,emailVerified:T,isAnonymous:x,providerData:G,stsTokenManager:K}=n;N(I&&K,t,"internal-error");const ne=zu.fromJSON(this.name,K);N("string"==typeof I,t,"internal-error"),ks(d,t.name),ks(f,t.name),N("boolean"==typeof T,t,"internal-error"),N("boolean"==typeof x,t,"internal-error"),ks(h,t.name),ks(p,t.name),ks(g,t.name),ks(_,t.name),ks(w,t.name),ks(m,t.name);const ve=new $o({uid:I,auth:t,email:f,emailVerified:T,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:ne,createdAt:w,lastLoginAt:m});return G&&Array.isArray(G)&&(ve.providerData=G.map(Ee=>Object.assign({},Ee))),_&&(ve._redirectEventId=_),ve}static _fromIdTokenResponse(t,n,r=!1){return v(function*(){const i=new zu;i.updateFromServerResponse(n);const s=new $o({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield Gu(s),s})()}}const aL=new Map;function os(e){xs(e instanceof Function,"Expected a class definition");let t=aL.get(e);return t?(xs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,aL.set(e,t),t)}const lL=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})();function Zp(e,t,n){return`firebase:${e}:${t}:${n}`}class Pl{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return v(function*(){const n=yield t.persistence._get(t.fullUserKey);return n?$o._fromJSON(t.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var n=this;return v(function*(){if(n.persistence===t)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=t,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return v(function*(){if(!n.length)return new Pl(os(lL),t,r);const i=(yield Promise.all(n.map(function(){var c=v(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||os(lL);const o=Zp(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=yield c._get(o);if(u){const d=$o._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Pl(s,t,r)):new Pl(s,t,r)})()}}function cL(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fL(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uL(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pL(t))return"Blackberry";if(gL(t))return"Webos";if(Q1(t))return"Safari";if((t.includes("chrome/")||dL(t))&&!t.includes("edge/"))return"Chrome";if(hL(t))return"Android";{const r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function uL(e=Wt()){return/firefox\//i.test(e)}function Q1(e=Wt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dL(e=Wt()){return/crios\//i.test(e)}function fL(e=Wt()){return/iemobile/i.test(e)}function hL(e=Wt()){return/android/i.test(e)}function pL(e=Wt()){return/blackberry/i.test(e)}function gL(e=Wt()){return/webos/i.test(e)}function Xp(e=Wt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _L(e=Wt()){return Xp(e)||hL(e)||gL(e)||pL(e)||/windows phone/i.test(e)||fL(e)}function mL(e,t=[]){let n;switch(e){case"Browser":n=cL(Wt());break;case"Worker":n=`${cL(Wt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${r}`}function yL(e,t){return Z1.apply(this,arguments)}function Z1(){return(Z1=v(function*(e,t){return bt(e,"GET","/v2/recaptchaConfig",dt(e,t))})).apply(this,arguments)}function bL(e){return void 0!==e&&void 0!==e.enterprise}class wL{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function X1(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=yi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Hne(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function DL(e){return`__${e}${Math.floor(1e6*Math.random())}`}class CL{constructor(t){this.type="recaptcha-enterprise",this.auth=Yt(t)}verify(t="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=v(function*(c,u){yL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new wL(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,c(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,c){const u=window.grecaptcha;bL(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:t}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&bL(window.grecaptcha))o(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));X1("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function Fs(e,t,n){return eD.apply(this,arguments)}function eD(){return(eD=v(function*(e,t,n,r=!1){const i=new CL(e);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},t);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class qne{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{o(t(s))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var n=this;return v(function*(){if(n.auth.currentUser===t)return;const r=[];try{for(const i of n.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Kne{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EL(this),this.idTokenSubscription=new EL(this),this.beforeStateQueue=new qne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){var r=this;return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Pl.create(r,t),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return v(function*(){if(t._deleted)return;const n=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||n){if(t.currentUser&&n&&t.currentUser.uid===n.uid)return t._currentUser._assign(n),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(n,!0)}})()}initializeCurrentUser(t){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield n.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return N(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,t,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var n=this;return v(function*(){try{yield Gu(t)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function Ene(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var t=this;return v(function*(){t._deleted=!0})()}updateCurrentUser(t){var n=this;return v(function*(){const r=t?qn(t):null;return r&&N(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(t,n=!1){var r=this;return v(function*(){if(!r._deleted)return t&&N(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(t)),r.queue(v(function*(){yield r.directlySetCurrentUser(t),r.notifyAuthListeners()}))})()}signOut(){var t=this;return v(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(os(t))}))}initializeRecaptchaConfig(){var t=this;return v(function*(){const n=yield yL(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new wL(n);null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.emailPasswordEnabled&&new CL(t).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new gi("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=t&&os(t)||n._popupRedirectResolver;N(r,n,"argument-error"),n.redirectPersistenceManager=yield Pl.create(n,[os(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(t){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===t?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?n.redirectUser:null})()}_persistUserIfCurrent(t){var n=this;return v(function*(){if(t===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?t.addObserver(n,r,i):t.addObserver(n)}directlySetCurrentUser(t){var n=this;return v(function*(){n.currentUser&&n.currentUser!==t&&n._currentUser._stopProactiveRefresh(),t&&n.isProactiveRefreshEnabled&&t._startProactiveRefresh(),n.currentUser=t,t?yield n.assertedPersistence.setCurrentUser(t):yield n.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=mL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return v(function*(){var n;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(n=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield t._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var t=this;return v(function*(){var n;const r=yield null===(n=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Dne(e,...t){Yp.logLevel<=ze.WARN&&Yp.warn(`Auth (${Po}): ${e}`,...t)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Yt(e){return qn(e)}class EL{constructor(t){this.auth=t,this.observer=null,this.addObserver=function XQ(e,t){const n=new eJ(e,t);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function TL(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function IL(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class SL{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(t){return vi("not implemented")}_linkToIdToken(t,n){return vi("not implemented")}_getReauthenticationResolver(t){return vi("not implemented")}}function ML(e,t){return nD.apply(this,arguments)}function nD(){return(nD=v(function*(e,t){return bt(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function iD(e,t){return sD.apply(this,arguments)}function sD(){return(sD=v(function*(e,t){return is(e,"POST","/v1/accounts:signInWithPassword",dt(e,t))})).apply(this,arguments)}function hD(){return(hD=v(function*(e,t){return is(e,"POST","/v1/accounts:signInWithEmailLink",dt(e,t))})).apply(this,arguments)}function pD(){return(pD=v(function*(e,t){return is(e,"POST","/v1/accounts:signInWithEmailLink",dt(e,t))})).apply(this,arguments)}class Wu extends SL{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Wu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Wu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n="string"==typeof t?JSON.parse(t):t;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){var n=this;return v(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=t._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield Fs(t,i,"signInWithPassword");return iD(t,s)}return iD(t,i).catch(function(){var s=v(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Fs(t,i,"signInWithPassword");return iD(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function rre(e,t){return hD.apply(this,arguments)}(t,{email:n._email,oobCode:n._password});default:Yn(t,"internal-error")}})()}_linkToIdToken(t,n){var r=this;return v(function*(){switch(r.signInMethod){case"password":return ML(t,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function ire(e,t){return pD.apply(this,arguments)}(t,{idToken:n,email:r._email,oobCode:r._password});default:Yn(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function as(e,t){return gD.apply(this,arguments)}function gD(){return(gD=v(function*(e,t){return is(e,"POST","/v1/accounts:signInWithIdp",dt(e,t))})).apply(this,arguments)}class Yu{constructor(t){var n,r,i,s,o,a;const l=Pu(xu(t)),c=null!==(n=l.apiKey)&&void 0!==n?n:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function dre(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);N(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(t){const n=function fre(e){const t=Pu(xu(e)).link,n=t?Pu(xu(t)).deep_link_id:null,r=Pu(xu(e)).deep_link_id;return(r?Pu(xu(r)).link:null)||r||n||t||e}(t);try{return new Yu(n)}catch{return null}}}let OL=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,r){return Wu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Yu.parseLink(r);return N(i,"argument-error"),Wu._fromEmailAndCode(n,i.code,i.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class Ls{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class hre extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}function ng(e,t){return wD.apply(this,arguments)}function wD(){return(wD=v(function*(e,t){return is(e,"POST","/v1/accounts:signUp",dt(e,t))})).apply(this,arguments)}class Or{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return v(function*(){const s=yield $o._fromIdTokenResponse(t,r,i),o=NL(r);return new Or({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(t,n,r){return v(function*(){yield t._updateTokensIfNecessary(r,!0);const i=NL(r);return new Or({user:t,providerId:i,_tokenResponse:r,operationType:n})})()}}function NL(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class rg extends qr{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rg.prototype),this.customData={appName:t.name,tenantId:null!==(s=t.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new rg(t,n,r,i)}}function RL(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?rg._fromErrorAndOperation(e,s,t,r):s})}function TD(){return(TD=v(function*(e,t,n=!1){const r=yield ss(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return Or._forOperation(e,"link",r)})).apply(this,arguments)}function SD(){return(SD=v(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield ss(e,RL(r,i,t,e),n);N(s.idToken,r,"internal-error");const o=Jp(s.idToken);N(o,r,"internal-error");const{sub:a}=o;return N(e.uid===a,r,"user-mismatch"),Or._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Yn(r,"user-mismatch"),s}})).apply(this,arguments)}function kL(e,t){return AD.apply(this,arguments)}function AD(){return(AD=v(function*(e,t,n=!1){const r="signIn",i=yield RL(e,r,t),s=yield Or._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function OD(){return(OD=v(function*(e,t){return kL(Yt(e),t)})).apply(this,arguments)}function bre(e,t,n){return HD.apply(this,arguments)}function HD(){return HD=v(function*(e,t,n){var r;const i=Yt(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield Fs(i,s,"signUpPassword");o=ng(i,c)}else o=ng(i,s).catch(function(){var c=v(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Fs(i,s,"signUpPassword");return ng(i,d)}return Promise.reject(u)});return function(u){return c.apply(this,arguments)}}());const a=yield o.catch(c=>Promise.reject(c)),l=yield Or._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l}),HD.apply(this,arguments)}function wre(e,t,n){return function MD(e,t){return OD.apply(this,arguments)}(qn(e),OL.credential(t,n))}const sg="__sak";class LL{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sg,"1"),this.storage.removeItem(sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bre=(()=>{class e extends LL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kre(){const e=Wt();return Q1(e)||Xp(e)}()&&function Une(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_L(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function $ne(){return function WQ(){const e=Wt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return e.type="LOCAL",e})(),BL=(()=>{class e extends LL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})();let $re=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=v(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function Vre(e){return Promise.all(e.map(function(){var t=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return t.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function iC(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class Ure{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=iC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(h.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:t,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function xt(){return window}function sC(){return typeof xt().WorkerGlobalScope<"u"&&"function"==typeof xt().importScripts}function oC(){return(oC=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const VL="firebaseLocalStorageDb",og="firebaseLocalStorage",$L="fbase_key";class Ju{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ag(e,t){return e.transaction([og],t?"readwrite":"readonly").objectStore(og)}function aC(){const e=indexedDB.open(VL,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(og,{keyPath:$L})}catch(i){n(i)}}),e.addEventListener("success",v(function*(){const r=e.result;r.objectStoreNames.contains(og)?t(r):(r.close(),yield function qre(){const e=indexedDB.deleteDatabase(VL);return new Ju(e).toPromise()}(),t(yield aC()))}))})}function UL(e,t,n){return lC.apply(this,arguments)}function lC(){return(lC=v(function*(e,t,n){const r=ag(e,!0).put({[$L]:t,value:n});return new Ju(r).toPromise()})).apply(this,arguments)}function cC(){return(cC=v(function*(e,t){const n=ag(e,!1).get(t),r=yield new Ju(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function jL(e,t){const n=ag(e,!0).delete(t);return new Ju(n).toPromise()}const Jre=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield aC()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return sC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=$re._getInstance(function zre(){return sC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function Hre(){return oC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Ure(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function Gre(){var e;return(null===(e=navigator?.serviceWorker)||void 0===e?void 0:e.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield aC();return yield UL(n,sg,"1"),yield jL(n,sg),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>UL(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(s=>function Kre(e,t){return cC.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>jL(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(o=>{const a=ag(o,!1).getAll();return new Ju(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();DL("rcb"),new Uu(3e4,6e4);class yC extends SL{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return as(t,this._buildIdpRequest())}_linkToIdToken(t,n){return as(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return as(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function hie(e){return kL(e.auth,new yC(e),e.bypassAuthState)}function pie(e){const{auth:t,user:n}=e;return N(n,t,"internal-error"),function xL(e,t){return SD.apply(this,arguments)}(n,new yC(e),e.bypassAuthState)}function gie(e){return vC.apply(this,arguments)}function vC(){return(vC=v(function*(e){const{auth:t,user:n}=e;return N(n,t,"internal-error"),function ED(e,t){return TD.apply(this,arguments)}(n,new yC(e),e.bypassAuthState)})).apply(this,arguments)}class _ie{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var t=this;return new Promise(function(){var n=v(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(s){t.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(t){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=t;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(c))}catch(u){n.reject(u)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hie;case"linkViaPopup":case"linkViaRedirect":return gie;case"reauthViaPopup":case"reauthViaRedirect":return pie;default:Yn(this.auth,"internal-error")}}resolve(t){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Uu(2e3,1e4);const mie="pendingRedirect",Zu=new Map;class yie extends _ie{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,n=this;return v(function*(){let r=Zu.get(n.auth._key());if(!r){try{const s=(yield function vie(e,t){return EC.apply(this,arguments)}(n.resolver,n.auth))?yield t().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Zu.set(n.auth._key(),r)}return n.bypassAuthState||Zu.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===t.type)return n().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,n().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function EC(){return(EC=v(function*(e,t){const n=function zL(e){return Zp(mie,e.config.apiKey,e.name)}(t),r=function GL(e){return os(e._redirectPersistence)}(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function bie(e,t){Zu.set(e._key(),t)}function WL(e,t){return NC.apply(this,arguments)}function NC(){return(NC=v(function*(e,t,n=!1){const r=Yt(e),i=function jo(e,t){return t?os(t):(N(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=yield new yie(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}class Tie{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function Iie(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YL(e);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!YL(t)){const i=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=null===n.eventId||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(KL(t))}saveEventToCache(t){this.cachedEventUids.add(KL(t)),this.lastProcessedEventTime=Date.now()}}function KL(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function YL({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}function PC(){return(PC=v(function*(e,t={}){return bt(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Aie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mie=/^https?/;function xC(){return xC=v(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield function Sie(e){return PC.apply(this,arguments)}(e);for(const n of t)try{if(Nie(n))return}catch{}Yn(e,"unauthorized-domain")}),xC.apply(this,arguments)}function Nie(e){const t=$u(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Mie.test(n))return!1;if(Aie.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Rie=new Uu(3e4,6e4);function QL(){const e=xt().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let cg=null;const kie=new Uu(5e3,15e3),Fie="__/auth/iframe",Lie="emulator/auth/iframe",Bie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $ie(e){const t=e.config;N(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?L1(t,Lie):`https://${e.config.authDomain}/${Fie}`,r={apiKey:t.apiKey,appName:e.name,v:Po},i=Vie.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ru(r).slice(1)}`}function kC(){return kC=v(function*(e){const t=yield function xie(e){return cg=cg||function Pie(e){return new Promise((t,n)=>{var r,i,s;function o(){QL(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{QL(),n(yi(e,"network-request-failed"))},timeout:Rie.get()})}if(null!==(i=null===(r=xt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(s=xt().gapi)||void 0===s||!s.load){const a=DL("iframefcb");return xt()[a]=()=>{gapi.load?o():n(yi(e,"network-request-failed"))},X1(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}o()}}).catch(t=>{throw cg=null,t})}(e),cg}(e),n=xt().gapi;return N(n,e,"internal-error"),t.open({where:document.body,url:$ie(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bie,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=yi(e,"network-request-failed"),l=xt().setTimeout(()=>{o(a)},kie.get());function c(){xt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),kC.apply(this,arguments)}const jie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class JL{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Yie="__/auth/handler",Qie="emulator/auth/handler",Jie=encodeURIComponent("fac");function ZL(e,t,n,r,i,s){return FC.apply(this,arguments)}function FC(){return(FC=v(function*(e,t,n,r,i,s){N(e.config.authDomain,e,"auth-domain-config-required"),N(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Po,eventId:i};if(t instanceof Ls){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Y0(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(t instanceof hre){const u=t.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield e._getAppCheckToken(),c=l?`#${Jie}=${encodeURIComponent(l)}`:"";return`${function Zie({config:e}){return e.emulator?L1(e,Qie):`https://${e.authDomain}/${Yie}`}(e)}?${Ru(a).slice(1)}${c}`})).apply(this,arguments)}const LC="webStorageSupport",ese=class Xie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BL,this._completeRedirectFn=WL,this._overrideRedirectResult=bie}_openPopup(t,n,r,i){var s=this;return v(function*(){var o;xs(null===(o=s.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield ZL(t,n,r,$u(),i);return function qie(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},jie),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Wt().toLowerCase();n&&(a=dL(c)?"_blank":n),uL(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function Vne(e=Wt()){var t;return Xp(e)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(c)&&"_self"!==a)return function Kie(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new JL(null);const d=window.open(t||"",a,u);N(d,e,"popup-blocked");try{d.focus()}catch{}return new JL(d)}(t,a,iC())})()}_openRedirect(t,n,r,i){var s=this;return v(function*(){return yield s._originValidation(t),function jre(e){xt().location.href=e}(yield ZL(t,n,r,$u(),i)),new Promise(()=>{})})()}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){var n=this;return v(function*(){const r=yield function Uie(e){return kC.apply(this,arguments)}(t),i=new Tie(t);return r.register("authEvent",s=>(N(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[t._key()]={manager:i},n.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(LC,{type:LC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[LC];void 0!==o&&n(!!o),Yn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Oie(e){return xC.apply(this,arguments)}(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _L()||Q1()||Xp()}};var t2="@firebase/auth";class tse{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const sse=ak("authIdTokenMaxAge")||300;let r2=null;const ose=e=>function(){var t=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>sse)return;const s=r?.token;r2!==s&&(r2=s,yield fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return t.apply(this,arguments)}}();function ase(e=ob()){const t=Il(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function Yne(e,t){const n=Il(e,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Op(n.getOptions(),t??{}))return i;Yn(i,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ese,persistence:[Jre,Bre,BL]}),r=ak("authTokenSyncURL");if(r){const s=ose(r);(function Ore(e,t,n){qn(e).beforeAuthStateChanged(t,n)})(n,s,()=>s(n.currentUser)),function Mre(e,t,n,r){qn(e).onIdTokenChanged(t,n,r)}(n,o=>s(o))}const i=sk("auth");return i&&function Jne(e,t,n){const r=Yt(e);N(r._canInitEmulator,r,"emulator-config-failed"),N(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=TL(t),{host:o,port:a}=function Zne(e){const t=TL(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:IL(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:IL(o)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Xne(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}!function rse(e){On(new vn("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;N(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mL(e)},c=new Kne(r,i,s,l);return function Qne(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(os);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),On(new vn("auth-internal",t=>{const n=Yt(t.getProvider("auth").getImmediate());return new tse(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yt(t2,"0.23.2",function nse(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),yt(t2,"0.23.2","esm2017")}("Browser");class Xu{constructor(t){return t}}class s2{constructor(){return c1("auth")}}const VC=new U("angularfire2.auth-instances");function cse(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new Xu(r)}}const use={provide:s2,deps:[[new Sn,VC]]},dse={provide:Xu,useFactory:function lse(e,t){const n=l1("auth",e,t);return n&&new Xu(n)},deps:[[new Sn,VC],Ol]};let fse=(()=>{class e{constructor(){yt("angularfire",Up.full,"auth")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({providers:[dse,use]}),e})();function hse(e,...t){return{ngModule:fse,providers:[{provide:VC,useFactory:cse(e),multi:!0,deps:[de,Rt,u1,d1,[new Sn,P1],...t]}]}}const pse=rs(bre,!0),gse=rs(ase,!0),_se=rs(wre,!0),o2="@firebase/database";let $C="";class yse{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),qt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:Nu(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class vse{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return Zi(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const l2=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yse(t)}}catch{}return new vse},Ho=l2("localStorage"),UC=l2("sessionStorage"),kl=new Tl("@firebase/database"),c2=function(){let e=1;return function(){return e++}}(),u2=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,M(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new ZQ;n.update(t);const r=n.digest();return Ep.encodeByteArray(r)},ed=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=ed.apply(null,r):t+="object"==typeof r?qt(r):r,t+=" "}return t};let Go=null,d2=!0;const Qt=function(...e){if(!0===d2&&(d2=!1,null===Go&&!0===UC.get("logging_enabled")&&function(e,t){M(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(kl.logLevel=ze.VERBOSE,Go=kl.log.bind(kl),t&&UC.set("logging_enabled",!0)):"function"==typeof e?Go=e:(Go=null,UC.remove("logging_enabled"))}(!0)),Go){const t=ed.apply(null,e);Go(t)}},td=function(e){return function(...t){Qt(e,...t)}},jC=function(...e){const t="FIREBASE INTERNAL ERROR: "+ed(...e);kl.error(t)},bi=function(...e){const t=`FIREBASE FATAL ERROR: ${ed(...e)}`;throw kl.error(t),new Error(t)},bn=function(...e){const t="FIREBASE WARNING: "+ed(...e);kl.warn(t)},dg=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Bs="[MIN_NAME]",ls="[MAX_NAME]",zo=function(e,t){if(e===t)return 0;if(e===Bs||t===ls)return-1;if(t===Bs||e===ls)return 1;{const n=g2(e),r=g2(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Dse=function(e,t){return e===t?0:e<t?-1:1},nd=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+qt(t))},HC=function(e){if("object"!=typeof e||null===e)return qt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=qt(t[r]),n+=":",n+=HC(e[t[r]]);return n+="}",n},h2=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function Jt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const p2=function(e){M(!dg(e),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===e?(s=0,o=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,o=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(e/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);1===f.length&&(f="0"+f),d+=f}return d.toLowerCase()},Ise=new RegExp("^-?(0*)\\d{1,10}$"),g2=function(e){if(Ise.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Fl=function(e){try{e()}catch(t){setTimeout(()=>{throw bn("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},rd=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Ose{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){bn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Nse{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(Qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bn(t)}}let id=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const b2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,C2="websocket",E2="long_polling";class zC{constructor(t,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ho.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ho.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function T2(e,t,n){let r;if(M("string"==typeof t,"typeof type must == string"),M("object"==typeof n,"typeof params must == object"),t===C2)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==E2)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function Rse(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Jt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Pse{constructor(){this.counters_={}}incrementCounter(t,n=1){Zi(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return LQ(this.counters_)}}const WC={},qC={};function KC(e){const t=e.toString();return WC[t]||(WC[t]=new Pse),WC[t]}class kse{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Fl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Vs{constructor(t,n,r,i,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=td(t),this.stats_=KC(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),T2(n,E2,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new kse(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new YC((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&b2.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vs.forceAllow_=!0}static forceDisallow(){Vs.forceDisallow_=!0}static isAvailable(){return!(!Vs.forceAllow_&&(Vs.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=qt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=rk(n),i=h2(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=qt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class YC{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=c2(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=YC.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Qt("frame writing exception"),a.stack&&Qt(a.stack),Qt(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Qt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let hg=null;typeof MozWebSocket<"u"?hg=MozWebSocket:typeof WebSocket<"u"&&(hg=WebSocket);let Ll=(()=>{class e{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=td(this.connId),this.stats_=KC(r),this.connURL=e.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&b2.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),T2(n,C2,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ho.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new hg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==hg&&!e.forceDisallow_}static previouslyFailed(){return Ho.isInMemoryStorage||!0===Ho.get("previous_websocket_failure")}markConnectionHealthy(){Ho.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Nu(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(M(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=qt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=h2(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),R2=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Vs,Ll]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Ll&&Ll.isAvailable();let i=r&&!Ll.previouslyFailed();if(n.webSocketOnly&&(r||bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ll];else{const s=this.transports_=[];for(const o of e.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class V2{constructor(t,n,r,i,s,o,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=td("c:"+this.id+":"),this.transportManager_=new R2(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=rd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=nd("t",t),r=nd("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=nd("t",t),r=nd("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=nd("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?jC("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jC("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&bn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),rd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ho.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $2{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class U2{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(t){M(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class pg extends U2{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!W0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pg}getInitialEvent(t){return M("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class $e{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function Se(){return new $e("")}function pe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function $s(e){return e.pieces_.length-e.pieceNum_}function Ke(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new $e(e.pieces_,t)}function JC(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function sd(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function G2(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new $e(t,0)}function it(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof $e)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new $e(n,0)}function ge(e){return e.pieceNum_>=e.pieces_.length}function Rn(e,t){const n=pe(e),r=pe(t);if(null===n)return t;if(n===r)return Rn(Ke(e),Ke(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ZC(e,t){if($s(e)!==$s(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Nr(e,t){let n=e.pieceNum_,r=t.pieceNum_;if($s(e)>$s(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class ioe{constructor(t,n){this.errorPrefix_=n,this.parts_=sd(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Np(this.parts_[r]);z2(this)}}function z2(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wo(e))}function Wo(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class XC extends U2{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new XC}getInitialEvent(t){return M("visible"===t,"Unknown event type: "+t),[this.visible_]}}const od=1e3;let _g,qo=(()=>{class e extends $2{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=td("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=od,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");XC.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&pg.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(qt(o)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new Ao,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;e.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Zi(n,"w")){const i=Cl(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();bn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=Ap(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=Ap(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+qt(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):jC("Unrecognized action received from server: "+qt(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=od,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=od,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=od),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return v(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};n.realtime_={close:u,sendRequest:function(h){M(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)}};const f=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[h,p]=yield Promise.all([n.authTokenProvider_.getToken(f),n.appCheckTokenProvider_.getToken(f)]);l?Qt("getToken() completed but was canceled"):(Qt("getToken() completed. Creating connection."),n.authToken_=h&&h.accessToken,n.appCheckToken_=p&&p.token,c=new V2(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{bn(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(h){n.log_("Failed to get token: "+h),l||(n.repoInfo_.nodeAdmin&&bn(h),u())}}})()}interrupt(n){Qt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Qt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Y0(this.interruptReasons_)&&(this.reconnectDelay_=od,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>HC(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new $e(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Qt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Qt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+$C.replace(/\./g,"-")]=1,W0()?n["framework.cordova"]=1:lk()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=pg.getInstance().currentlyOnline();return Y0(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class _e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new _e(t,n)}}class gg{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new _e(Bs,t),i=new _e(Bs,n);return 0!==this.compare(r,i)}minPost(){return _e.MIN}}class K2 extends gg{static get __EMPTY_NODE(){return _g}static set __EMPTY_NODE(t){_g=t}compare(t,n){return zo(t.name,n.name)}isDefinedOn(t){throw Dl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(ls,_g)}makePost(t,n){return M("string"==typeof t,"KeyIndex indexValue must always be a string."),new _e(t,_g)}toString(){return".key"}}const wi=new K2;class mg{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let tE,Kr=(()=>{class e{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??e.RED,this.left=s??Qn.EMPTY_NODE,this.right=o??Qn.EMPTY_NODE}copy(n,r,i,s,o){return new e(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Qn.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class Qn{constructor(t,n=Qn.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Qn(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Kr.BLACK,null,null))}remove(t){return new Qn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Kr.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new mg(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new mg(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new mg(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new mg(this.root_,null,this.comparator_,!0,t)}}function foe(e,t){return zo(e.name,t.name)}function eE(e,t){return zo(e,t)}Qn.EMPTY_NODE=new class doe{copy(t,n,r,i,s){return this}insert(t,n,r){return new Kr(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Y2=function(e){return"number"==typeof e?"number:"+p2(e):"string:"+e},Q2=function(e){if(e.isLeafNode()){const t=e.val();M("string"==typeof t||"number"==typeof t||"object"==typeof t&&Zi(t,".sv"),"Priority must be a string or number.")}else M(e===tE||e.isEmpty(),"priority of unexpected type.");M(e===tE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let J2,Z2,X2,Bl=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,M(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Q2(this.priorityNode_)}static set __childrenNodeConstructor(n){J2=n}static get __childrenNodeConstructor(){return J2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ge(n)?this:".priority"===pe(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=pe(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(M(".priority"!==i||1===$s(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ke(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Y2(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?p2(this.value_):this.value_,this.lazyHash_=u2(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(M(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=e.VALUE_TYPE_ORDER.indexOf(r),o=e.VALUE_TYPE_ORDER.indexOf(i);return M(s>=0,"Unknown leaf type: "+r),M(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const tt=new class _oe extends gg{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?zo(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(ls,new Bl("[PRIORITY-POST]",X2))}makePost(t,n){const r=Z2(t);return new _e(n,new Bl("[PRIORITY-POST]",r))}toString(){return".priority"}},moe=Math.log(2);class yoe{constructor(t){this.count=parseInt(Math.log(t+1)/moe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const yg=function(e,t,n,r){e.sort(t);const i=function(l,c){const u=c-l;let d,f;if(0===u)return null;if(1===u)return d=e[l],f=n?n(d):d,new Kr(f,d.node,Kr.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=i(l,h),g=i(h+1,c);return d=e[h],f=n?n(d):d,new Kr(f,d.node,Kr.BLACK,p,g)}},a=function(l){let c=null,u=null,d=e.length;const f=function(p,g){const _=d-p,w=d;d-=p;const m=i(_+1,w),I=e[_],T=n?n(I):I;h(new Kr(T,I.node,g,null,m))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?f(_,Kr.BLACK):(f(_,Kr.BLACK),f(_,Kr.RED))}return u}(new yoe(e.length));return new Qn(r||t,a)};let nE;const Vl={};class cs{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return M(Vl&&tt,"ChildrenNode.ts has not been loaded"),nE=nE||new cs({".priority":Vl},{".priority":tt}),nE}get(t){const n=Cl(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Qn?n:null}hasIndex(t){return Zi(this.indexSet_,t.toString())}addIndex(t,n){M(t!==wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(_e.Wrap);let a,o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?yg(r,t.getCompare()):Vl;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const u=Object.assign({},this.indexes_);return u[l]=a,new cs(u,c)}addToIndexes(t,n){const r=Mp(this.indexes_,(i,s)=>{const o=Cl(this.indexSet_,s);if(M(o,"Missing index implementation for "+s),i===Vl){if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(_e.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),yg(a,o.getCompare())}return Vl}{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new _e(t.name,a))),l.insert(t,t.node)}});return new cs(r,this.indexSet_)}removeFromIndexes(t,n){const r=Mp(this.indexes_,i=>{if(i===Vl)return i;{const s=n.get(t.name);return s?i.remove(new _e(t.name,s)):i}});return new cs(r,this.indexSet_)}}let ad,le=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Q2(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ad||(ad=new e(new Qn(eE),null,cs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ad}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?ad:r}}getChild(n){const r=pe(n);return null===r?this:this.getImmediateChild(r).getChild(Ke(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(M(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new _e(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?ad:this.priorityNode_;return new e(s,a,o)}}updateChild(n,r){const i=pe(n);if(null===i)return r;{M(".priority"!==pe(n)||1===$s(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ke(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(tt,(a,l)=>{r[a]=l.val(n),i++,o&&e.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+Y2(this.getPriority().val())+":"),this.forEachChild(tt,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":u2(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new _e(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new _e(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new _e(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,_e.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,_e.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ld?-1:0}withIndex(n){if(n===wi||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===wi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(tt),s=r.getIterator(tt);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===wi?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const ld=new class voe extends le{constructor(){super(new Qn(eE),le.EMPTY_NODE,cs.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return le.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(_e,{MIN:{value:new _e(Bs,le.EMPTY_NODE)},MAX:{value:new _e(ls,ld)}}),K2.__EMPTY_NODE=le.EMPTY_NODE,Bl.__childrenNodeConstructor=le,function hoe(e){tE=e}(ld),function goe(e){X2=e}(ld);const boe=!0;function ft(e,t=null){if(null===e)return le.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),M(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Bl(e,ft(t));if(e instanceof Array||!boe){let n=le.EMPTY_NODE;return Jt(e,(r,i)=>{if(Zi(e,r)&&"."!==r.substring(0,1)){const s=ft(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ft(t))}{const n=[];let r=!1;if(Jt(e,(o,a)=>{if("."!==o.substring(0,1)){const l=ft(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new _e(o,l)))}}),0===n.length)return le.EMPTY_NODE;const s=yg(n,foe,o=>o.name,eE);if(r){const o=yg(n,tt.getCompare());return new le(s,ft(t),new cs({".priority":o},{".priority":tt}))}return new le(s,ft(t),cs.Default)}}!function poe(e){Z2=e}(ft);class rE extends gg{constructor(t){super(),this.indexPath_=t,M(!ge(t)&&".priority"!==pe(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?zo(t.name,n.name):s}makePost(t,n){const r=ft(t),i=le.EMPTY_NODE.updateChild(this.indexPath_,r);return new _e(n,i)}maxPost(){const t=le.EMPTY_NODE.updateChild(this.indexPath_,ld);return new _e(ls,t)}toString(){return sd(this.indexPath_,0).join("/")}}const iE=new class woe extends gg{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?zo(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(t,n){const r=ft(t);return new _e(n,r)}toString(){return".value"}};function eB(e){return{type:"value",snapshotNode:e}}function $l(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function cd(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ud(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class sE{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(cd(n,a)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange($l(n,r)):o.trackChildChange(ud(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return null!=r&&(t.isLeafNode()||t.forEachChild(tt,(i,s)=>{n.hasChild(i)||r.trackChildChange(cd(i,s))}),n.isLeafNode()||n.forEachChild(tt,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(ud(i,s,o))}else r.trackChildChange($l(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?le.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dd{constructor(t){this.indexedFilter_=new sE(t.getIndex()),this.index_=t.getIndex(),this.startPost_=dd.getStartPost_(t),this.endPost_=dd.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new _e(n,r))||(r=le.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=le.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(le.EMPTY_NODE);const s=this;return n.forEachChild(tt,(o,a)=>{s.matches(new _e(o,a))||(i=i.updateImmediateChild(o,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class Coe{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new dd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new _e(n,r))||(r=le.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=le.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let s;i=le.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=n.withIndex(this.index_),i=i.updatePriority(le.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=t;M(a.numChildren()===this.limit_,"");const l=new _e(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=f&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=null==f?1:o(f,l);if(u&&!r.isEmpty()&&h>=0)return s?.trackChildChange(ud(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(cd(n,d));const g=a.updateImmediateChild(n,le.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(s?.trackChildChange($l(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}return r.isEmpty()?t:u&&o(c,l)>=0?(null!=s&&(s.trackChildChange(cd(c.name,c.node)),s.trackChildChange($l(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,le.EMPTY_NODE)):t}}class oE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bs}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ls}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tt}copy(){const t=new oE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function tB(e){const t={};if(e.isDefault())return t;let n;if(e.index_===tt?n="$priority":e.index_===iE?n="$value":e.index_===wi?n="$key":(M(e.index_ instanceof rE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=qt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=qt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+qt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=qt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+qt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function nB(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==tt&&(t.i=e.index_.toString()),t}class bg extends $2{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=td("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=bg.getListenId_(t,r),a={};this.listens_[o]=a;const l=tB(t._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),Cl(this.listens_,o)===a){let f;f=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(f,null)}})}unlisten(t,n){const r=bg.getListenId_(t,n);delete this.listens_[r]}get(t){const n=tB(t._queryParams),r=t._path.toString(),i=new Ao;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ru(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Nu(a.responseText)}catch{bn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&bn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Moe{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function wg(){return{value:null,children:new Map}}function Ul(e,t,n){if(ge(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=pe(t);e.children.has(r)||e.children.set(r,wg()),Ul(e.children.get(r),t=Ke(t),n)}}function uE(e,t,n){null!==e.value?n(t,e.value):function Ooe(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{uE(i,new $e(t.toString()+"/"+r),n)})}class Noe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Jt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class xoe{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Noe(t);const r=1e4+2e4*Math.random();rd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Jt(t,(i,s)=>{s>0&&Zi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),rd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Di=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Di||{});function hE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Dg{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Di.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(ge(this.path)){if(null!=this.affectedTree.value)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new $e(t));return new Dg(Se(),n,this.revert)}}return M(pe(this.path)===t,"operationForChild called for unrelated child."),new Dg(Ke(this.path),this.affectedTree,this.revert)}}class fd{constructor(t,n){this.source=t,this.path=n,this.type=Di.LISTEN_COMPLETE}operationForChild(t){return ge(this.path)?new fd(this.source,Se()):new fd(this.source,Ke(this.path))}}class Ko{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Di.OVERWRITE}operationForChild(t){return ge(this.path)?new Ko(this.source,Se(),this.snap.getImmediateChild(t)):new Ko(this.source,Ke(this.path),this.snap)}}class jl{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Di.MERGE}operationForChild(t){if(ge(this.path)){const n=this.children.subtree(new $e(t));return n.isEmpty()?null:n.value?new Ko(this.source,Se(),n.value):new jl(this.source,Se(),n)}return M(pe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new jl(this.source,Ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Us{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ge(t))return this.isFullyInitialized()&&!this.filtered_;const n=pe(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class koe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function hd(e,t,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>function Boe(e,t,n){if(null==t.childName||null==n.childName)throw Dl("Should only compare child_ events.");const r=new _e(t.childName,t.snapshotNode),i=new _e(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,l)),o.forEach(a=>{const l=function Loe(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,s);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function Cg(e,t){return{eventCache:e,serverCache:t}}function pd(e,t,n,r){return Cg(new Us(t,n,r),e.serverCache)}function iB(e,t,n,r){return Cg(e.eventCache,new Us(t,n,r))}function Eg(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Yo(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let pE;class nt{constructor(t,n=(()=>(pE||(pE=new Qn(Dse)),pE))()){this.value=t,this.children=n}static fromObject(t){let n=new nt(null);return Jt(t,(r,i)=>{n=n.set(new $e(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:Se(),value:this.value};if(ge(t))return null;{const r=pe(t),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ke(t),n);return null!=s?{path:it(new $e(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ge(t))return this;{const n=pe(t),r=this.children.get(n);return null!==r?r.subtree(Ke(t)):new nt(null)}}set(t,n){if(ge(t))return new nt(n,this.children);{const r=pe(t),s=(this.children.get(r)||new nt(null)).set(Ke(t),n),o=this.children.insert(r,s);return new nt(this.value,o)}}remove(t){if(ge(t))return this.children.isEmpty()?new nt(null):new nt(null,this.children);{const n=pe(t),r=this.children.get(n);if(r){const i=r.remove(Ke(t));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new nt(null):new nt(this.value,s)}return this}}get(t){if(ge(t))return this.value;{const n=pe(t),r=this.children.get(n);return r?r.get(Ke(t)):null}}setTree(t,n){if(ge(t))return n;{const r=pe(t),s=(this.children.get(r)||new nt(null)).setTree(Ke(t),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new nt(this.value,o)}}fold(t){return this.fold_(Se(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(it(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Se(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(ge(t))return null;{const s=pe(t),o=this.children.get(s);return o?o.findOnPath_(Ke(t),it(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Se(),n)}foreachOnPath_(t,n,r){if(ge(t))return this;{this.value&&r(n,this.value);const i=pe(t),s=this.children.get(i);return s?s.foreachOnPath_(Ke(t),it(n,i),r):new nt(null)}}foreach(t){this.foreach_(Se(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(it(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class Yr{constructor(t){this.writeTree_=t}static empty(){return new Yr(new nt(null))}}function gd(e,t,n){if(ge(t))return new Yr(new nt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Rn(i,t);return s=s.updateChild(o,n),new Yr(e.writeTree_.set(i,s))}{const i=new nt(n),s=e.writeTree_.setTree(t,i);return new Yr(s)}}}function gE(e,t,n){let r=e;return Jt(n,(i,s)=>{r=gd(r,it(t,i),s)}),r}function sB(e,t){if(ge(t))return Yr.empty();{const n=e.writeTree_.setTree(t,new nt(null));return new Yr(n)}}function _E(e,t){return null!=Qo(e,t)}function Qo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Rn(n.path,t)):null}function oB(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(tt,(r,i)=>{t.push(new _e(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new _e(r,i.value))}),t}function js(e,t){if(ge(t))return e;{const n=Qo(e,t);return new Yr(null!=n?new nt(n):e.writeTree_.subtree(t))}}function mE(e){return e.writeTree_.isEmpty()}function Hl(e,t){return aB(Se(),e.writeTree_,t)}function aB(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{".priority"===i?(M(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=aB(it(e,i),s,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(it(e,".priority"),r)),n}}function Tg(e,t){return fB(t,e)}function Goe(e,t){if(e.snap)return Nr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Nr(it(e.path,n),t))return!0;return!1}function Woe(e){return e.visible}function lB(e,t,n){let r=Yr.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let a;if(s.snap)Nr(n,o)?(a=Rn(n,o),r=gd(r,a,s.snap)):Nr(o,n)&&(a=Rn(o,n),r=gd(r,Se(),s.snap.getChild(a)));else{if(!s.children)throw Dl("WriteRecord should have .snap or .children");if(Nr(n,o))a=Rn(n,o),r=gE(r,a,s.children);else if(Nr(o,n))if(a=Rn(o,n),ge(a))r=gE(r,Se(),s.children);else{const l=Cl(s.children,pe(a));if(l){const c=l.getChild(Ke(a));r=gd(r,Se(),c)}}}}}return r}function cB(e,t,n,r,i){if(r||i){const s=js(e.visibleWrites,t);return!i&&mE(s)?n:i||null!=n||_E(s,Se())?Hl(lB(e.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Nr(c.path,t)||Nr(t,c.path))},t),n||le.EMPTY_NODE):null}{const s=Qo(e.visibleWrites,t);if(null!=s)return s;{const o=js(e.visibleWrites,t);return mE(o)?n:null!=n||_E(o,Se())?Hl(o,n||le.EMPTY_NODE):null}}}function Ig(e,t,n,r){return cB(e.writeTree,e.treePath,t,n,r)}function yE(e,t){return function qoe(e,t,n){let r=le.EMPTY_NODE;const i=Qo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(tt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=js(e.visibleWrites,t);return n.forEachChild(tt,(o,a)=>{const l=Hl(js(s,new $e(o)),a);r=r.updateImmediateChild(o,l)}),oB(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return oB(js(e.visibleWrites,t)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(e.writeTree,e.treePath,t)}function uB(e,t,n,r){return function Koe(e,t,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=it(t,n);if(_E(e.visibleWrites,s))return null;{const o=js(e.visibleWrites,s);return mE(o)?i.getChild(n):Hl(o,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Sg(e,t){return function Qoe(e,t){return Qo(e.visibleWrites,t)}(e.writeTree,it(e.treePath,t))}function vE(e,t,n){return function Yoe(e,t,n,r){const i=it(t,n),s=Qo(e.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Hl(js(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function dB(e,t){return fB(it(e.treePath,t),e.writeTree)}function fB(e,t){return{treePath:e,writeTree:t}}class eae{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;M("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),M(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,ud(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,cd(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,$l(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Dl("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,ud(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const hB=new class tae{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class bE{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Us(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vE(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Yo(this.viewCache_),s=function Xoe(e,t,n,r,i,s){return function Joe(e,t,n,r,i,s,o){let a;const l=js(e.visibleWrites,t),c=Qo(l,Se());if(null!=c)a=c;else{if(null==n)return[];a=Hl(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&u.length<i;)0!==d(h,r)&&u.push(h),h=f.getNext();return u}}(e.writeTree,e.treePath,t,n,r,i,s)}(this.writes_,i,n,1,r,t);return 0===s.length?null:s[0]}}function pB(e,t,n,r,i,s){const o=t.eventCache;if(null!=Sg(r,n))return t;{let a,l;if(ge(n))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Yo(t),d=yE(r,c instanceof le?c:le.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const c=Ig(r,Yo(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const c=pe(n);if(".priority"===c){M(1===$s(n),"Can't have a priority with additional path components");const u=o.getNode();l=t.serverCache.getNode();const d=uB(r,n,u,l);a=null!=d?e.filter.updatePriority(u,d):o.getNode()}else{const u=Ke(n);let d;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const f=uB(r,n,o.getNode(),l);d=null!=f?o.getNode().getImmediateChild(c).updateChild(u,f):o.getNode().getImmediateChild(c)}else d=vE(r,c,t.serverCache);a=null!=d?e.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return pd(t,a,o.isFullyInitialized()||ge(n),e.filter.filtersNodes())}}function Ag(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(ge(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{const h=pe(n);if(!l.isCompleteForPath(n)&&$s(n)>1)return t;const p=Ke(n),_=l.getNode().getImmediateChild(h).updateChild(p,r);c=".priority"===h?u.updatePriority(l.getNode(),_):u.updateChild(l.getNode(),h,_,p,hB,null)}const d=iB(t,c,l.isFullyInitialized()||ge(n),u.filtersNodes());return pB(e,d,n,i,new bE(i,d,s),a)}function wE(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new bE(i,t,s);if(ge(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=pd(t,c,!0,e.filter.filtersNodes());else{const d=pe(n);if(".priority"===d)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=pd(t,c,a.isFullyInitialized(),a.isFiltered());else{const f=Ke(n),h=a.getNode().getImmediateChild(d);let p;if(ge(f))p=r;else{const g=u.getCompleteChild(d);p=null!=g?".priority"===JC(f)&&g.getChild(G2(f)).isEmpty()?g:g.updateChild(f,r):le.EMPTY_NODE}l=h.equals(p)?t:pd(t,e.filter.updateChild(a.getNode(),d,p,f,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function gB(e,t){return e.eventCache.isCompleteForChild(t)}function _B(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function DE(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=ge(n)?r:new nt(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=_B(0,t.serverCache.getNode().getImmediateChild(d),f);l=Ag(e,l,new $e(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!t.serverCache.isCompleteForChild(d)&&null===f.value;if(!u.hasChild(d)&&!h){const g=_B(0,t.serverCache.getNode().getImmediateChild(d),f);l=Ag(e,l,new $e(d),g,i,s,o,a)}}),l}class uae{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new sE(r.getIndex()),s=function Eoe(e){return e.loadsAllData()?new sE(e.getIndex()):e.hasLimit()?new Coe(e):new dd(e)}(r);this.processor_=function nae(e){return{filter:e}}(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(le.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(le.EMPTY_NODE,a.getNode(),null),u=new Us(l,o.isFullyInitialized(),i.filtersNodes()),d=new Us(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Cg(d,u),this.eventGenerator_=new koe(this.query_)}get query(){return this.query_}}function hae(e,t){const n=Yo(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ge(t)&&!n.getImmediateChild(pe(t)).isEmpty())?n.getChild(t):null}function mB(e){return 0===e.eventRegistrations_.length}function yB(e,t,n){const r=[];if(n){M(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}else i.push(o)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function vB(e,t,n,r){t.type===Di.MERGE&&null!==t.source.queryId&&(M(Yo(e.viewCache_),"We should always have a full cache before handling merges"),M(Eg(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=function iae(e,t,n,r,i){const s=new eae;let o,a;if(n.type===Di.OVERWRITE){const c=n;c.source.fromUser?o=wE(e,t,c.path,c.snap,r,i,s):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!ge(c.path),o=Ag(e,t,c.path,c.snap,r,i,a,s))}else if(n.type===Di.MERGE){const c=n;c.source.fromUser?o=function oae(e,t,n,r,i,s,o){let a=t;return r.foreach((l,c)=>{const u=it(n,l);gB(t,pe(u))&&(a=wE(e,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=it(n,l);gB(t,pe(u))||(a=wE(e,a,u,c,i,s,o))}),a}(e,t,c.path,c.children,r,i,s):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=DE(e,t,c.path,c.children,r,i,a,s))}else if(n.type===Di.ACK_USER_WRITE){const c=n;o=c.revert?function cae(e,t,n,r,i,s){let o;if(null!=Sg(r,n))return t;{const a=new bE(r,t,i),l=t.eventCache.getNode();let c;if(ge(n)||".priority"===pe(n)){let u;if(t.serverCache.isFullyInitialized())u=Ig(r,Yo(t));else{const d=t.serverCache.getNode();M(d instanceof le,"serverChildren would be complete if leaf node"),u=yE(r,d)}c=e.filter.updateFullNode(l,u,s)}else{const u=pe(n);let d=vE(r,u,t.serverCache);null==d&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?e.filter.updateChild(l,u,d,Ke(n),a,s):t.eventCache.getNode().hasChild(u)?e.filter.updateChild(l,u,le.EMPTY_NODE,Ke(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ig(r,Yo(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=Sg(r,Se()),pd(t,c,o,e.filter.filtersNodes())}}(e,t,c.path,r,i,s):function aae(e,t,n,r,i,s,o){if(null!=Sg(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(ge(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ag(e,t,n,l.getNode().getChild(n),i,s,a,o);if(ge(n)){let c=new nt(null);return l.getNode().forEachChild(wi,(u,d)=>{c=c.set(new $e(u),d)}),DE(e,t,n,c,i,s,a,o)}return t}{let c=new nt(null);return r.foreach((u,d)=>{const f=it(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),DE(e,t,n,c,i,s,a,o)}}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Di.LISTEN_COMPLETE)throw Dl("Unknown operation type: "+n.type);o=function lae(e,t,n,r,i){const s=t.serverCache;return pB(e,iB(t,s.getNode(),s.isFullyInitialized()||ge(n),s.isFiltered()),n,r,hB,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function sae(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Eg(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(eB(Eg(t)))}}(t,o,l),{viewCache:o,changes:l}}(e.processor_,i,t,n,r);return function rae(e,t){M(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,s.viewCache),M(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,bB(e,s.changes,s.viewCache.eventCache.getNode(),null)}function bB(e,t,n,r){return function Foe(e,t,n,r){const i=[],s=[];return t.forEach(o=>{"child_changed"===o.type&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Doe(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(o.childName,o.snapshotNode))}),hd(e,i,"child_removed",t,r,n),hd(e,i,"child_added",t,r,n),hd(e,i,"child_moved",s,r,n),hd(e,i,"child_changed",t,r,n),hd(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let Mg,Ng;class wB{constructor(){this.views=new Map}}function CE(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return M(null!=s,"SyncTree gave us an op for an invalid query."),vB(s,t,n,r)}{let s=[];for(const o of e.views.values())s=s.concat(vB(o,t,n,r));return s}}function vae(e,t,n,r,i,s){const o=function DB(e,t,n,r,i){const o=e.views.get(t._queryIdentifier);if(!o){let a=Ig(n,i?r:null),l=!1;a?l=!0:r instanceof le?(a=yE(n,r),l=!1):(a=le.EMPTY_NODE,l=!1);const c=Cg(new Us(a,l,!1),new Us(r,i,!1));return new uae(t,c)}return o}(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function pae(e,t){e.eventRegistrations_.push(t)}(o,n),function gae(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(s,o)=>{r.push($l(s,o))}),n.isFullyInitialized()&&r.push(eB(n.getNode())),bB(e,r,n.getNode(),t)}(o,n)}function CB(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Hs(e,t){let n=null;for(const r of e.views.values())n=n||hae(r,t);return n}function EB(e,t){return t._queryParams.loadsAllData()?Og(e):e.views.get(t._queryIdentifier)}function TB(e,t){return null!=EB(e,t)}function Gs(e){return null!=Og(e)}function Og(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Cae=1;class IB{constructor(t){this.listenProvider_=t,this.syncPointTree_=new nt(null),this.pendingWriteTree_=function Zoe(){return{visibleWrites:Yr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function EE(e,t,n,r,i){return function $oe(e,t,n,r,i){M(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=gd(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Gl(e,new Ko({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function zs(e,t,n=!1){const r=function joe(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function Hoe(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);M(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&Goe(a,r.path)?i=!1:Nr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function zoe(e){e.visibleWrites=lB(e.allWrites,Woe,Se()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=sB(e.visibleWrites,r.path):Jt(r.children,l=>{e.visibleWrites=sB(e.visibleWrites,it(r.path,l))}),!0))}(e.pendingWriteTree_,t)){let s=new nt(null);return null!=r.snap?s=s.set(Se(),!0):Jt(r.children,o=>{s=s.set(new $e(o),!0)}),Gl(e,new Dg(r.path,s,n))}return[]}function _d(e,t,n){return Gl(e,new Ko({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Rg(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||TB(o,t))){const l=function bae(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=Gs(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(yB(c,n,r)),mB(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=e.views.get(i);l&&(o=o.concat(yB(l,n,r)),mB(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Gs(e)&&s.push(new(function mae(){return M(Mg,"Reference.ts has not been loaded"),Mg}())(t._repo,t._path)),{removed:s,events:o}}(o,t,n,r);(function yae(e){return 0===e.views.size})(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=-1!==c.findIndex(f=>f._queryParams.loadsAllData()),d=e.syncPointTree_.findOnPath(s,(f,h)=>Gs(h));if(u&&!d){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=function Oae(e){return e.fold((t,n,r)=>{if(n&&Gs(n))return[Og(n)];{let i=[];return n&&(i=CB(n)),Jt(r,(s,o)=>{i=i.concat(o)}),i}})}(f);for(let p=0;p<h.length;++p){const g=h[p],_=g.query,w=OB(e,g);e.listenProvider_.startListening(yd(_),md(e,_),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(yd(t),null):c.forEach(f=>{const h=e.queryToTagMap.get(xg(f));e.listenProvider_.stopListening(yd(f),h)}))}!function Nae(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=xg(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}(e,c)}return a}function TE(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{const p=Rn(f,i);s=s||Hs(h,p),o=o||Gs(h)});let l,a=e.syncPointTree_.get(i);a?(o=o||Gs(a),s=s||Hs(a,Se())):(a=new wB,e.syncPointTree_=e.syncPointTree_.set(i,a)),null!=s?l=!0:(l=!1,s=le.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{const g=Hs(p,Se());g&&(s=s.updateImmediateChild(h,g))}));const c=TB(a,t);if(!c&&!t._queryParams.loadsAllData()){const f=xg(t);M(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=function Rae(){return Cae++}();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let d=vae(a,t,n,Tg(e.pendingWriteTree_,i),s,l);if(!c&&!o&&!r){const f=EB(a,t);d=d.concat(function Pae(e,t,n){const r=t._path,i=md(e,t),s=OB(e,n),o=e.listenProvider_.startListening(yd(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)M(!Gs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ge(c)&&u&&Gs(u))return[Og(u).query];{let f=[];return u&&(f=f.concat(CB(u).map(h=>h.query))),Jt(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){const u=l[c];e.listenProvider_.stopListening(yd(u),md(e,u))}}return o}(e,t,f))}return d}function Pg(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const c=Hs(a,Rn(o,t));if(c)return c});return cB(i,t,s,n,!0)}function Gl(e,t){return AB(t,e.syncPointTree_,null,Tg(e.pendingWriteTree_,Se()))}function AB(e,t,n,r){if(ge(e.path))return MB(e,t,n,r);{const i=t.get(Se());null==n&&null!=i&&(n=Hs(i,Se()));let s=[];const o=pe(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=dB(r,o);s=s.concat(AB(a,l,c,u))}return i&&(s=s.concat(CE(i,e,r,n))),s}}function MB(e,t,n,r){const i=t.get(Se());null==n&&null!=i&&(n=Hs(i,Se()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=dB(r,o),u=e.operationForChild(o);u&&(s=s.concat(MB(u,a,l,c)))}),i&&(s=s.concat(CE(i,e,r,n))),s}function OB(e,t){const n=t.query,r=md(e,n);return{hashFn:()=>(function dae(e){return e.viewCache_.serverCache.getNode()}(t)||le.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Sae(e,t,n){const r=IE(e,n);if(r){const i=SE(r),s=i.path,o=i.queryId,a=Rn(s,t);return AE(e,s,new fd(hE(o),a))}return[]}(e,n._path,r):function Iae(e,t){return Gl(e,new fd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const s=function Tse(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(i,n);return Rg(e,n,null,s)}}}}function md(e,t){const n=xg(t);return e.queryToTagMap.get(n)}function xg(e){return e._path.toString()+"$"+e._queryIdentifier}function IE(e,t){return e.tagToQueryMap.get(t)}function SE(e){const t=e.indexOf("$");return M(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new $e(e.substr(0,t))}}function AE(e,t,n){const r=e.syncPointTree_.get(t);return M(r,"Missing sync point for query tag that we're tracking"),CE(r,n,Tg(e.pendingWriteTree_,t),null)}function yd(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function Dae(){return M(Ng,"Reference.ts has not been loaded"),Ng}())(e._repo,e._path):e}class ME{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new ME(n)}node(){return this.node_}}class OE{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=it(this.path_,t);return new OE(this.syncTree_,n)}node(){return Pg(this.syncTree_,this.path_)}}const xae=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},NB=function(e,t,n){return e&&"object"==typeof e?(M(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?kae(e[".sv"],t,n):"object"==typeof e[".sv"]?Fae(e[".sv"],t):void M(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},kae=function(e,t,n){if("timestamp"===e)return n.timestamp;M(!1,"Unexpected server value: "+e)},Fae=function(e,t,n){e.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&M(!1,"Unexpected increment value: "+r);const i=t.node();if(M(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},RB=function(e,t,n,r){return RE(t,new OE(n,e),r)},NE=function(e,t,n){return RE(e,new ME(t),n)};function RE(e,t,n){const r=e.getPriority().val(),i=NB(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=NB(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new Bl(a,ft(i)):e}{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Bl(i))),o.forEachChild(tt,(a,l)=>{const c=RE(l,t.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class PE{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function kg(e,t){let n=t instanceof $e?t:new $e(t),r=e,i=pe(n);for(;null!==i;){const s=Cl(r.node.children,i)||{children:{},childCount:0};r=new PE(i,r,s),n=Ke(n),i=pe(n)}return r}function Jo(e){return e.node.value}function xE(e,t){e.node.value=t,kE(e)}function PB(e){return e.node.childCount>0}function Fg(e,t){Jt(e.node.children,(n,r)=>{t(new PE(n,e,r))})}function xB(e,t,n,r){n&&!r&&t(e),Fg(e,i=>{xB(i,t,!0,r)}),n&&r&&t(e)}function vd(e){return new $e(null===e.parent?e.name:vd(e.parent)+"/"+e.name)}function kE(e){null!==e.parent&&function Vae(e,t,n){const r=function Lae(e){return void 0===Jo(e)&&!PB(e)}(n),i=Zi(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,kE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,kE(e))}(e.parent,e.name,e)}const $ae=/[\[\].#$\/\u0000-\u001F\u007F]/,Uae=/[\[\].#$\u0000-\u001F\u007F]/,FE=10485760,Lg=function(e){return"string"==typeof e&&0!==e.length&&!$ae.test(e)},kB=function(e){return"string"==typeof e&&0!==e.length&&!Uae.test(e)},Ci=function(e,t,n,r){r&&void 0===t||wd(El(e,"value"),t,n)},wd=function(e,t,n){const r=n instanceof $e?new ioe(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Wo(r));if("function"==typeof t)throw new Error(e+"contains a function "+Wo(r)+" with contents = "+t.toString());if(dg(t))throw new Error(e+"contains "+t.toString()+" "+Wo(r));if("string"==typeof t&&t.length>FE/3&&Np(t)>FE)throw new Error(e+"contains a string greater than "+FE+" utf8 bytes "+Wo(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,s=!1;if(Jt(t,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Lg(o)))throw new Error(e+" contains an invalid key ("+o+") "+Wo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function soe(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Np(t),z2(e)})(r,o),wd(e,a,r),function ooe(e){const t=e.parts_.pop();e.byteLength_-=Np(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&s)throw new Error(e+' contains ".value" child '+Wo(r)+" in addition to actual children.")}},BE=function(e,t,n,r){if(!(r&&void 0===n||kB(n)))throw new Error(El(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Gae=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),BE(e,t,n,r)},Ei=function(e,t){if(".info"===pe(t))throw new Error(e+" failed = Can't modify data under /.info/")};class zae{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bg(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null!==n&&!ZC(s,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function BB(e,t,n){Bg(e,n),VB(e,r=>ZC(r,t))}function dr(e,t,n){Bg(e,n),VB(e,r=>Nr(r,t)||Nr(t,r))}function VB(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(Wae(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Wae(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Go&&Qt("event: "+n.toString()),Fl(r)}}}const qae=25;class Kae{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wg(),this.transactionQueueTree_=new PE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function UB(e){const n=e.infoData_.getNode(new $e(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Cd(e){return xae({timestamp:UB(e)})}function jB(e,t,n,r,i){e.dataUpdateCount++;const s=new $e(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const l=Mp(n,c=>ft(c));o=function Aae(e,t,n,r){const i=IE(e,r);if(i){const s=SE(i),o=s.path,a=s.queryId,l=Rn(o,t),c=nt.fromObject(n);return AE(e,o,new jl(hE(a),l,c))}return[]}(e.serverSyncTree_,s,l,i)}else{const l=ft(n);o=function SB(e,t,n,r){const i=IE(e,r);if(null!=i){const s=SE(i),o=s.path,a=s.queryId,l=Rn(o,t);return AE(e,o,new Ko(hE(a),l,n))}return[]}(e.serverSyncTree_,s,l,i)}else if(r){const l=Mp(n,c=>ft(c));o=function Tae(e,t,n){const r=nt.fromObject(n);return Gl(e,new jl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,l)}else{const l=ft(n);o=_d(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Wl(e,s)),dr(e.eventQueue_,a,o)}function HB(e,t){VE(e,"connected",t),!1===t&&function Xae(e){zl(e,"onDisconnectEvents");const t=Cd(e),n=wg();uE(e.onDisconnect_,Se(),(i,s)=>{const o=RB(i,s,e.serverSyncTree_,t);Ul(n,i,o)});let r=[];uE(n,Se(),(i,s)=>{r=r.concat(_d(e.serverSyncTree_,i,s));const o=HE(e,i);Wl(e,o)}),e.onDisconnect_=wg(),dr(e.eventQueue_,Se(),r)}(e)}function VE(e,t,n){const r=new $e("/.info/"+t),i=ft(n);e.infoData_.updateSnapshot(r,i);const s=_d(e.infoSyncTree_,r,i);dr(e.eventQueue_,r,s)}function Vg(e){return e.nextWriteId_++}function $E(e,t,n,r,i){zl(e,"set",{path:t.toString(),value:n,priority:r});const s=Cd(e),o=ft(n,r),a=Pg(e.serverSyncTree_,t),l=NE(o,a,s),c=Vg(e),u=EE(e.serverSyncTree_,t,l,c,!0);Bg(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(f,h)=>{const p="ok"===f;p||bn("set at "+t+" failed: "+f);const g=zs(e.serverSyncTree_,c,!p);dr(e.eventQueue_,t,g),function Ws(e,t,n,r){t&&Fl(()=>{if("ok"===n)t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}(0,i,f,h)});const d=HE(e,t);Wl(e,d),dr(e.eventQueue_,d,[])}function UE(e,t,n){let r;r=".info"===pe(t._path)?Rg(e.infoSyncTree_,t,n):Rg(e.serverSyncTree_,t,n),BB(e.eventQueue_,t._path,r)}function zl(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Qt(n,...t)}function jE(e,t,n){return Pg(e.serverSyncTree_,t,n)||le.EMPTY_NODE}function $g(e,t=e.transactionQueueTree_){if(t||Ug(e,t),Jo(t)){const n=qB(e,t);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function ole(e,t,n){const r=n.map(c=>c.currentWriteId),i=jE(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];M(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Rn(t,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,c=>{zl(e,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(zs(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ug(e,kg(e.transactionQueueTree_,t)),$g(e,e.transactionQueueTree_),dr(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Fl(d[f])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{bn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Wl(e,t)}},o)}(e,vd(t),n)}else PB(t)&&Fg(t,n=>{$g(e,n)})}function Wl(e,t){const n=WB(e,t),r=vd(n);return function ale(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=Rn(n,l.path);let d,u=!1;if(M(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(zs(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=qae)u=!0,d="maxretry",i=i.concat(zs(e.serverSyncTree_,l.currentWriteId,!0));else{const f=jE(e,l.path,o);l.currentInputSnapshot=f;const h=t[a].update(f.val());if(void 0!==h){wd("transaction failed: Data returned ",h,l.path);let p=ft(h);"object"==typeof h&&null!=h&&Zi(h,".priority")||(p=p.updatePriority(f.getPriority()));const _=l.currentWriteId,w=Cd(e),m=NE(p,f,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=Vg(e),o.splice(o.indexOf(_),1),i=i.concat(EE(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(zs(e.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(zs(e.serverSyncTree_,l.currentWriteId,!0))}dr(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}Ug(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Fl(r[a]);$g(e,e.transactionQueueTree_)}(e,qB(e,n),r),r}function WB(e,t){let n,r=e.transactionQueueTree_;for(n=pe(t);null!==n&&void 0===Jo(r);)r=kg(r,n),n=pe(t=Ke(t));return r}function qB(e,t){const n=[];return KB(e,t,n),n.sort((r,i)=>r.order-i.order),n}function KB(e,t,n){const r=Jo(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Fg(t,i=>{KB(e,i,n)})}function Ug(e,t){const n=Jo(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,xE(t,n.length>0?n:void 0)}Fg(t,r=>{Ug(e,r)})}function HE(e,t){const n=vd(WB(e,t)),r=kg(e.transactionQueueTree_,t);return function Bae(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{GE(e,i)}),GE(e,r),xB(r,i=>{GE(e,i)}),n}function GE(e,t){const n=Jo(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(M(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(M(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(zs(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?xE(t,void 0):n.length=s+1,dr(e.eventQueue_,vd(t),i);for(let o=0;o<r.length;o++)Fl(r[o])}}const zE=function(e,t){const n=ule(e),r=n.namespace;return"firebase.com"===n.domain&&bi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&bi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new zC(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new $e(n.pathString)}},ule=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function lle(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(u,d)));const f=function cle(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bn(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class QB{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+qt(this.snapshot.exportVal())}}class JB{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class WE{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class fr{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ge(this._path)?null:JC(this._path)}get ref(){return new Qr(this._repo,this._path)}get _queryIdentifier(){const t=nB(this._queryParams),n=HC(t);return"{}"===n?"default":n}get _queryObject(){return nB(this._queryParams)}isEqual(t){if(!((t=qn(t))instanceof fr))return!1;const n=this._repo===t._repo,r=ZC(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function noe(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Qr extends fr{constructor(t,n){super(t,n,new oE,!1)}get parent(){const t=G2(this._path);return null===t?null:new Qr(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Zo{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new $e(t),r=ql(this.ref,t);return new Zo(this._node.getChild(n),r,tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new Zo(i,ql(this.ref,r),tt)))}hasChild(t){const n=new $e(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ZB(e,t){return(e=qn(e))._checkNotDeleted("ref"),void 0!==t?ql(e._root,t):e._root}function ql(e,t){return null===pe((e=qn(e))._path)?Gae("child","path",t,!1):BE("child","path",t,!1),new Qr(e._repo,it(e._path,t))}function hle(e){return Ei("remove",e._path),qE(e,null)}function qE(e,t){e=qn(e),Ei("set",e._path),Ci("set",t,e._path,!1);const n=new Ao;return $E(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class Ed{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const r=n._queryParams.getIndex();return new QB("value",this,new Zo(t.snapshotNode,new Qr(n._repo,n._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new JB(this,t,n):null}matches(t){return t instanceof Ed&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Gg{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n="children_added"===t?"child_added":t;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new JB(this,t,n):null}createEvent(t,n){M(null!=t.childName,"Child events should have a childName.");const r=ql(new Qr(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new QB(t.type,this,new Zo(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Gg&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function gle(e,t,n,r){return function Td(e,t,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{UE(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new WE(n,s||void 0),a="value"===t?new Ed(o):new Gg(t,o);return function rle(e,t,n){let r;r=".info"===pe(t._path)?TE(e.infoSyncTree_,t,n):TE(e.serverSyncTree_,t,n),BB(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>UE(e._repo,e,a)}(e,"child_added",t,n,r)}(function _ae(e){M(!Mg,"__referenceConstructor has already been defined"),Mg=e})(Qr),function wae(e){M(!Ng,"__referenceConstructor has already been defined"),Ng=e}(Qr);const KE={};function Sle(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||bi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qt("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=zE(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=zE(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new id(id.OWNER):new Nse(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Lg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),kB(e)}(n))throw new Error(El(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),ge(o.path)||bi("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Mle(e,t,n,r){let i=KE[t.name];i||(i={},KE[t.name]=i);let s=i[e.toURLString()];return s&&bi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Kae(e,false,n,r),i[e.toURLString()]=s,s}(a,e,u,new Ose(e.name,n));return new Nle(d,e)}class Nle{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Yae(e,t,n){if(e.stats_=KC(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new bg(e.repoInfo_,(r,i,s,o)=>{jB(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>HB(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new qo(e.repoInfo_,t,(r,i,s,o)=>{jB(e,r,i,s,o)},r=>{HB(e,r)},r=>{!function Qae(e,t){Jt(t,(n,r)=>{VE(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function xse(e,t){const n=e.toString();return qC[n]||(qC[n]=t()),qC[n]}(e.repoInfo_,()=>new xoe(e.stats_,e.server_)),e.infoData_=new Moe,e.infoSyncTree_=new IB({startListening:(r,i,s,o)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=_d(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),VE(e,"connected",!1),e.serverSyncTree_=new IB({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);dr(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qr(this._repo,Se())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ale(e,t){const n=KE[t];(!n||n[e.key]!==e)&&bi(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function zB(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&bi("Cannot call "+t+" on a deleted database.")}}function Rle(e=ob(),t){const n=Il(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=(e=>{const t=sk("database");if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})();r&&function Ple(e,t,n,r={}){(e=qn(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&bi("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&bi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new id(id.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:function GQ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Tp(JSON.stringify({alg:"none",type:"JWT"})),Tp(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);s=new id(o)}!function Ile(e,t,n,r){e.repoInfo_=new zC(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(n,...r)}return n}qo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},qo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function xle(e){(function mse(e){$C=e})(Po),On(new vn("database",(t,{instanceIdentifier:n})=>Sle(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),yt(o2,"0.14.4",e),yt(o2,"0.14.4","esm2017")}();class Id{constructor(t){return t}}const rV="database",YE=new U("angularfire2.database-instances");function Vle(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new Id(r)}}const $le={provide:class Lle{constructor(){return c1(rV)}},deps:[[new Sn,YE]]},Ule={provide:Id,useFactory:function Ble(e,t){const n=l1(rV,e,t);return n&&new Id(n)},deps:[[new Sn,YE],Ol]};let jle=(()=>{class e{constructor(){yt("angularfire",Up.full,"rtdb")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({providers:[Ule,$le]}),e})();function Hle(e,...t){return{ngModule:jle,providers:[{provide:YE,useFactory:Vle(e),multi:!0,deps:[de,Rt,u1,d1,[new Sn,s2],[new Sn,P1],...t]}]}}const Gle=rs(Rle,!0),zle=rs(gle,!0),zg=rs(ZB,!0),Wle=rs(hle,!0),iV=rs(qE,!0),{isArray:Kle}=Array,{getPrototypeOf:Yle,prototype:Qle,keys:Jle}=Object;const{isArray:Xle}=Array;function QE(e){return be(t=>function ece(e,t){return Xle(t)?e(...t):e(t)}(e,t))}function JE(...e){const t=vc(e),n=wf(e),{args:r,keys:i}=function sV(e){if(1===e.length){const t=e[0];if(Kle(t))return{args:t,keys:null};if(function Zle(e){return e&&"object"==typeof e&&Yle(e)===Qle}(t)){const n=Jle(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Gt([],t);const s=new Pe(function tce(e,t,n=xr){return r=>{aV(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)aV(t,()=>{const c=Gt(e[l],t);let u=!1;c.subscribe(Qe(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>function oV(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,o):xr));return n?s.pipe(QE(n)):s}function aV(e,t,n){e?Pi(n,e,t):t()}const Wg=hs(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Sd(...e){return function nce(){return Ca(1)}()(Gt(e,vc(e)))}function lV(e){return new Pe(t=>{kt(e()).subscribe(t)})}function Ad(e,t){const n=he(e)?e:()=>e,r=i=>i.error(n());return new Pe(t?i=>t.schedule(r,0,i):r)}function ZE(){return ot((e,t)=>{let n=null;e._refCount++;const r=Qe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class cV extends Pe{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mc(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new wt;const n=this.getSubject();t.add(this.source.subscribe(Qe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=wt.EMPTY)}return t}refCount(){return ZE()(this)}}function un(e){return e<=0?()=>mr:ot((t,n)=>{let r=0;t.subscribe(Qe(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Zt(e,t){return ot((n,r)=>{let i=0;n.subscribe(Qe(r,s=>e.call(t,s,i++)&&r.next(s)))})}function qg(e){return ot((t,n)=>{let r=!1;t.subscribe(Qe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function dV(e=rce){return ot((t,n)=>{let r=!1;t.subscribe(Qe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function rce(){return new Wg}function Xo(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Zt((i,s)=>e(i,s,r)):xr,un(1),n?qg(t):dV(()=>new Wg))}function Md(e,t){return he(t)?Ft(e,t,1):Ft(e,1)}function ea(e){return ot((t,n)=>{let s,r=null,i=!1;r=t.subscribe(Qe(n,void 0,void 0,o=>{s=kt(e(o,ea(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function XE(e){return e<=0?()=>mr:ot((t,n)=>{let r=[];t.subscribe(Qe(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function eT(e){return ot((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function At(e){return ot((t,n)=>{kt(e).subscribe(Qe(n,()=>n.complete(),ro)),!n.closed&&t.subscribe(n)})}const ue="primary",Od=Symbol("RouteTitle");class ace{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Kl(e){return new ace(e)}function lce(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ti(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!hV(e[i],t[i]))return!1;return!0}function hV(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function pV(e){return e.length>0?e[e.length-1]:null}function Ks(e){return function qle(e){return!!e&&(e instanceof Pe||he(e.lift)&&he(e.subscribe))}(e)?e:ou(e)?Gt(Promise.resolve(e)):J(e)}const uce={exact:function mV(e,t,n){if(!ta(e.segments,t.segments)||!Kg(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!mV(e.children[r],t.children[r],n))return!1;return!0},subset:yV},gV={exact:function dce(e,t){return Ti(e,t)},subset:function fce(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>hV(e[n],t[n]))},ignored:()=>!0};function _V(e,t,n){return uce[n.paths](e.root,t.root,n.matrixParams)&&gV[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function yV(e,t,n){return vV(e,t,t.segments,n)}function vV(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!ta(i,n)||t.hasChildren()||!Kg(i,n,r))}if(e.segments.length===n.length){if(!ta(e.segments,n)||!Kg(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!yV(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(ta(e.segments,i)&&Kg(e.segments,i,r)&&e.children[ue])&&vV(e.children[ue],t,s,r)}}function Kg(e,t,n){return t.every((r,i)=>gV[n](e[i].parameters,r.parameters))}class Yl{constructor(t=new We([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kl(this.queryParams)),this._queryParamMap}toString(){return gce.serialize(this)}}class We{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yg(this)}}class Nd{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Kl(this.parameters)),this._parameterMap}toString(){return DV(this)}}function ta(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Rd=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:function(){return new tT},providedIn:"root"}),t})();class tT{parse(t){const n=new Ice(t);return new Yl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Pd(t.root,!0)}`,r=function yce(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Qg(n)}=${Qg(i)}`).join("&"):`${Qg(n)}=${Qg(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function _ce(e){return encodeURI(e)}(t.fragment)}`:""}`}}const gce=new tT;function Yg(e){return e.segments.map(t=>DV(t)).join("/")}function Pd(e,t){if(!e.hasChildren())return Yg(e);if(t){const n=e.children[ue]?Pd(e.children[ue],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==ue&&r.push(`${i}:${Pd(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function pce(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===ue&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ue&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===ue?[Pd(e.children[ue],!1)]:[`${i}:${Pd(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ue]?`${Yg(e)}/${n[0]}`:`${Yg(e)}/(${n.join("//")})`}}function bV(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qg(e){return bV(e).replace(/%3B/gi,";")}function nT(e){return bV(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jg(e){return decodeURIComponent(e)}function wV(e){return Jg(e.replace(/\+/g,"%20"))}function DV(e){return`${nT(e.path)}${function mce(e){return Object.keys(e).map(t=>`;${nT(t)}=${nT(e[t])}`).join("")}(e.parameters)}`}const vce=/^[^\/()?;#]+/;function rT(e){const t=e.match(vce);return t?t[0]:""}const bce=/^[^\/()?;=#]+/,Dce=/^[^=?&#]+/,Ece=/^[^&#]+/;class Ice{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ue]=new We(t,n)),r}parseSegment(){const t=rT(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(t),new Nd(Jg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function wce(e){const t=e.match(bce);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=rT(this.remaining);i&&(r=i,this.capture(r))}t[Jg(n)]=Jg(r)}parseQueryParam(t){const n=function Cce(e){const t=e.match(Dce);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Tce(e){const t=e.match(Ece);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=wV(n),s=wV(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ue);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ue]:new We([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new C(4011,!1)}}function CV(e){return e.segments.length>0?new We([],{[ue]:e}):e}function EV(e){const t={};for(const r of Object.keys(e.children)){const s=EV(e.children[r]);if(r===ue&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function Sce(e){if(1===e.numberOfChildren&&e.children[ue]){const t=e.children[ue];return new We(e.segments.concat(t.segments),t.children)}return e}(new We(e.segments,t))}function na(e){return e instanceof Yl}function TV(e){let t;const i=CV(function n(s){const o={};for(const l of s.children){const c=n(l);o[l.outlet]=c}const a=new We(s.url,o);return s===e&&(t=a),a}(e.root));return t??i}function IV(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return iT(i,i,i,n,r);const s=function Mce(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new AV(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new AV(n,t,r)}(t);if(s.toRoot())return iT(i,i,new We([],{}),n,r);const o=function Oce(e,t,n){if(e.isAbsolute)return new Xg(t,!0,0);if(!n)return new Xg(t,!1,NaN);if(null===n.parent)return new Xg(n,!0,0);const r=Zg(e.commands[0])?0:1;return function Nce(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Xg(r,!1,i-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?kd(o.segmentGroup,o.index,s.commands):MV(o.segmentGroup,o.index,s.commands);return iT(i,o.segmentGroup,a,n,r)}function Zg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function xd(e){return"object"==typeof e&&null!=e&&e.outlets}function iT(e,t,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=e===t?n:SV(e,t,n);const a=CV(EV(o));return new Yl(a,s,i)}function SV(e,t,n){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===t?n:SV(s,t,n)}),new We(e.segments,r)}class AV{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Zg(r[0]))throw new C(4003,!1);const i=r.find(xd);if(i&&i!==pV(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xg{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function MV(e,t,n){if(e||(e=new We([],{})),0===e.segments.length&&e.hasChildren())return kd(e,t,n);const r=function Pce(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(xd(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!NV(l,c,o))return s;r+=2}else{if(!NV(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new We(e.segments.slice(0,r.pathIndex),{});return s.children[ue]=new We(e.segments.slice(r.pathIndex),e.children),kd(s,0,i)}return r.match&&0===i.length?new We(e.segments,{}):r.match&&!e.hasChildren()?sT(e,t,n):r.match?kd(e,0,i):sT(e,t,n)}function kd(e,t,n){if(0===n.length)return new We(e.segments,{});{const r=function Rce(e){return xd(e[0])?e[0].outlets:{[ue]:e}}(n),i={};if(Object.keys(r).some(s=>s!==ue)&&e.children[ue]&&1===e.numberOfChildren&&0===e.children[ue].segments.length){const s=kd(e.children[ue],t,n);return new We(e.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=MV(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new We(e.segments,i)}}function sT(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(xd(s)){const l=xce(s.outlets);return new We(r,l)}if(0===i&&Zg(n[0])){r.push(new Nd(e.segments[t].path,OV(n[0]))),i++;continue}const o=xd(s)?s.outlets[ue]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Zg(a)?(r.push(new Nd(o,OV(a))),i+=2):(r.push(new Nd(o,{})),i++)}return new We(r,{})}function xce(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=sT(new We([],{}),0,r))}),t}function OV(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function NV(e,t,n){return e==n.path&&Ti(t,n.parameters)}const Fd="imperative";class Ii{constructor(t,n){this.id=t,this.url=n}}class e_ extends Ii{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ys extends Ii{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ld extends Ii{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ql extends Ii{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class t_ extends Ii{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RV extends Ii{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kce extends Ii{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fce extends Ii{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lce extends Ii{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bce extends Ii{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vce{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $ce{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uce{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jce{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hce{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gce{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PV{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oT{}class aT{constructor(t){this.url=t}}class zce{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bd,this.attachRef=null}}let Bd=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new zce,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class xV{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=lT(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=lT(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=cT(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return cT(t,this._root).map(n=>n.value)}}function lT(e,t){if(e===t.value)return t;for(const n of t.children){const r=lT(e,n);if(r)return r}return null}function cT(e,t){if(e===t.value)return[t];for(const n of t.children){const r=cT(e,n);if(r.length)return r.unshift(t),r}return[]}class us{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Jl(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class kV extends xV{constructor(t,n){super(t),this.snapshot=n,uT(this,t)}toString(){return this.snapshot.toString()}}function FV(e,t){const n=function Wce(e,t){const o=new n_([],{},{},"",{},ue,t,null,{});return new BV("",new us(o,[]))}(0,t),r=new yr([new Nd("",{})]),i=new yr({}),s=new yr({}),o=new yr({}),a=new yr(""),l=new Qs(r,i,o,a,s,ue,t,n.root);return l.snapshot=n.root,new kV(new us(l,[]),n)}class Qs{constructor(t,n,r,i,s,o,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(be(c=>c[Od]))??J(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(be(t=>Kl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(be(t=>Kl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function LV(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function qce(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class n_{get title(){return this.data?.[Od]}constructor(t,n,r,i,s,o,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BV extends xV{constructor(t,n){super(n),this.url=t,uT(this,n)}toString(){return VV(this._root)}}function uT(e,t){t.value._routerState=e,t.children.forEach(n=>uT(e,n))}function VV(e){const t=e.children.length>0?` { ${e.children.map(VV).join(", ")} } `:"";return`${e.value}${t}`}function dT(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ti(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ti(t.params,n.params)||e.paramsSubject.next(n.params),function cce(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ti(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Ti(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function fT(e,t){const n=Ti(e.params,t.params)&&function hce(e,t){return ta(e,t)&&e.every((n,r)=>Ti(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||fT(e.parent,t.parent))}let hT=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new z,this.deactivateEvents=new z,this.attachEvents=new z,this.detachEvents=new z,this.parentContexts=B(Bd),this.location=B(Ir),this.changeDetector=B(Hr),this.environmentInjector=B(Hn),this.inputBinder=B(r_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Kce(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275dir=O({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nn]}),t})();class Kce{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Qs?this.route:t===Bd?this.childContexts:this.parent.get(t,n)}}const r_=new U("");let $V=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=JE([i.queryParams,i.params,i.data]).pipe(kr(([o,a,l],c)=>(l={...o,...a,...l},0===c?J(l):Promise.resolve(l)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function mq(e){const t=we(e);if(!t)return null;const n=new eu(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,o[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})();function Vd(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function Qce(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Vd(e,r,i);return Vd(e,r)})}(e,t,n);return new us(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Vd(e,a)),o}}const r=function Jce(e){return new Qs(new yr(e.url),new yr(e.params),new yr(e.queryParams),new yr(e.fragment),new yr(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Vd(e,s));return new us(r,i)}}const pT="ngNavigationCancelingError";function UV(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=na(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=jV(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function jV(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[pT]=!0,r.cancellationCode=t,n&&(r.url=n),r}function HV(e){return e&&e[pT]}let GV=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275cmp=gn({type:e,selectors:[["ng-component"]],standalone:!0,features:[Tr],decls:1,vars:0,template:function(r,i){1&r&&an(0,"router-outlet")},dependencies:[hT],encapsulation:2}),t})();function gT(e){const t=e.children&&e.children.map(gT),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=GV),n}function Jr(e){return e.outlet||ue}function $d(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class sue{constructor(t,n,r,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),dT(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Jl(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Jl(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=Jl(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Jl(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Gce(s.value.snapshot))}),t.children.length&&this.forwardEvent(new jce(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(dT(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dT(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=$d(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class zV{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class i_{constructor(t,n){this.component=t,this.route=n}}function oue(e,t,n){const r=e._root;return Ud(r,t?t._root:null,n,[r.value])}function Zl(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function LH(e){return null!==If(e)}(e)?t.get(e):e:r}function Ud(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jl(t);return e.children.forEach(o=>{(function lue(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function cue(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ta(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ta(e.url,t.url)||!Ti(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fT(e,t)||!Ti(e.queryParams,t.queryParams);default:return!fT(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new zV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ud(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new i_(a.outlet.component,o))}else o&&jd(t,a,i),i.canActivateChecks.push(new zV(r)),Ud(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>jd(a,n.getContext(o),i)),i}function jd(e,t,n){const r=Jl(e),i=e.value;Object.entries(r).forEach(([s,o])=>{jd(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new i_(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Hd(e){return"function"==typeof e}function WV(e){return e instanceof Wg||"EmptyError"===e?.name}const s_=Symbol("INITIAL_VALUE");function Xl(){return kr(e=>JE(e.map(t=>t.pipe(un(1),function uV(...e){const t=vc(e);return ot((n,r)=>{(t?Sd(e,n,t):Sd(e,n)).subscribe(r)})}(s_)))).pipe(be(t=>{for(const n of t)if(!0!==n){if(n===s_)return s_;if(!1===n||n instanceof Yl)return n}return!0}),Zt(t=>t!==s_),un(1)))}function qV(e){return function hf(...e){return pf(e)}($t(t=>{if(na(t))throw UV(0,t)}),be(t=>!0===t))}class o_{constructor(t){this.segmentGroup=t||null}}class KV{constructor(t){this.urlTree=t}}function ec(e){return Ad(new o_(e))}function YV(e){return Ad(new KV(e))}class Mue{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new C(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return J(r);if(i.numberOfChildren>1||!i.children[ue])return Ad(new C(4e3,!1));i=i.children[ue]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new Yl(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,r,i)}),new We(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const _T={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oue(e,t,n,r,i){const s=mT(e,t,n);return s.matched?(r=function Xce(e,t){return e.providers&&!e._injector&&(e._injector=hv(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function Iue(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?J(i.map(o=>{const a=Zl(o,e);return Ks(function gue(e){return e&&Hd(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(Xl(),qV()):J(!0)}(r,t,n).pipe(be(o=>!0===o?s:{..._T}))):J(s)}function mT(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{..._T}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||lce)(n,e,t);if(!i)return{..._T};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function QV(e,t,n,r){return n.length>0&&function Pue(e,t,n){return n.some(r=>a_(e,t,r)&&Jr(r)!==ue)}(e,n,r)?{segmentGroup:new We(t,Rue(r,new We(n,e.children))),slicedSegments:[]}:0===n.length&&function xue(e,t,n){return n.some(r=>a_(e,t,r))}(e,n,r)?{segmentGroup:new We(e.segments,Nue(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new We(e.segments,e.children),slicedSegments:n}}function Nue(e,t,n,r,i){const s={};for(const o of r)if(a_(e,n,o)&&!i[Jr(o)]){const a=new We([],{});s[Jr(o)]=a}return{...i,...s}}function Rue(e,t){const n={};n[ue]=t;for(const r of e)if(""===r.path&&Jr(r)!==ue){const i=new We([],{});n[Jr(r)]=i}return n}function a_(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class Bue{constructor(t,n,r,i,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Mue(this.urlSerializer,this.urlTree)}noMatchError(t){return new C(4002,!1)}recognize(){const t=QV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ue).pipe(ea(n=>{if(n instanceof KV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof o_?this.noMatchError(n):n}),be(n=>{const r=new n_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ue,this.rootComponentType,null,{}),i=new us(r,n),s=new BV("",i),o=function Ace(e,t,n=null,r=null){return IV(TV(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,ue).pipe(ea(r=>{throw r instanceof o_?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=LV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Gt(i).pipe(Md(s=>{const o=r.children[s],a=function rue(e,t){const n=e.filter(r=>Jr(r)===t);return n.push(...e.filter(r=>Jr(r)!==t)),n}(n,s);return this.processSegmentGroup(t,a,o,s)}),function sce(e,t){return ot(function ice(e,t,n,r,i){return(s,o)=>{let a=n,l=t,c=0;s.subscribe(Qe(o,u=>{const d=c++;l=a?e(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),qg(null),function oce(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Zt((i,s)=>e(i,s,r)):xr,XE(1),n?qg(t):dV(()=>new Wg))}(),Ft(s=>{if(null===s)return ec(r);const o=JV(s);return function Vue(e){e.sort((t,n)=>t.value.outlet===ue?-1:n.value.outlet===ue?1:t.value.outlet.localeCompare(n.value.outlet))}(o),J(o)}))}processSegment(t,n,r,i,s,o){return Gt(n).pipe(Md(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,s,o).pipe(ea(l=>{if(l instanceof o_)return J(null);throw l}))),Xo(a=>!!a),ea(a=>{if(WV(a))return function Fue(e,t,n){return 0===t.length&&!e.children[n]}(r,i,s)?J([]):ec(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,s,o,a){return function kue(e,t,n,r){return!!(Jr(e)===r||r!==ue&&a_(t,n,e))&&("**"===e.path||mT(t,e,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o):ec(i):ec(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?YV(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Ft(o=>{const a=new We(o,{});return this.processSegment(t,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=mT(n,i,s);if(!a)return ec(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?YV(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ft(f=>this.processSegment(t,r,n,f.concat(c),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?pV(i).parameters:{};a=J({snapshot:new n_(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZV(r),Jr(r),r.component??r._loadedComponent??null,r,XV(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Oue(n,r,i,t).pipe(be(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new n_(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZV(r),Jr(r),r.component??r._loadedComponent??null,r,XV(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(kr(l=>null===l?ec(n):this.getChildConfig(t=r._injector??t,r,i).pipe(kr(({routes:c})=>{const u=r._loadedInjector??t,{snapshot:d,consumedSegments:f,remainingSegments:h}=l,{segmentGroup:p,slicedSegments:g}=QV(n,f,h,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(be(w=>null===w?null:[new us(d,w)]));if(0===c.length&&0===g.length)return J([new us(d,[])]);const _=Jr(r)===s;return this.processSegment(u,c,p,g,_?ue:s,!0).pipe(be(w=>[new us(d,w)]))}))))}getChildConfig(t,n,r){return n.children?J({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?J({routes:n._loadedRoutes,injector:n._loadedInjector}):function Tue(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?J(!0):J(i.map(o=>{const a=Zl(o,e);return Ks(function due(e){return e&&Hd(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(Xl(),qV())}(t,n,r).pipe(Ft(i=>i?this.configLoader.loadChildren(t,n).pipe($t(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Aue(e){return Ad(jV(!1,3))}())):J({routes:[],injector:t})}}function $ue(e){const t=e.value.routeConfig;return t&&""===t.path}function JV(e){const t=[],n=new Set;for(const r of e){if(!$ue(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=JV(r.children);t.push(new us(r.value,i))}return t.filter(r=>!n.has(r))}function ZV(e){return e.data||{}}function XV(e){return e.resolve||{}}function jue(e,t){return Ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let s=0;return Gt(i).pipe(Md(o=>function Hue(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!e$(i)&&(s[Od]=i.title),function Gue(e,t,n,r){const i=function zue(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return J({});const s={};return Gt(i).pipe(Ft(o=>function Wue(e,t,n,r){const i=$d(t)??r,s=Zl(e,i);return Ks(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[o],t,n,r).pipe(Xo(),$t(a=>{s[o]=a}))),XE(1),function fV(e){return be(()=>e)}(s),ea(o=>WV(o)?mr:Ad(o)))}(s,e,t,r).pipe(be(o=>(e._resolvedData=o,e.data=LV(e,n).resolve,i&&e$(i)&&(e.data[Od]=i.title),null)))}(o.route,r,e,t)),$t(()=>s++),XE(1),Ft(o=>s===i.length?J(n):mr))})}function e$(e){return"string"==typeof e.title||null===e.title}function yT(e){return kr(t=>{const n=e(t);return n?Gt(n).pipe(be(()=>t)):J(t)})}const tc=new U("ROUTES");let vT=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(WR)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return J(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Ks(r.loadComponent()).pipe(be(t$),$t(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),eT(()=>{this.componentLoaders.delete(r)})),s=new cV(i,()=>new xe).pipe(ZE());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function que(e,t,n,r){return Ks(e.loadChildren()).pipe(be(t$),Ft(i=>i instanceof tR||Array.isArray(i)?J(i):Gt(t.compileModuleAsync(i))),be(i=>{r&&r(e);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(tc,[],{optional:!0,self:!0}).flat()),{routes:o.map(gT),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(eT(()=>{this.childrenLoaders.delete(i)})),a=new cV(o,()=>new xe).pipe(ZE());return this.childrenLoaders.set(i,a),a}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function t$(e){return function Kue(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let l_=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xe,this.transitionAbortSubject=new xe,this.configLoader=B(vT),this.environmentInjector=B(Hn),this.urlSerializer=B(Rd),this.rootContexts=B(Bd),this.inputBindingEnabled=null!==B(r_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new $ce(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Vce(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new yr({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fd,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zt(o=>0!==o.id),be(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),kr(o=>{this.currentTransition=o;let a=!1,l=!1;return J(o).pipe($t(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),kr(c=>{const u=c.currentBrowserUrl.toString(),d=!r.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new Ql(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),mr}if(r.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return J(c).pipe(kr(h=>{const p=this.transitions?.getValue();return this.events.next(new e_(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?mr:Promise.resolve(h)}),function Uue(e,t,n,r,i,s){return Ft(o=>function Lue(e,t,n,r,i,s,o="emptyOnly"){return new Bue(e,t,n,r,i,o,s).recognize()}(e,t,n,r,o.extractedUrl,i,s).pipe(be(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),$t(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new RV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:_,extras:w}=c,m=new e_(h,this.urlSerializer.serialize(p),g,_);this.events.next(m);const I=FV(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:I,urlAfterRedirects:p,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},J(o)}{const h="";return this.events.next(new Ql(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),mr}}),$t(c=>{const u=new kce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),be(c=>(this.currentTransition=o={...c,guards:oue(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function mue(e,t){return Ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?J({...n,guardsResult:!0}):function yue(e,t,n,r){return Gt(e).pipe(Ft(i=>function Eue(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?J(s.map(a=>{const l=$d(t)??i,c=Zl(a,l);return Ks(function pue(e){return e&&Hd(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):l.runInContext(()=>c(e,t,n,r))).pipe(Xo())})).pipe(Xl()):J(!0)}(i.component,i.route,n,t,r)),Xo(i=>!0!==i,!0))}(o,r,i,e).pipe(Ft(a=>a&&function uue(e){return"boolean"==typeof e}(a)?function vue(e,t,n,r){return Gt(t).pipe(Md(i=>Sd(function wue(e,t){return null!==e&&t&&t(new Uce(e)),J(!0)}(i.route.parent,r),function bue(e,t){return null!==e&&t&&t(new Hce(e)),J(!0)}(i.route,r),function Cue(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function aue(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>lV(()=>J(o.guards.map(l=>{const c=$d(o.node)??n,u=Zl(l,c);return Ks(function hue(e){return e&&Hd(e.canActivateChild)}(u)?u.canActivateChild(r,e):c.runInContext(()=>u(r,e))).pipe(Xo())})).pipe(Xl())));return J(s).pipe(Xl())}(e,i.path,n),function Due(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return J(!0);const i=r.map(s=>lV(()=>{const o=$d(t)??n,a=Zl(s,o);return Ks(function fue(e){return e&&Hd(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(Xo())}));return J(i).pipe(Xl())}(e,i.route,n))),Xo(i=>!0!==i,!0))}(r,s,e,t):J(a)),be(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),$t(c=>{if(o.guardsResult=c.guardsResult,na(c.guardsResult))throw UV(0,c.guardsResult);const u=new Fce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Zt(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),yT(c=>{if(c.guards.canActivateChecks.length)return J(c).pipe($t(u=>{const d=new Lce(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),kr(u=>{let d=!1;return J(u).pipe(jue(r.paramsInheritanceStrategy,this.environmentInjector),$t({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),$t(u=>{const d=new Bce(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),yT(c=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe($t(h=>{d.component=h}),be(()=>{})));for(const h of d.children)f.push(...u(h));return f};return JE(u(c.targetSnapshot.root)).pipe(qg(),un(1))}),yT(()=>this.afterPreactivation()),be(c=>{const u=function Yce(e,t,n){const r=Vd(e,t._root,n?n._root:void 0);return new kV(r,t)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),$t(()=>{this.events.next(new oT)}),((e,t,n,r)=>be(i=>(new sue(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),un(1),$t({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ys(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),r.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),At(this.transitionAbortSubject.pipe($t(c=>{throw c}))),eT(()=>{a||l||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ea(c=>{if(l=!0,HV(c))this.events.next(new Ld(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Zce(e){return HV(e)&&na(e.url)}(c)?this.events.next(new aT(c.url)):o.resolve(!1);else{this.events.next(new t_(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(u){o.reject(u)}}return mr}))}))}cancelNavigationTransition(r,i,s){const o=new Ld(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function n$(e){return e!==Fd}let r$=(()=>{var e;class t{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ue);return i}getResolvedTitleForRoute(r){return r.data[Od]}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:function(){return B(Yue)},providedIn:"root"}),t})(),Yue=(()=>{var e;class t extends r${constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(e=t).\u0275fac=function(r){return new(r||e)(R(px))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Que=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:function(){return B(Zue)},providedIn:"root"}),t})();class Jue{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Zue=(()=>{var e;class t extends Jue{}return(e=t).\u0275fac=function(){let n;return function(i){return(n||(n=function Tt(e){return xi(()=>{const t=e.prototype.constructor,n=t[ki]||Lm(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[ki]||Lm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(i||e)}}(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const c_=new U("",{providedIn:"root",factory:()=>({})});let Xue=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:function(){return B(ede)},providedIn:"root"}),t})(),ede=(()=>{var e;class t{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Gd=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Gd||{});function i$(e,t){e.events.pipe(Zt(n=>n instanceof Ys||n instanceof Ld||n instanceof t_||n instanceof Ql),be(n=>n instanceof Ys||n instanceof Ql?Gd.COMPLETE:n instanceof Ld&&(0===n.code||1===n.code)?Gd.REDIRECTING:Gd.FAILED),Zt(n=>n!==Gd.REDIRECTING),un(1)).subscribe(()=>{t()})}function tde(e){throw e}function nde(e,t,n){return t.parse("/")}const rde={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ide={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pn=(()=>{var e;class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=B(GR),this.isNgZoneEnabled=!1,this._events=new xe,this.options=B(c_,{optional:!0})||{},this.pendingTasks=B(zR),this.errorHandler=this.options.errorHandler||tde,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nde,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=B(Xue),this.routeReuseStrategy=B(Que),this.titleStrategy=B(r$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=B(tc,{optional:!0})?.flat()??[],this.navigationTransitions=B(l_),this.urlSerializer=B(Rd),this.location=B(qv),this.componentInputBindingEnabled=!!B(r_,{optional:!0}),this.eventsSubscription=new wt,this.isNgZoneEnabled=B(de)instanceof de&&de.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=FV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(s$(i)&&this._events.next(i));if(i instanceof e_)n$(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof Ql)this.rawUrlTree=s.rawUrl;else if(i instanceof RV){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof oT)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof Ld)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof aT){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||n$(s.source)};this.scheduleNavigation(o,Fd,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof t_&&this.restoreHistory(s,!0),i instanceof Ys&&(this.navigated=!0),s$(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Fd,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(gT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a;let f,d=null;switch(l){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=TV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return IV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=na(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Fd,null,i)}navigate(r,i={skipLocationChange:!1}){return function sde(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new C(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...rde}:!1===i?{...ide}:i,na(r))return _V(this.currentUrlTree,r,s);const o=this.parseUrl(r);return _V(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});const d=this.pendingTasks.add();return i$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function s$(e){return!(e instanceof oT||e instanceof aT)}class o${}let lde=(()=>{var e;class t{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Zt(r=>r instanceof Ys),Md(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=hv(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Gt(s).pipe(Ca())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):J(null);const o=s.pipe(Ft(a=>null===a?J(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?Gt([o,this.loader.loadComponent(i)]).pipe(Ca()):o})}}return(e=t).\u0275fac=function(r){return new(r||e)(R(Pn),R(WR),R(Hn),R(o$),R(vT))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const wT=new U("");let a$=(()=>{var e;class t{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof e_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ys?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Ql&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof PV&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new PV(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(r){!function jM(){throw new Error("invalid")}()},e.\u0275prov=P({token:e,factory:e.\u0275fac}),t})();function ds(e,t){return{\u0275kind:e,\u0275providers:t}}function c$(){const e=B(Rt);return t=>{const n=e.get(Gi);if(t!==n.components[0])return;const r=e.get(Pn),i=e.get(u$);1===e.get(DT)&&r.initialNavigation(),e.get(d$,null,me.Optional)?.setUpPreloading(),e.get(wT,null,me.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const u$=new U("",{factory:()=>new xe}),DT=new U("",{providedIn:"root",factory:()=>1}),d$=new U("");function fde(e){return ds(0,[{provide:d$,useExisting:lde},{provide:o$,useExisting:e}])}const f$=new U("ROUTER_FORROOT_GUARD"),pde=[qv,{provide:Rd,useClass:tT},Pn,Bd,{provide:Qs,useFactory:function l$(e){return e.routerState.root},deps:[Pn]},vT,[]];function gde(){return new XR("Router",Pn)}let h$=(()=>{var e;class t{constructor(r){}static forRoot(r,i){return{ngModule:t,providers:[pde,[],{provide:tc,multi:!0,useValue:r},{provide:f$,useFactory:vde,deps:[[Pn,new Sn,new Yf]]},{provide:c_,useValue:i||{}},i?.useHash?{provide:Co,useClass:Dq}:{provide:Co,useClass:MP},{provide:wT,useFactory:()=>{const e=B(V9),t=B(de),n=B(c_),r=B(l_),i=B(Rd);return n.scrollOffset&&e.setOffset(n.scrollOffset),new a$(i,r,e,t,n)}},i?.preloadingStrategy?fde(i.preloadingStrategy).\u0275providers:[],{provide:XR,multi:!0,useFactory:gde},i?.initialNavigation?bde(i):[],i?.bindToComponentInputs?ds(8,[$V,{provide:r_,useExisting:$V}]).\u0275providers:[],[{provide:p$,useFactory:c$},{provide:Fv,multi:!0,useExisting:p$}]]}}static forChild(r){return{ngModule:t,providers:[{provide:tc,multi:!0,useValue:r}]}}}return(e=t).\u0275fac=function(r){return new(r||e)(R(f$,8))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})();function vde(e){return"guarded"}function bde(e){return["disabled"===e.initialNavigation?ds(3,[{provide:Av,multi:!0,useFactory:()=>{const t=B(Pn);return()=>{t.setUpLocationChangeListener()}}},{provide:DT,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ds(2,[{provide:DT,useValue:0},{provide:Av,multi:!0,deps:[Rt],useFactory:t=>{const n=t.get(bq,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Pn),s=t.get(u$);i$(i,()=>{r(!0)}),t.get(l_).afterPreactivation=()=>(r(!0),s.closed?J(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const p$=new U(""),Dde=["addListener","removeListener"],Cde=["addEventListener","removeEventListener"],Ede=["on","off"];function dn(e,t,n,r){if(he(n)&&(r=n,n=void 0),r)return dn(e,t,n).pipe(QE(r));const[i,s]=function Sde(e){return he(e.addEventListener)&&he(e.removeEventListener)}(e)?Cde.map(o=>a=>e[o](t,a,n)):function Tde(e){return he(e.addListener)&&he(e.removeListener)}(e)?Dde.map(g$(e,t)):function Ide(e){return he(e.on)&&he(e.off)}(e)?Ede.map(g$(e,t)):[];if(!i&&Q_(e))return Ft(o=>dn(o,t,n))(kt(e));if(!i)throw new TypeError("Invalid event target");return new Pe(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function g$(e,t){return n=>r=>e[n](t,r)}const{isArray:Mde}=Array;function m$(e){return 1===e.length&&Mde(e[0])?e[0]:e}function CT(...e){const t=wf(e),n=m$(e);return n.length?new Pe(r=>{let i=n.map(()=>[]),s=n.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<n.length;o++)kt(n[o]).subscribe(Qe(r,a=>{if(i[o].push(a),i.every(l=>l.length)){const l=i.map(c=>c.shift());r.next(t?t(...l):l),i.some((c,u)=>!c.length&&s[u])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):mr}function ET(...e){const t=wf(e);return ot((n,r)=>{const i=e.length,s=new Array(i);let o=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)kt(e[l]).subscribe(Qe(r,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(xr))&&(o=null))},ro));n.subscribe(Qe(r,l=>{if(a){const c=[l,...s];r.next(t?t(...c):c)}}))})}Math,Math,Math;const Ghe=["*"],bpe=["dialog"];function aa(e){return"string"==typeof e}function la(e){return null!=e}function ac(e){return(e||document.body).getBoundingClientRect()}const GU={animation:!0,transitionTimerDelayMs:5},fge=()=>{},{transitionTimerDelayMs:hge}=GU,nf=new Map,Xn=(e,t,n,r)=>{let i=r.context||{};const s=nf.get(t);if(s)switch(r.runningTransition){case"continue":return mr;case"stop":e.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),nf.delete(t)}const o=n(t,r.animation,i)||fge;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>o()),J(void 0).pipe(function uge(e){return t=>new Pe(n=>t.subscribe({next:o=>e.run(()=>n.next(o)),error:o=>e.run(()=>n.error(o)),complete:()=>e.run(()=>n.complete())}))}(e));const a=new xe,l=new xe,c=a.pipe(function Nde(...e){return t=>Sd(t,J(...e))}(!0));nf.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const u=function dge(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(n))}(t);return e.runOutsideAngular(()=>{const d=dn(t,"transitionend").pipe(At(c),Zt(({target:h})=>h===t));(function y$(...e){return 1===(e=m$(e)).length?kt(e[0]):new Pe(function Ode(e){return t=>{let n=[];for(let r=0;n&&!t.closed&&r<e.length;r++)n.push(kt(e[r]).subscribe(Qe(t,i=>{if(n){for(let s=0;s<n.length;s++)s!==r&&n[s].unsubscribe();n=null}t.next(i)})))}}(e))})(function _$(e=0,t,n=vte){let r=-1;return null!=t&&(OI(t)?n=t:r=t),new Pe(i=>{let s=function Ade(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(u+hge).pipe(At(c)),d,l).pipe(At(c)).subscribe(()=>{nf.delete(t),e.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let C_=(()=>{var e;class t{constructor(){this.animation=GU.animation}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),XU=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),ej=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),rj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),ij=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})();var Ye=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Ye||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const dj=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function fj(e){const t=Array.from(e.querySelectorAll(dj)).filter(n=>-1!==n.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Tj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),Aj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})();class ha{constructor(t,n,r){this.nodes=t,this.viewRef=n,this.componentRef=r}}let f_e=(()=>{var e;class t{constructor(r,i){this._el=r,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(un(1)).subscribe(()=>{Xn(this._zone,this._el.nativeElement,(r,i)=>{i&&ac(r),r.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Xn(this._zone,this._el.nativeElement,({classList:r})=>r.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return(e=t).\u0275fac=function(r){return new(r||e)(y(Le),y(de))},e.\u0275cmp=gn({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(mo("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Ie("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Tr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),t})();class Mj{update(t){}close(t){}dismiss(t){}}const h_e=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],p_e=["animation","backdropClass"];class g_e{_applyWindowOptions(t,n){h_e.forEach(r=>{la(n[r])&&(t[r]=n[r])})}_applyBackdropOptions(t,n){p_e.forEach(r=>{la(n[r])&&(t[r]=n[r])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(At(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(At(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,r,i){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new xe,this._dismissed=new xe,this._hidden=new xe,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function $U(e){return e&&e.then}(n)?!1!==n&&this._dismiss(t):n.then(r=>{!1!==r&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():J(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),CT(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var gI=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(gI||{});let __e=(()=>{var e;class t{constructor(r,i,s){this._document=r,this._elRef=i,this._zone=s,this._closed$=new xe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new z,this.shown=new xe,this.hidden=new xe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":aa(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(r){this.dismissEvent.emit(r)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(un(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:r}=this._elRef,i={animation:this.animation,runningTransition:"stop"},a=CT(Xn(this._zone,r,()=>r.classList.remove("show"),i),Xn(this._zone,this._dialogEl.nativeElement,()=>{},i));return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){const r={animation:this.animation,runningTransition:"continue"};CT(Xn(this._zone,this._elRef.nativeElement,(o,a)=>{a&&ac(o),o.classList.add("show")},r),Xn(this._zone,this._dialogEl.nativeElement,()=>{},r)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:r}=this._elRef;this._zone.runOutsideAngular(()=>{dn(r,"keydown").pipe(At(this._closed$),Zt(s=>s.which===Ye.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(gI.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;dn(this._dialogEl.nativeElement,"mousedown").pipe(At(this._closed$),$t(()=>i=!1),kr(()=>dn(r,"mouseup").pipe(At(this._closed$),un(1))),Zt(({target:s})=>r===s)).subscribe(()=>{i=!0}),dn(r,"click").pipe(At(this._closed$)).subscribe(({target:s})=>{r===s&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(gI.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:r}=this._elRef;if(!r.contains(document.activeElement)){const i=r.querySelector("[ngbAutofocus]"),s=fj(r)[0];(i||s||r).focus()}}_restoreFocus(){const r=this._document.body,i=this._elWithFocus;let s;s=i&&i.focus&&r.contains(i)?i:r,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Xn(this._zone,this._elRef.nativeElement,({classList:r})=>(r.add("modal-static"),()=>r.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return(e=t).\u0275fac=function(r){return new(r||e)(y(It),y(Le),y(de))},e.\u0275cmp=gn({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&Hi(bpe,7),2&r){let s;Me(s=Oe())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Ve("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),mo("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Ie("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Tr],ngContentSelectors:Ghe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function BO(e){const t=S()[Et][_n];if(!t.projection){const r=t.projection=Bc(e?e.length:1,null),i=r.slice();let s=t.child;for(;null!==s;){const o=e?dz(s,e):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),W(0,"div",0,1)(2,"div",2),function VO(e,t=0,n){const r=S(),i=De(),s=rl(i,ye+e,16,null,n||null);null===s.projection&&(s.projection=t),Tm(),(!r[Fi]||Pa())&&32!=(32&s.flags)&&function p8(e,t,n){VA(t[ie],0,t,n,Zm(e,n,t),PA(n.parent||t[_n],n,t))}(i,r,s)}(3),Q()()),2&r&&mo("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),m_e=(()=>{var e;class t{constructor(r){this._document=r}hide(){const r=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,s=i.style,{overflow:o,paddingRight:a}=s;if(r>0){const l=parseFloat(window.getComputedStyle(i).paddingRight);s.paddingRight=`${l+r}px`}return s.overflow="hidden",()=>{r>0&&(s.paddingRight=a),s.overflow=o}}}return(e=t).\u0275fac=function(r){return new(r||e)(R(It))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),y_e=(()=>{var e;class t{constructor(r,i,s,o,a,l,c){this._applicationRef=r,this._injector=i,this._environmentInjector=s,this._document=o,this._scrollBar=a,this._rendererFactory=l,this._ngZone=c,this._activeWindowCmptHasChanged=new xe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new z,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,r=!1)=>{e.runOutsideAngular(()=>{const i=dn(t,"focusin").pipe(At(n),be(s=>s.target));dn(t,"keydown").pipe(At(n),Zt(s=>s.which===Ye.Tab),ET(i)).subscribe(([s,o])=>{const[a,l]=fj(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&dn(t,"click").pipe(At(n),ET(i),be(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const r=this._scrollBarRestoreFn;r&&(this._scrollBarRestoreFn=null,r())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(r,i,s){const o=s.container instanceof HTMLElement?s.container:la(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const l=new Mj,c=(r=s.injector||r).get(Hn,null)||this._environmentInjector,u=this._getContentRef(r,c,i,l,s);let d=!1!==s.backdrop?this._attachBackdrop(o):void 0,f=this._attachWindowComponent(o,u.nodes),h=new g_e(f,u,d,s.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(f),h.hidden.pipe(un(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=p=>{h.close(p)},l.dismiss=p=>{h.dismiss(p)},l.update=p=>{h.update(p)},h.update(s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(r){this._modalRefs.forEach(i=>i.dismiss(r))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(r){let i=Hv(f_e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),r.appendChild(i.location.nativeElement),i}_attachWindowComponent(r,i){let s=Hv(__e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(s.hostView),r.appendChild(s.location.nativeElement),s}_getContentRef(r,i,s,o,a){return s?s instanceof ct?this._createFromTemplateRef(s,o):aa(s)?this._createFromString(s):this._createFromComponent(r,i,s,o,a):new ha([])}_createFromTemplateRef(r,i){const o=r.createEmbeddedView({$implicit:i,close(a){i.close(a)},dismiss(a){i.dismiss(a)}});return this._applicationRef.attachView(o),new ha([o.rootNodes],o)}_createFromString(r){const i=this._document.createTextNode(`${r}`);return new ha([[i]])}_createFromComponent(r,i,s,o,a){const c=Hv(s,{environmentInjector:i,elementInjector:Rt.create({providers:[{provide:Mj,useValue:o}],parent:r})}),u=c.location.nativeElement;return a.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new ha([[u]],c.hostView,c)}_setAriaHidden(r){const i=r.parentElement;i&&r!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==r&&"SCRIPT"!==s.nodeName&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((r,i)=>{r?i.setAttribute("aria-hidden",r):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(r){const i=()=>{const s=this._modalRefs.indexOf(r);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(r),this._activeInstances.emit(this._modalRefs),r.result.then(i,i)}_registerWindowCmpt(r){this._windowCmpts.push(r),this._activeWindowCmptHasChanged.next(),r.onDestroy(()=>{const i=this._windowCmpts.indexOf(r);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return(e=t).\u0275fac=function(r){return new(r||e)(R(Gi),R(Rt),R(Hn),R(It),R(m_e),R(Xa),R(de))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),v_e=(()=>{var e;class t{constructor(r){this._ngbConfig=r,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(r){this._animation=r}}return(e=t).\u0275fac=function(r){return new(r||e)(R(C_))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),b_e=(()=>{var e;class t{constructor(r,i,s){this._injector=r,this._modalStack=i,this._config=s}open(r,i={}){const s={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,r,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(r){this._modalStack.dismissAll(r)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return(e=t).\u0275fac=function(r){return new(r||e)(R(Rt),R(y_e),R(v_e))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Oj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({providers:[b_e]}),t})(),w_e=(()=>{var e;class t{constructor(r){this._ngbConfig=r,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(r){this._animation=r}}return(e=t).\u0275fac=function(r){return new(r||e)(R(C_))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Nj=e=>la(e)&&""!==e;let D_e=0,Rj=(()=>{var e;class t{constructor(r){this.templateRef=r}}return(e=t).\u0275fac=function(r){return new(r||e)(y(ct))},e.\u0275dir=O({type:e,selectors:[["ng-template","ngbNavContent",""]],standalone:!0}),t})(),Pj=(()=>{var e;class t{constructor(r,i){this.role=r,this.nav=i}}return(e=t).\u0275fac=function(r){return new(r||e)(fo("role"),y(oe(()=>pa)))},e.\u0275dir=O({type:e,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(r,i){2&r&&Ve("role",i.role?i.role:i.nav.roles?"presentation":void 0)},standalone:!0}),t})(),uc=(()=>{var e;class t{constructor(r,i){this._nav=r,this.elementRef=i,this.disabled=!1,this.shown=new z,this.hidden=new z}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){la(this.domId)||(this.domId="ngb-nav-"+D_e++)}get active(){return this._nav.activeId===this.id}get id(){return Nj(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(la(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return(e=t).\u0275fac=function(r){return new(r||e)(y(oe(()=>pa)),y(Le))},e.\u0275dir=O({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(r,i,s){if(1&r&&ut(s,Rj,4),2&r){let o;Me(o=Oe())&&(i.contentTpls=o)}},hostVars:2,hostBindings:function(r,i){2&r&&Ie("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0}),t})(),pa=(()=>{var e;class t{constructor(r,i,s,o){this.role=r,this._cd=s,this._document=o,this.activeIdChange=new z,this.shown=new z,this.hidden=new z,this.destroy$=new xe,this.navItemChange$=new xe,this.navChange=new z,this.animation=i.animation,this.destroyOnHide=i.destroyOnHide,this.orientation=i.orientation,this.roles=i.roles,this.keyboard=i.keyboard}click(r){r.disabled||this._updateActiveId(r.id)}onKeyDown(r){if("tablist"!==this.roles||!this.keyboard)return;const i=r.which,s=this.links.filter(l=>!l.navItem.disabled),{length:o}=s;let a=-1;if(s.forEach((l,c)=>{l.elRef.nativeElement===this._document.activeElement&&(a=c)}),o){switch(i){case Ye.ArrowLeft:if("vertical"===this.orientation)return;a=(a-1+o)%o;break;case Ye.ArrowRight:if("vertical"===this.orientation)return;a=(a+1)%o;break;case Ye.ArrowDown:if("horizontal"===this.orientation)return;a=(a+1)%o;break;case Ye.ArrowUp:if("horizontal"===this.orientation)return;a=(a-1+o)%o;break;case Ye.Home:a=0;break;case Ye.End:a=o-1}"changeWithArrows"===this.keyboard&&this.select(s[a].navItem.id),s[a].elRef.nativeElement.focus(),r.preventDefault()}}select(r){this._updateActiveId(r,!1)}ngAfterContentInit(){if(!la(this.activeId)){const r=this.items.first?this.items.first.id:null;Nj(r)&&(this._updateActiveId(r,!1),this._cd.detectChanges())}this.items.changes.pipe(At(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:r}){r&&!r.firstChange&&this._notifyItemChanged(r.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(r,i=!0){if(this.activeId!==r){let s=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:r,preventDefault:()=>{s=!0}}),s||(this.activeId=r,this.activeIdChange.emit(r),this._notifyItemChanged(r))}}_notifyItemChanged(r){this.navItemChange$.next(this._getItemById(r))}_getItemById(r){return this.items&&this.items.find(i=>i.id===r)||null}}return(e=t).\u0275fac=function(r){return new(r||e)(fo("role"),y(w_e),y(Hr),y(It))},e.\u0275dir=O({type:e,selectors:[["","ngbNav",""]],contentQueries:function(r,i,s){if(1&r&&(ut(s,uc,4),ut(s,lf,5)),2&r){let o;Me(o=Oe())&&(i.items=o),Me(o=Oe())&&(i.links=o)}},hostVars:6,hostBindings:function(r,i){1&r&&ce("keydown.arrowLeft",function(o){return i.onKeyDown(o)})("keydown.arrowRight",function(o){return i.onKeyDown(o)})("keydown.arrowDown",function(o){return i.onKeyDown(o)})("keydown.arrowUp",function(o){return i.onKeyDown(o)})("keydown.Home",function(o){return i.onKeyDown(o)})("keydown.End",function(o){return i.onKeyDown(o)}),2&r&&(Ve("aria-orientation","vertical"===i.orientation&&"tablist"===i.roles?"vertical":void 0)("role",i.role?i.role:i.roles?"tablist":void 0),Ie("nav",!0)("flex-column","vertical"===i.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[nn]}),t})(),lf=(()=>{var e;class t{constructor(r,i,s,o){this.role=r,this.navItem=i,this.nav=s,this.elRef=o}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return(e=t).\u0275fac=function(r){return new(r||e)(fo("role"),y(uc),y(pa),y(Le))},e.\u0275dir=O({type:e,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(r,i){2&r&&(Er("id",i.navItem.domId),Ve("role",i.role?i.role:i.nav.roles?"tab":void 0)("tabindex",i.navItem.disabled?-1:void 0)("aria-controls",i.navItem.isPanelInDom()?i.navItem.panelDomId:null)("aria-selected",i.navItem.active)("aria-disabled",i.navItem.disabled),Ie("nav-link",!0)("nav-item",i.hasNavItemClass())("active",i.navItem.active)("disabled",i.navItem.disabled))},standalone:!0}),t})(),xj=(()=>{var e;class t{constructor(r,i){this.navItem=r,this.nav=i}}return(e=t).\u0275fac=function(r){return new(r||e)(y(uc),y(pa))},e.\u0275dir=O({type:e,selectors:[["button","ngbNavLink",""]],hostAttrs:["type","button"],hostVars:1,hostBindings:function(r,i){1&r&&ce("click",function(){return i.nav.click(i.navItem)}),2&r&&Er("disabled",i.navItem.disabled)},standalone:!0,features:[tu([lf])]}),t})(),kj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),Hj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),zj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),Wj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),qj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),Kj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),Yj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),Qj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),Jj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})();new U("live announcer delay",{providedIn:"root",factory:function F_e(){return 100}});let Zj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})(),Xj=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({}),t})();const B_e=[XU,ej,rj,ij,Tj,Aj,Oj,kj,Xj,Hj,zj,Wj,qj,Kj,Yj,Qj,Jj,Zj];let V_e=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ae({imports:[B_e,XU,ej,rj,ij,Tj,Aj,Oj,kj,Xj,Hj,zj,Wj,qj,Kj,Yj,Qj,Jj,Zj]}),t})();const mI=function(){return{ngbNav:!0}},$_e=function(){return{ngbNavLogout:!0}},eH=function(e){return{display:e}};let U_e=(()=>{var e;class t{constructor(r){this.router=r,this.title="todo-list-angular",this.active=1,this.getLocalData=localStorage.getItem("user"),this.parsedLocalData=JSON.parse(this.getLocalData),this.logoutDisplayNone=!1,this.logoutText="",""==this.getLocalData||null==this.getLocalData||null==this.getLocalData?(this.logoutDisplayNone=!0,this.logoutText=""):this.logoutText=this.parsedLocalData.email,setInterval(()=>{switch(this.active){case 1:this.router.navigateByUrl("/add-todo");break;case 2:this.router.navigateByUrl("/login");break;case 3:this.router.navigateByUrl("/signup")}},100)}logout(){1==confirm("Are you sure you want to logout")&&(localStorage.removeItem("user"),window.location.href="/add-todo")}}return(e=t).\u0275fac=function(r){return new(r||e)(y(Pn))},e.\u0275cmp=gn({type:e,selectors:[["app-root"]],decls:17,vars:20,consts:[["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem","ngClass"],["ngbNavLink",""],["ngbNavLink","",3,"ngClass","click"],[2,"position","absolute","left","23rem","top","0.55rem",3,"ngClass"]],template:function(r,i){1&r&&(W(0,"ul",0,1),ce("activeIdChange",function(o){return i.active=o}),W(2,"li",2)(3,"button",3),lt(4,"Add Todo"),Q()(),W(5,"li",2)(6,"button",3),lt(7,"Login"),Q()(),W(8,"li",2)(9,"button",3),lt(10,"Sign up"),Q()(),W(11,"li",2)(12,"button",4),ce("click",function(){return i.logout()}),lt(13,"Logout"),Q()(),W(14,"li",5),lt(15),Q()(),an(16,"router-outlet")),2&r&&(V("activeId",i.active),H(2),V("ngbNavItem",1)("ngClass",pu(12,mI)),H(3),V("ngbNavItem",2)("ngClass",pu(13,mI)),H(3),V("ngbNavItem",3)("ngClass",pu(14,mI)),H(3),V("ngbNavItem",4)("ngClass",pu(15,$_e)),H(1),V("ngClass",wo(16,eH,i.logoutDisplayNone)),H(2),V("ngClass",wo(18,eH,i.logoutDisplayNone)),H(1),yo("Logged in as: ",i.logoutText,""))},dependencies:[jP,pa,uc,Pj,xj,lf,hT],styles:[".ngbNav[_ngcontent-%COMP%]:hover, .ngbNav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#6495ed}.ngbNav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff}.ngbNavLogout[_ngcontent-%COMP%]:hover{background-color:red}.ngbNavLogout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:red}.ngbNavLogout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff}.logoutLi[_ngcontent-%COMP%]{position:absolute;top:1px;right:120px}.logoutBtn[_ngcontent-%COMP%]{position:absolute;top:1px;right:10px}.display[_ngcontent-%COMP%]{display:none}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),t})();const j_e=["errorBox"];let H_e=(()=>{var e;class t{constructor(r,i,s,o){this.auth=r,this.db=i,this.route=s,this.router=o,this.errorBox=this.route.data.subscribe(l=>{}),localStorage.getItem("user")&&(window.location.href="/add-todo")}signupUser(r,i,s){if(i==s)return pse(this.auth,r,i).then(o=>{this.UserData=o.user,localStorage.setItem("user",JSON.stringify(this.UserData)),iV(zg(this.db,"todos/"+o.user.uid+"/0/"),{id:0,uid:o.user.uid}),window.location.href="/add-todo"}).catch(o=>{this.errorBox.nativeElement.innerHTML=o.message,setTimeout(()=>{this.errorBox.nativeElement.innerHTML=""},5500)});this.errorBox.nativeElement.innerHTML="Passwords don't match",setTimeout(()=>{this.errorBox.nativeElement.innerHTML=""},5500)}}return(e=t).\u0275fac=function(r){return new(r||e)(y(Xu),y(Id),y(Qs),y(Pn))},e.\u0275cmp=gn({type:e,selectors:[["app-signup"]],viewQuery:function(r,i){if(1&r&&Hi(j_e,5),2&r){let s;Me(s=Oe())&&(i.errorBox=s.first)}},decls:12,vars:0,consts:[[1,"wrapper"],["id","formContent"],["type","text","name","login","placeholder","Enter email",1,"fadeIn","second"],["email",""],["type","text","name","password","placeholder","Enter password",1,"fadeIn","third"],["password",""],["type","text","name","cpassword","placeholder","Confirm password",1,"fadeIn","third",3,"keyup.enter"],["cpassword",""],[1,"d-flex","justify-content-center",2,"color","red","font-size","18px"],["errorBox",""],[1,"btn","btn-primary","fadeIn","fourth",3,"click"]],template:function(r,i){if(1&r){const s=Gn();W(0,"div",0)(1,"div",1),an(2,"input",2,3)(4,"input",4,5),W(6,"input",6,7),ce("keyup.enter",function(){rn(s);const a=_t(3),l=_t(5),c=_t(7);return sn(i.signupUser(a.value,l.value,c.value))}),Q(),an(8,"p",8,9),W(10,"button",10),ce("click",function(){rn(s);const a=_t(3),l=_t(5),c=_t(7);return sn(i.signupUser(a.value,l.value,c.value))}),lt(11,"Signup"),Q()()()}},styles:['html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center;border:1px solid royalblue}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}button[_ngcontent-%COMP%]{border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;border-radius:5px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%], .fadeIn.second[_ngcontent-%COMP%], .fadeIn.third[_ngcontent-%COMP%], .fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:.1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}']}),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const G_e=["errorBox"];let z_e=(()=>{var e;class t{constructor(r,i,s){this.auth=r,this.route=i,this.router=s,this.errorBox=this.route.data.subscribe(a=>{}),localStorage.getItem("user")&&(window.location.href="/add-todo")}loginUser(r,i){return _se(this.auth,r,i).then(s=>{this.UserData=s.user,localStorage.setItem("user",JSON.stringify(this.UserData)),window.location.href="/add-todo"}).catch(s=>{this.errorBox.nativeElement.innerHTML=s.message,setTimeout(()=>{this.errorBox.nativeElement.innerHTML=""},5500)})}}return(e=t).\u0275fac=function(r){return new(r||e)(y(Xu),y(Qs),y(Pn))},e.\u0275cmp=gn({type:e,selectors:[["app-login"]],viewQuery:function(r,i){if(1&r&&Hi(G_e,5),2&r){let s;Me(s=Oe())&&(i.errorBox=s.first)}},decls:10,vars:0,consts:[[1,"wrapper"],["id","formContent"],["type","text","name","login","placeholder","Enter email",1,"fadeIn","second"],["email",""],["type","text","name","password","placeholder","Enter password",1,"fadeIn","third",3,"keyup.enter"],["password",""],[1,"d-flex","justify-content-center",2,"color","red","font-size","18px"],["errorBox",""],[1,"btn","btn-primary","fadeIn","fourth",3,"click"]],template:function(r,i){if(1&r){const s=Gn();W(0,"div",0)(1,"div",1),an(2,"input",2,3),W(4,"input",4,5),ce("keyup.enter",function(){rn(s);const a=_t(3),l=_t(5);return sn(i.loginUser(a.value,l.value))}),Q(),an(6,"p",6,7),W(8,"button",8),ce("click",function(){rn(s);const a=_t(3),l=_t(5);return sn(i.loginUser(a.value,l.value))}),lt(9,"Login"),Q()()()}},styles:['html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center;border:1px solid royalblue}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}button[_ngcontent-%COMP%]{border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;border-radius:5px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%], .fadeIn.second[_ngcontent-%COMP%], .fadeIn.third[_ngcontent-%COMP%], .fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:.1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}']}),t})();function W_e(e,t){if(1&e){const n=Gn();W(0,"div",7)(1,"li",8),lt(2),Q(),W(3,"button",9),ce("click",function(){const s=rn(n).$implicit;return sn(te().removeTodo(s.id))}),lt(4,"Remove"),Q()()}if(2&e){const n=t.$implicit;H(2),hi(n.todo)}}const q_e=[{path:"add-todo",component:(()=>{var e;class t{constructor(r){this.db=r,this.todoList=[],this.todoEmpty="",this.getLocalData=localStorage.getItem("user"),this.parsedLocalData=JSON.parse(this.getLocalData),this.getLocalData&&zle(zg(r,"todos/"+this.parsedLocalData.uid+"/"),i=>{const s=i.val();0==s.id||this.todoList.push({id:s.id,todo:s.todo})})}updateTodo(r,i){r?""==this.getLocalData||null==this.getLocalData||null==this.getLocalData?this.todoList.push({id:this.todoList.length,todo:r}):iV(zg(this.db,"todos/"+this.parsedLocalData.uid+"/"+(this.todoList.length+1)+"/"),{id:this.todoList.length+1,uid:this.parsedLocalData.uid,todo:r}):(i.style.display="block",setTimeout(()=>{i.style.display="none"},3500))}removeTodo(r){this.todoList=this.todoList.filter(i=>i.id!==r),""==this.getLocalData||null==this.getLocalData||null==this.getLocalData||Wle(zg(this.db,"todos/"+this.parsedLocalData.uid+"/"+r+"/"))}}return(e=t).\u0275fac=function(r){return new(r||e)(y(Id))},e.\u0275cmp=gn({type:e,selectors:[["app-add-todo"]],decls:11,vars:1,consts:[[1,"d-flex","justify-content-center"],["placeholder","Add new todo",1,"form-control","w-25","border","border-primary"],["todoBox",""],["type","button",1,"btn","btn-primary",2,"margin-left","2px",3,"click"],[2,"text-align","center","color","red","display","none","font-size","18px"],["todoEmpty",""],["class","d-flex justify-content-center","style","margin-bottom: 10px;",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center",2,"margin-bottom","10px"],[1,"list-group-item","todoli"],["type","button",1,"btn","btn-danger","removeBtn","w-10",3,"click"]],template:function(r,i){if(1&r){const s=Gn();an(0,"br"),W(1,"div",0),an(2,"input",1,2),W(4,"button",3),ce("click",function(){rn(s);const a=_t(3),l=_t(7);return i.updateTodo(a.value,l),sn(a.value="")}),lt(5,"Add Todo"),Q()(),W(6,"p",4,5),lt(8,"Todo cannot be empty."),Q(),an(9,"br"),function q(e,t,n,r,i,s,o,a){const l=S(),c=De(),u=e+ye,d=c.firstCreatePass?function ez(e,t,n,r,i,s,o,a,l){const c=t.consts,u=rl(t,e,4,o||null,ws(c,a));Vy(t,n,u,ws(c,l)),$f(t,u);const d=u.tView=By(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,s,o):c.data[u];ai(d,!1);const f=AO(c,l,d,e);Vf()&&oh(c,l,f,d),mn(f,l),Th(l,l[u]=JM(f,l,f,d)),kf(d)&&Fy(c,l,d),null!=o&&Ly(l,d,a)}(10,W_e,5,1,"div",6)}2&r&&(H(10),V("ngForOf",i.todoList))},dependencies:[Ki],styles:[".removeBtn[_ngcontent-%COMP%]{position:absolute;right:35rem}",".todoli[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    position: relative;\n    right: 20px;\n    font-size: 18px;\n    border-bottom: 1px solid gray;\n}"]}),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),t})()},{path:"signup",component:H_e},{path:"login",component:z_e}];let K_e=(()=>{var e;class t{}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e,bootstrap:[U_e]}),e.\u0275inj=Ae({imports:[hx,xQ,KP,Ote(()=>Nte(Rte_firebase)),hse(()=>gse()),Hle(()=>Gle()),V_e,h$,h$.forRoot(q_e)]}),t})();NK().bootstrapModule(K_e).catch(e=>console.error(e))},614:()=>{const he=":";const bf=function(D,...b){if(bf.translate){const A=bf.translate(D,b);D=A[0],b=A[1]}let E=W_(D[0],D.raw[0]);for(let A=1;A<D.length;A++)E+=b[A-1]+W_(D[A],D.raw[A]);return E},bI=":";function W_(D,b){return b.charAt(0)===bI?D.substring(function mc(D,b){for(let E=1,A=1;E<D.length;E++,A++)if("\\"===b[A])A++;else if(D[E]===he)return E;throw new Error(`Unterminated $localize metadata block in "${b}".`)}(D,b)+1):D}globalThis.$localize=bf}},he=>{var hs=ps=>he(he.s=ps);hs(614),hs(800)}]);